(()=>{var _7=Object.defineProperty,k7=Object.defineProperties;var x7=Object.getOwnPropertyDescriptors;var _u=Object.getOwnPropertySymbols;var W1=Object.prototype.hasOwnProperty,U1=Object.prototype.propertyIsEnumerable;var Ra=Math.pow,B1=(In,Tn,de)=>Tn in In?_7(In,Tn,{enumerable:!0,configurable:!0,writable:!0,value:de}):In[Tn]=de,W=(In,Tn)=>{for(var de in Tn||(Tn={}))W1.call(Tn,de)&&B1(In,de,Tn[de]);if(_u)for(var de of _u(Tn))U1.call(Tn,de)&&B1(In,de,Tn[de]);return In},Te=(In,Tn)=>k7(In,x7(Tn));var gn=(In,Tn)=>{var de={};for(var Fr in In)W1.call(In,Fr)&&Tn.indexOf(Fr)<0&&(de[Fr]=In[Fr]);if(In!=null&&_u)for(var Fr of _u(In))Tn.indexOf(Fr)<0&&U1.call(In,Fr)&&(de[Fr]=In[Fr]);return de};var E7=(In,Tn)=>()=>(Tn||In((Tn={exports:{}}).exports,Tn),Tn.exports);var Sn=(In,Tn,de)=>new Promise((Fr,Ge)=>{var Fe=ce=>{try{J(de.next(ce))}catch(ee){Ge(ee)}},Ve=ce=>{try{J(de.throw(ce))}catch(ee){Ge(ee)}},J=ce=>ce.done?Fr(ce.value):Promise.resolve(ce.value).then(Fe,Ve);J((de=de.apply(In,Tn)).next())});var C7=E7((wa,mh)=>{(function(Tn,de){typeof wa=="object"&&typeof mh=="object"?mh.exports=de():typeof define=="function"&&define.amd?define("FeaturebaseSDK",[],de):typeof wa=="object"?wa.FeaturebaseSDK=de():Tn.FeaturebaseSDK=de()})(typeof self!="undefined"?self:wa,()=>(()=>{var In={5454:Ge=>{"use strict";const{entries:Fe,setPrototypeOf:Ve,isFrozen:J,getPrototypeOf:ce,getOwnPropertyDescriptor:ee}=Object;let{freeze:We,seal:Ye,create:gt}=Object,{apply:Ct,construct:st}=typeof Reflect!="undefined"&&Reflect;We||(We=function(oe){return oe}),Ye||(Ye=function(oe){return oe}),Ct||(Ct=function(oe,ke,re){return oe.apply(ke,re)}),st||(st=function(oe,ke){return new oe(...ke)});const It=dn(Array.prototype.forEach),rn=dn(Array.prototype.pop),$t=dn(Array.prototype.push),pe=dn(String.prototype.toLowerCase),Pt=dn(String.prototype.toString),X=dn(String.prototype.match),un=dn(String.prototype.replace),qt=dn(String.prototype.indexOf),Qn=dn(String.prototype.trim),Jt=dn(Object.prototype.hasOwnProperty),fn=dn(RegExp.prototype.test),er=Br(TypeError);function dn(ue){return function(oe){for(var ke=arguments.length,re=new Array(ke>1?ke-1:0),ht=1;ht<ke;ht++)re[ht-1]=arguments[ht];return Ct(ue,oe,re)}}function Br(ue){return function(){for(var oe=arguments.length,ke=new Array(oe),re=0;re<oe;re++)ke[re]=arguments[re];return st(ue,ke)}}function we(ue,oe){let ke=arguments.length>2&&arguments[2]!==void 0?arguments[2]:pe;Ve&&Ve(ue,null);let re=oe.length;for(;re--;){let ht=oe[re];if(typeof ht=="string"){const $=ke(ht);$!==ht&&(J(oe)||(oe[re]=$),ht=$)}ue[ht]=!0}return ue}function wt(ue){for(let oe=0;oe<ue.length;oe++)Jt(ue,oe)||(ue[oe]=null);return ue}function En(ue){const oe=gt(null);for(const[ke,re]of Fe(ue))Jt(ue,ke)&&(Array.isArray(re)?oe[ke]=wt(re):re&&typeof re=="object"&&re.constructor===Object?oe[ke]=En(re):oe[ke]=re);return oe}function an(ue,oe){for(;ue!==null;){const re=ee(ue,oe);if(re){if(re.get)return dn(re.get);if(typeof re.value=="function")return dn(re.value)}ue=ce(ue)}function ke(){return null}return ke}const Ar=We(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),bt=We(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),_t=We(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),la=We(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),br=We(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Wr=We(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Ur=We(["#text"]),$r=We(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Oe=We(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ne=We(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Be=We(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Tt=Ye(/\{\{[\w\W]*|[\w\W]*\}\}/gm),sr=Ye(/<%[\w\W]*|[\w\W]*%>/gm),vr=Ye(/\$\{[\w\W]*}/gm),Pr=Ye(/^data-[\-\w.\u00B7-\uFFFF]+$/),tr=Ye(/^aria-[\-\w]+$/),Yn=Ye(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),nr=Ye(/^(?:\w+script|data):/i),Hr=Ye(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Vr=Ye(/^html$/i),K=Ye(/^[a-z][.\w]*(-[.\w]+)+$/i);var V=Object.freeze({__proto__:null,ARIA_ATTR:tr,ATTR_WHITESPACE:Hr,CUSTOM_ELEMENT:K,DATA_ATTR:Pr,DOCTYPE_NAME:Vr,ERB_EXPR:sr,IS_ALLOWED_URI:Yn,IS_SCRIPT_OR_DATA:nr,MUSTACHE_EXPR:Tt,TMPLIT_EXPR:vr});const le={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},xe=function(){return typeof window=="undefined"?null:window},_e=function(oe,ke){if(typeof oe!="object"||typeof oe.createPolicy!="function")return null;let re=null;const ht="data-tt-policy-suffix";ke&&ke.hasAttribute(ht)&&(re=ke.getAttribute(ht));const $="dompurify"+(re?"#"+re:"");try{return oe.createPolicy($,{createHTML(ne){return ne},createScriptURL(ne){return ne}})}catch(ne){return console.warn("TrustedTypes policy "+$+" could not be created."),null}},H=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function ie(){let ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:xe();const oe=vt=>ie(vt);if(oe.version="3.2.3",oe.removed=[],!ue||!ue.document||ue.document.nodeType!==le.document)return oe.isSupported=!1,oe;let{document:ke}=ue;const re=ke,ht=re.currentScript,{DocumentFragment:$,HTMLTemplateElement:ne,Node:fe,Element:me,NodeFilter:Se,NamedNodeMap:Ze=ue.NamedNodeMap||ue.MozNamedAttrMap,HTMLFormElement:At,DOMParser:bn,trustedTypes:Ue}=ue,$e=me.prototype,vn=an($e,"cloneNode"),Cn=an($e,"remove"),Mn=an($e,"nextSibling"),lr=an($e,"childNodes"),Ln=an($e,"parentNode");if(typeof ne=="function"){const vt=ke.createElement("template");vt.content&&vt.content.ownerDocument&&(ke=vt.content.ownerDocument)}let hn,ca="";const{implementation:Ir,createNodeIterator:yr,createDocumentFragment:Vt,getElementsByTagName:mt}=ke,{importNode:Ke}=re;let at=H();oe.isSupported=typeof Fe=="function"&&typeof Ln=="function"&&Ir&&Ir.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Zt,ERB_EXPR:on,TMPLIT_EXPR:Pn,DATA_ATTR:wr,ARIA_ATTR:qr,IS_SCRIPT_OR_DATA:Pa,ATTR_WHITESPACE:uo,CUSTOM_ELEMENT:Cl}=V;let{IS_ALLOWED_URI:Sl}=V,Qe=null;const Tl=we({},[...Ar,...bt,..._t,...br,...Ur]);let cr=null;const os=we({},[...$r,...Oe,...Ne,...Be]);let Jn=Object.seal(gt(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ho=null,si=null,Al=!0,is=!0,Ol=!1,Nl=!0,fo=!1,ss=!0,Va=!1,ls=!1,cs=!1,ho=!1,li=!1,ci=!1,Rl=!0,Pl=!1;const ku="user-content-";let us=!0,Vo=!1,mo={},po=null;const Il=we({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ml=null;const Ll=we({},["audio","video","img","source","image","track"]);let ds=null;const Dl=we({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),qo="http://www.w3.org/1998/Math/MathML",ui="http://www.w3.org/2000/svg",_a="http://www.w3.org/1999/xhtml";let go=_a,fs=!1,jl=null;const ph=we({},[qo,ui,_a],Pt);let hs=we({},["mi","mo","mn","ms","mtext"]),ms=we({},["annotation-xml"]);const gh=we({},["title","style","font","a","script"]);let U=null;const zl=["application/xhtml+xml","text/html"],Ia="text/html";let rr=null,bo=null;const xu=ke.createElement("form"),Fl=function(Y){return Y instanceof RegExp||Y instanceof Function},ps=function(){let Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(bo&&bo===Y)){if((!Y||typeof Y!="object")&&(Y={}),Y=En(Y),U=zl.indexOf(Y.PARSER_MEDIA_TYPE)===-1?Ia:Y.PARSER_MEDIA_TYPE,rr=U==="application/xhtml+xml"?Pt:pe,Qe=Jt(Y,"ALLOWED_TAGS")?we({},Y.ALLOWED_TAGS,rr):Tl,cr=Jt(Y,"ALLOWED_ATTR")?we({},Y.ALLOWED_ATTR,rr):os,jl=Jt(Y,"ALLOWED_NAMESPACES")?we({},Y.ALLOWED_NAMESPACES,Pt):ph,ds=Jt(Y,"ADD_URI_SAFE_ATTR")?we(En(Dl),Y.ADD_URI_SAFE_ATTR,rr):Dl,Ml=Jt(Y,"ADD_DATA_URI_TAGS")?we(En(Ll),Y.ADD_DATA_URI_TAGS,rr):Ll,po=Jt(Y,"FORBID_CONTENTS")?we({},Y.FORBID_CONTENTS,rr):Il,Ho=Jt(Y,"FORBID_TAGS")?we({},Y.FORBID_TAGS,rr):{},si=Jt(Y,"FORBID_ATTR")?we({},Y.FORBID_ATTR,rr):{},mo=Jt(Y,"USE_PROFILES")?Y.USE_PROFILES:!1,Al=Y.ALLOW_ARIA_ATTR!==!1,is=Y.ALLOW_DATA_ATTR!==!1,Ol=Y.ALLOW_UNKNOWN_PROTOCOLS||!1,Nl=Y.ALLOW_SELF_CLOSE_IN_ATTR!==!1,fo=Y.SAFE_FOR_TEMPLATES||!1,ss=Y.SAFE_FOR_XML!==!1,Va=Y.WHOLE_DOCUMENT||!1,ho=Y.RETURN_DOM||!1,li=Y.RETURN_DOM_FRAGMENT||!1,ci=Y.RETURN_TRUSTED_TYPE||!1,cs=Y.FORCE_BODY||!1,Rl=Y.SANITIZE_DOM!==!1,Pl=Y.SANITIZE_NAMED_PROPS||!1,us=Y.KEEP_CONTENT!==!1,Vo=Y.IN_PLACE||!1,Sl=Y.ALLOWED_URI_REGEXP||Yn,go=Y.NAMESPACE||_a,hs=Y.MATHML_TEXT_INTEGRATION_POINTS||hs,ms=Y.HTML_INTEGRATION_POINTS||ms,Jn=Y.CUSTOM_ELEMENT_HANDLING||{},Y.CUSTOM_ELEMENT_HANDLING&&Fl(Y.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Jn.tagNameCheck=Y.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Y.CUSTOM_ELEMENT_HANDLING&&Fl(Y.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Jn.attributeNameCheck=Y.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Y.CUSTOM_ELEMENT_HANDLING&&typeof Y.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Jn.allowCustomizedBuiltInElements=Y.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),fo&&(is=!1),li&&(ho=!0),mo&&(Qe=we({},Ur),cr=[],mo.html===!0&&(we(Qe,Ar),we(cr,$r)),mo.svg===!0&&(we(Qe,bt),we(cr,Oe),we(cr,Be)),mo.svgFilters===!0&&(we(Qe,_t),we(cr,Oe),we(cr,Be)),mo.mathMl===!0&&(we(Qe,br),we(cr,Ne),we(cr,Be))),Y.ADD_TAGS&&(Qe===Tl&&(Qe=En(Qe)),we(Qe,Y.ADD_TAGS,rr)),Y.ADD_ATTR&&(cr===os&&(cr=En(cr)),we(cr,Y.ADD_ATTR,rr)),Y.ADD_URI_SAFE_ATTR&&we(ds,Y.ADD_URI_SAFE_ATTR,rr),Y.FORBID_CONTENTS&&(po===Il&&(po=En(po)),we(po,Y.FORBID_CONTENTS,rr)),us&&(Qe["#text"]=!0),Va&&we(Qe,["html","head","body"]),Qe.table&&(we(Qe,["tbody"]),delete Ho.tbody),Y.TRUSTED_TYPES_POLICY){if(typeof Y.TRUSTED_TYPES_POLICY.createHTML!="function")throw er('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Y.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw er('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');hn=Y.TRUSTED_TYPES_POLICY,ca=hn.createHTML("")}else hn===void 0&&(hn=_e(Ue,ht)),hn!==null&&typeof ca=="string"&&(ca=hn.createHTML(""));We&&We(Y),bo=Y}},ar=we({},[...bt,..._t,...la]),Go=we({},[...br,...Wr]),Eu=function(Y){let Me=Ln(Y);(!Me||!Me.tagName)&&(Me={namespaceURI:go,tagName:"template"});const ct=pe(Y.tagName),An=pe(Me.tagName);return jl[Y.namespaceURI]?Y.namespaceURI===ui?Me.namespaceURI===_a?ct==="svg":Me.namespaceURI===qo?ct==="svg"&&(An==="annotation-xml"||hs[An]):!!ar[ct]:Y.namespaceURI===qo?Me.namespaceURI===_a?ct==="math":Me.namespaceURI===ui?ct==="math"&&ms[An]:!!Go[ct]:Y.namespaceURI===_a?Me.namespaceURI===ui&&!ms[An]||Me.namespaceURI===qo&&!hs[An]?!1:!Go[ct]&&(gh[ct]||!ar[ct]):!!(U==="application/xhtml+xml"&&jl[Y.namespaceURI]):!1},ra=function(Y){$t(oe.removed,{element:Y});try{Ln(Y).removeChild(Y)}catch(Me){Cn(Y)}},qa=function(Y,Me){try{$t(oe.removed,{attribute:Me.getAttributeNode(Y),from:Me})}catch(ct){$t(oe.removed,{attribute:null,from:Me})}if(Me.removeAttribute(Y),Y==="is")if(ho||li)try{ra(Me)}catch(ct){}else try{Me.setAttribute(Y,"")}catch(ct){}},Bl=function(Y){let Me=null,ct=null;if(cs)Y="<remove></remove>"+Y;else{const _n=X(Y,/^[\r\n\t ]+/);ct=_n&&_n[0]}U==="application/xhtml+xml"&&go===_a&&(Y='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Y+"</body></html>");const An=hn?hn.createHTML(Y):Y;if(go===_a)try{Me=new bn().parseFromString(An,U)}catch(_n){}if(!Me||!Me.documentElement){Me=Ir.createDocument(go,"template",null);try{Me.documentElement.innerHTML=fs?ca:An}catch(_n){}}const Dn=Me.body||Me.documentElement;return Y&&ct&&Dn.insertBefore(ke.createTextNode(ct),Dn.childNodes[0]||null),go===_a?mt.call(Me,Va?"html":"body")[0]:Va?Me.documentElement:Dn},gs=function(Y){return yr.call(Y.ownerDocument||Y,Y,Se.SHOW_ELEMENT|Se.SHOW_COMMENT|Se.SHOW_TEXT|Se.SHOW_PROCESSING_INSTRUCTION|Se.SHOW_CDATA_SECTION,null)},bs=function(Y){return Y instanceof At&&(typeof Y.nodeName!="string"||typeof Y.textContent!="string"||typeof Y.removeChild!="function"||!(Y.attributes instanceof Ze)||typeof Y.removeAttribute!="function"||typeof Y.setAttribute!="function"||typeof Y.namespaceURI!="string"||typeof Y.insertBefore!="function"||typeof Y.hasChildNodes!="function")},Wl=function(Y){return typeof fe=="function"&&Y instanceof fe};function ka(vt,Y,Me){It(vt,ct=>{ct.call(oe,Y,Me,bo)})}const vs=function(Y){let Me=null;if(ka(at.beforeSanitizeElements,Y,null),bs(Y))return ra(Y),!0;const ct=rr(Y.nodeName);if(ka(at.uponSanitizeElement,Y,{tagName:ct,allowedTags:Qe}),Y.hasChildNodes()&&!Wl(Y.firstElementChild)&&fn(/<[/\w]/g,Y.innerHTML)&&fn(/<[/\w]/g,Y.textContent)||Y.nodeType===le.progressingInstruction||ss&&Y.nodeType===le.comment&&fn(/<[/\w]/g,Y.data))return ra(Y),!0;if(!Qe[ct]||Ho[ct]){if(!Ho[ct]&&Ga(ct)&&(Jn.tagNameCheck instanceof RegExp&&fn(Jn.tagNameCheck,ct)||Jn.tagNameCheck instanceof Function&&Jn.tagNameCheck(ct)))return!1;if(us&&!po[ct]){const An=Ln(Y)||Y.parentNode,Dn=lr(Y)||Y.childNodes;if(Dn&&An){const _n=Dn.length;for(let jn=_n-1;jn>=0;--jn){const Qr=vn(Dn[jn],!0);Qr.__removalCount=(Y.__removalCount||0)+1,An.insertBefore(Qr,Mn(Y))}}}return ra(Y),!0}return Y instanceof me&&!Eu(Y)||(ct==="noscript"||ct==="noembed"||ct==="noframes")&&fn(/<\/no(script|embed|frames)/i,Y.innerHTML)?(ra(Y),!0):(fo&&Y.nodeType===le.text&&(Me=Y.textContent,It([Zt,on,Pn],An=>{Me=un(Me,An," ")}),Y.textContent!==Me&&($t(oe.removed,{element:Y.cloneNode()}),Y.textContent=Me)),ka(at.afterSanitizeElements,Y,null),!1)},ys=function(Y,Me,ct){if(Rl&&(Me==="id"||Me==="name")&&(ct in ke||ct in xu))return!1;if(!(is&&!si[Me]&&fn(wr,Me))){if(!(Al&&fn(qr,Me))){if(!cr[Me]||si[Me]){if(!(Ga(Y)&&(Jn.tagNameCheck instanceof RegExp&&fn(Jn.tagNameCheck,Y)||Jn.tagNameCheck instanceof Function&&Jn.tagNameCheck(Y))&&(Jn.attributeNameCheck instanceof RegExp&&fn(Jn.attributeNameCheck,Me)||Jn.attributeNameCheck instanceof Function&&Jn.attributeNameCheck(Me))||Me==="is"&&Jn.allowCustomizedBuiltInElements&&(Jn.tagNameCheck instanceof RegExp&&fn(Jn.tagNameCheck,ct)||Jn.tagNameCheck instanceof Function&&Jn.tagNameCheck(ct))))return!1}else if(!ds[Me]){if(!fn(Sl,un(ct,uo,""))){if(!((Me==="src"||Me==="xlink:href"||Me==="href")&&Y!=="script"&&qt(ct,"data:")===0&&Ml[Y])){if(!(Ol&&!fn(Pa,un(ct,uo,"")))){if(ct)return!1}}}}}}return!0},Ga=function(Y){return Y!=="annotation-xml"&&X(Y,Cl)},Mr=function(Y){ka(at.beforeSanitizeAttributes,Y,null);const{attributes:Me}=Y;if(!Me||bs(Y))return;const ct={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:cr,forceKeepAttr:void 0};let An=Me.length;for(;An--;){const Dn=Me[An],{name:_n,namespaceURI:jn,value:Qr}=Dn,vo=rr(_n);let $n=_n==="value"?Qr:Qn(Qr);if(ct.attrName=vo,ct.attrValue=$n,ct.keepAttr=!0,ct.forceKeepAttr=void 0,ka(at.uponSanitizeAttribute,Y,ct),$n=ct.attrValue,Pl&&(vo==="id"||vo==="name")&&(qa(_n,Y),$n=ku+$n),ss&&fn(/((--!?|])>)|<\/(style|title)/i,$n)){qa(_n,Y);continue}if(ct.forceKeepAttr||(qa(_n,Y),!ct.keepAttr))continue;if(!Nl&&fn(/\/>/i,$n)){qa(_n,Y);continue}fo&&It([Zt,on,Pn],_s=>{$n=un($n,_s," ")});const ws=rr(Y.nodeName);if(ys(ws,vo,$n)){if(hn&&typeof Ue=="object"&&typeof Ue.getAttributeType=="function"&&!jn)switch(Ue.getAttributeType(ws,vo)){case"TrustedHTML":{$n=hn.createHTML($n);break}case"TrustedScriptURL":{$n=hn.createScriptURL($n);break}}try{jn?Y.setAttributeNS(jn,_n,$n):Y.setAttribute(_n,$n),bs(Y)?ra(Y):rn(oe.removed)}catch(_s){}}}ka(at.afterSanitizeAttributes,Y,null)},di=function vt(Y){let Me=null;const ct=gs(Y);for(ka(at.beforeSanitizeShadowDOM,Y,null);Me=ct.nextNode();)ka(at.uponSanitizeShadowNode,Me,null),vs(Me),Mr(Me),Me.content instanceof $&&vt(Me.content);ka(at.afterSanitizeShadowDOM,Y,null)};return oe.sanitize=function(vt){let Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Me=null,ct=null,An=null,Dn=null;if(fs=!vt,fs&&(vt="<!-->"),typeof vt!="string"&&!Wl(vt))if(typeof vt.toString=="function"){if(vt=vt.toString(),typeof vt!="string")throw er("dirty is not a string, aborting")}else throw er("toString is not a function");if(!oe.isSupported)return vt;if(ls||ps(Y),oe.removed=[],typeof vt=="string"&&(Vo=!1),Vo){if(vt.nodeName){const Qr=rr(vt.nodeName);if(!Qe[Qr]||Ho[Qr])throw er("root node is forbidden and cannot be sanitized in-place")}}else if(vt instanceof fe)Me=Bl("<!---->"),ct=Me.ownerDocument.importNode(vt,!0),ct.nodeType===le.element&&ct.nodeName==="BODY"||ct.nodeName==="HTML"?Me=ct:Me.appendChild(ct);else{if(!ho&&!fo&&!Va&&vt.indexOf("<")===-1)return hn&&ci?hn.createHTML(vt):vt;if(Me=Bl(vt),!Me)return ho?null:ci?ca:""}Me&&cs&&ra(Me.firstChild);const _n=gs(Vo?vt:Me);for(;An=_n.nextNode();)vs(An),Mr(An),An.content instanceof $&&di(An.content);if(Vo)return vt;if(ho){if(li)for(Dn=Vt.call(Me.ownerDocument);Me.firstChild;)Dn.appendChild(Me.firstChild);else Dn=Me;return(cr.shadowroot||cr.shadowrootmode)&&(Dn=Ke.call(re,Dn,!0)),Dn}let jn=Va?Me.outerHTML:Me.innerHTML;return Va&&Qe["!doctype"]&&Me.ownerDocument&&Me.ownerDocument.doctype&&Me.ownerDocument.doctype.name&&fn(Vr,Me.ownerDocument.doctype.name)&&(jn="<!DOCTYPE "+Me.ownerDocument.doctype.name+`>
`+jn),fo&&It([Zt,on,Pn],Qr=>{jn=un(jn,Qr," ")}),hn&&ci?hn.createHTML(jn):jn},oe.setConfig=function(){let vt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ps(vt),ls=!0},oe.clearConfig=function(){bo=null,ls=!1},oe.isValidAttribute=function(vt,Y,Me){bo||ps({});const ct=rr(vt),An=rr(Y);return ys(ct,An,Me)},oe.addHook=function(vt,Y){typeof Y=="function"&&$t(at[vt],Y)},oe.removeHook=function(vt){return rn(at[vt])},oe.removeHooks=function(vt){at[vt]=[]},oe.removeAllHooks=function(){at=H()},oe}var Ce=ie();Ge.exports=Ce},5200:(Ge,Fe,Ve)=>{"use strict";Ve.d(Fe,{T:()=>ce});const J={en:{feedback:"Feedback",highlight:"Highlight",comment:"Comment",draw:"Draw",hide:"Hide",done:"Done","type-your-text-here":"Type your text here..."},de:{feedback:"Feedback",highlight:"Markieren",comment:"Kommentar",draw:"Zeichnen",hide:"Verstecken",done:"Fertig","type-your-text-here":"Geben Sie hier Ihren Text ein..."},es:{feedback:"Comentarios",highlight:"Resaltar",comment:"Comentario",draw:"Dibujar",hide:"Ocultar",done:"Listo","type-your-text-here":"Escriba su texto aqu\xED..."},et:{feedback:"Tagasiside",highlight:"Esilet\xF5stmine",comment:"Kommentaar",draw:"Joonista",hide:"Peida",done:"Valmis","type-your-text-here":"Kirjutage oma tekst siia..."},fr:{feedback:"Avis",highlight:"Surligner",comment:"Commentaire",draw:"Dessiner",hide:"Cacher",done:"Termin\xE9","type-your-text-here":"Tapez votre texte ici..."},ko:{feedback:"\uD53C\uB4DC\uBC31",highlight:"\uAC15\uC870",comment:"\uB313\uAE00",draw:"\uADF8\uB9AC\uAE30",hide:"\uC228\uAE30\uAE30",done:"\uC644\uB8CC","type-your-text-here":"\uC5EC\uAE30\uC5D0 \uD14D\uC2A4\uD2B8\uB97C \uC785\uB825\uD558\uC138\uC694..."},nl:{feedback:"Feedback",highlight:"Markeren",comment:"Opmerking",draw:"Tekenen",hide:"Verbergen",done:"Gereed","type-your-text-here":"Typ hier uw tekst..."},pt:{feedback:"Coment\xE1rios",highlight:"Destacar",comment:"Coment\xE1rio",draw:"Desenhar",hide:"Ocultar",done:"Conclu\xEDdo","type-your-text-here":"Digite seu texto aqui..."},ru:{feedback:"\u041E\u0442\u0437\u044B\u0432",highlight:"\u0412\u044B\u0434\u0435\u043B\u0438\u0442\u044C",comment:"\u041A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0439",draw:"\u0420\u0438\u0441\u043E\u0432\u0430\u0442\u044C",hide:"\u0421\u043A\u0440\u044B\u0442\u044C",done:"\u0413\u043E\u0442\u043E\u0432\u043E","type-your-text-here":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u0442\u0435\u043A\u0441\u0442 \u0437\u0434\u0435\u0441\u044C..."},hu:{feedback:"Visszajelz\xE9s",highlight:"Kiemel\xE9s",comment:"Hozz\xE1sz\xF3l\xE1s",draw:"Rajzol\xE1s",hide:"Elrejt\xE9s",done:"K\xE9sz","type-your-text-here":"\xCDrd be ide a sz\xF6veged..."},it:{feedback:"Feedback",highlight:"Evidenzia",comment:"Commento",draw:"Disegna",hide:"Nascondi",done:"Fatto","type-your-text-here":"Scrivi il testo qui..."},uk:{feedback:"\u0412\u0456\u0434\u0433\u0443\u043A",highlight:"\u0412\u0438\u0434\u0456\u043B\u0438\u0442\u0438",comment:"\u041A\u043E\u043C\u0435\u043D\u0442\u0430\u0440",draw:"\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438",hide:"\u041F\u0440\u0438\u0445\u043E\u0432\u0430\u0442\u0438",done:"\u0413\u043E\u0442\u043E\u0432\u043E","type-your-text-here":"\u0412\u0432\u0435\u0434\u0456\u0442\u044C \u0442\u0435\u043A\u0441\u0442 \u0442\u0443\u0442..."},bn:{feedback:"\u09AA\u09CD\u09B0\u09A4\u09BF\u0995\u09CD\u09B0\u09BF\u09AF\u09BC\u09BE",highlight:"\u09B9\u09BE\u0987\u09B2\u09BE\u0987\u099F",comment:"\u09AE\u09A8\u09CD\u09A4\u09AC\u09CD\u09AF",draw:"\u0986\u0981\u0995\u09C1\u09A8",hide:"\u09B2\u09C1\u0995\u09BE\u09A8",done:"\u09B8\u09AE\u09CD\u09AA\u09A8\u09CD\u09A8","type-your-text-here":"\u098F\u0996\u09BE\u09A8\u09C7 \u0986\u09AA\u09A8\u09BE\u09B0 \u099F\u09C7\u0995\u09CD\u09B8\u099F \u099F\u09BE\u0987\u09AA \u0995\u09B0\u09C1\u09A8..."},bs:{feedback:"Povratne informacije",highlight:"Istakni",comment:"Komentar",draw:"Crtaj",hide:"Sakrij",done:"Gotovo","type-your-text-here":"Unesite svoj tekst ovdje..."},"pt-BR":{feedback:"Feedback",highlight:"Destacar",comment:"Coment\xE1rio",draw:"Desenhar",hide:"Ocultar",done:"Conclu\xEDdo","type-your-text-here":"Digite seu texto aqui..."},bg:{feedback:"\u041E\u0431\u0440\u0430\u0442\u043D\u0430 \u0432\u0440\u044A\u0437\u043A\u0430",highlight:"\u041F\u043E\u0434\u0447\u0435\u0440\u0442\u0430\u0439",comment:"\u041A\u043E\u043C\u0435\u043D\u0442\u0430\u0440",draw:"\u0420\u0438\u0441\u0443\u0432\u0430\u0439",hide:"\u0421\u043A\u0440\u0438\u0439",done:"\u0413\u043E\u0442\u043E\u0432\u043E","type-your-text-here":"\u0412\u044A\u0432\u0435\u0434\u0435\u0442\u0435 \u0442\u0435\u043A\u0441\u0442\u0430 \u0441\u0438 \u0442\u0443\u043A..."},ca:{feedback:"Comentaris",highlight:"Ressaltar",comment:"Comentari",draw:"Dibuixar",hide:"Amagar",done:"Fet","type-your-text-here":"Escriviu el vostre text aqu\xED..."},hr:{feedback:"Povratne informacije",highlight:"Istakni",comment:"Komentar",draw:"Crtaj",hide:"Sakrij",done:"Gotovo","type-your-text-here":"Upi\u0161ite svoj tekst ovdje..."},cs:{feedback:"Zp\u011Btn\xE1 vazba",highlight:"Zv\xFDraznit",comment:"Koment\xE1\u0159",draw:"Kreslit",hide:"Skr\xFDt",done:"Hotovo","type-your-text-here":"Zde napi\u0161te sv\u016Fj text..."},da:{feedback:"Feedback",highlight:"Fremh\xE6v",comment:"Kommentar",draw:"Tegn",hide:"Skjul",done:"F\xE6rdig","type-your-text-here":"Skriv din tekst her..."},fi:{feedback:"Palaute",highlight:"Korosta",comment:"Kommentti",draw:"Piirr\xE4",hide:"Piilota",done:"Valmis","type-your-text-here":"Kirjoita tekstisi t\xE4h\xE4n..."},el:{feedback:"\u0391\u03BD\u03B1\u03C4\u03C1\u03BF\u03C6\u03BF\u03B4\u03CC\u03C4\u03B7\u03C3\u03B7",highlight:"\u0395\u03C0\u03B9\u03C3\u03AE\u03BC\u03B1\u03BD\u03C3\u03B7",comment:"\u03A3\u03C7\u03CC\u03BB\u03B9\u03BF",draw:"\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7",hide:"\u0391\u03C0\u03CC\u03BA\u03C1\u03C5\u03C8\u03B7",done:"\u03A4\u03AD\u03BB\u03BF\u03C2","type-your-text-here":"\u03A0\u03BB\u03B7\u03BA\u03C4\u03C1\u03BF\u03BB\u03BF\u03B3\u03AE\u03C3\u03C4\u03B5 \u03C4\u03BF \u03BA\u03B5\u03AF\u03BC\u03B5\u03BD\u03CC \u03C3\u03B1\u03C2 \u03B5\u03B4\u03CE..."},hi:{feedback:"\u092A\u094D\u0930\u0924\u093F\u0915\u094D\u0930\u093F\u092F\u093E",highlight:"\u0939\u093E\u0907\u0932\u093E\u0907\u091F",comment:"\u091F\u093F\u092A\u094D\u092A\u0923\u0940",draw:"\u091A\u093F\u0924\u094D\u0930 \u092C\u0928\u093E\u090F\u0902",hide:"\u091B\u093F\u092A\u093E\u090F\u0902",done:"\u0939\u094B \u0917\u092F\u093E","type-your-text-here":"\u0905\u092A\u0928\u093E \u091F\u0947\u0915\u094D\u0938\u094D\u091F \u092F\u0939\u093E\u0902 \u091F\u093E\u0907\u092A \u0915\u0930\u0947\u0902..."},id:{feedback:"Umpan balik",highlight:"Sorot",comment:"Komentar",draw:"Gambar",hide:"Sembunyikan",done:"Selesai","type-your-text-here":"Ketik teks Anda di sini..."},ja:{feedback:"\u30D5\u30A3\u30FC\u30C9\u30D0\u30C3\u30AF",highlight:"\u30CF\u30A4\u30E9\u30A4\u30C8",comment:"\u30B3\u30E1\u30F3\u30C8",draw:"\u63CF\u753B",hide:"\u975E\u8868\u793A",done:"\u5B8C\u4E86","type-your-text-here":"\u3053\u3053\u306B\u30C6\u30AD\u30B9\u30C8\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044..."},lv:{feedback:"Atsauksmes",highlight:"Izcelt",comment:"Koment\u0101rs",draw:"Z\u012Bm\u0113t",hide:"Sl\u0113pt",done:"Gatavs","type-your-text-here":"Ievadiet savu tekstu \u0161eit..."},lt:{feedback:"Atsiliepimas",highlight:"Pary\u0161kinti",comment:"Komentaras",draw:"Pie\u0161ti",hide:"Sl\u0117pti",done:"Atlikta","type-your-text-here":"\u012Eveskite savo tekst\u0105 \u010Dia..."},ms:{feedback:"Maklum balas",highlight:"Sorot",comment:"Komen",draw:"Lukis",hide:"Sembunyi",done:"Selesai","type-your-text-here":"Taip teks anda di sini..."},mn:{feedback:"\u0421\u0430\u043D\u0430\u043B \u0445\u04AF\u0441\u044D\u043B\u0442",highlight:"\u0422\u043E\u0434\u0440\u0443\u0443\u043B\u0430\u0445",comment:"\u0421\u044D\u0442\u0433\u044D\u0433\u0434\u044D\u043B",draw:"\u0417\u0443\u0440\u0430\u0445",hide:"\u041D\u0443\u0443\u0445",done:"\u0414\u0443\u0443\u0441\u0441\u0430\u043D","type-your-text-here":"\u0422\u0435\u043A\u0441\u0442\u044D\u044D \u044D\u043D\u0434 \u0431\u0438\u0447\u043D\u044D \u04AF\u04AF..."},nb:{feedback:"Tilbakemelding",highlight:"Fremhev",comment:"Kommentar",draw:"Tegn",hide:"Skjul",done:"Ferdig","type-your-text-here":"Skriv inn teksten din her..."},pl:{feedback:"Opinie",highlight:"Pod\u015Bwietl",comment:"Komentarz",draw:"Rysuj",hide:"Ukryj",done:"Gotowe","type-your-text-here":"Wpisz sw\xF3j tekst tutaj..."},ro:{feedback:"Feedback",highlight:"Eviden\u021Biaz\u0103",comment:"Comentariu",draw:"Deseneaz\u0103",hide:"Ascunde",done:"Gata","type-your-text-here":"Scrie textul t\u0103u aici..."},sr:{feedback:"\u041F\u043E\u0432\u0440\u0430\u0442\u043D\u0435 \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u0458\u0435",highlight:"\u0418\u0441\u0442\u0430\u043A\u043D\u0438",comment:"\u041A\u043E\u043C\u0435\u043D\u0442\u0430\u0440",draw:"\u0426\u0440\u0442\u0430\u0458",hide:"\u0421\u0430\u043A\u0440\u0438\u0458",done:"\u0413\u043E\u0442\u043E\u0432\u043E","type-your-text-here":"\u0423\u043D\u0435\u0441\u0438\u0442\u0435 \u0441\u0432\u043E\u0458 \u0442\u0435\u043A\u0441\u0442 \u043E\u0432\u0434\u0435..."},"zh-CN":{feedback:"\u53CD\u9988",highlight:"\u9AD8\u4EAE",comment:"\u8BC4\u8BBA",draw:"\u7ED8\u753B",hide:"\u9690\u85CF",done:"\u5B8C\u6210","type-your-text-here":"\u5728\u6B64\u8F93\u5165\u60A8\u7684\u6587\u672C..."},sl:{feedback:"Povratne informacije",highlight:"Ozna\u010Di",comment:"Komentar",draw:"Ri\u0161i",hide:"Skrij",done:"Kon\u010Dano","type-your-text-here":"Vnesite svoje besedilo tukaj..."},sw:{feedback:"Maoni",highlight:"Angazia",comment:"Maoni",draw:"Chora",hide:"Ficha",done:"Imekamilika","type-your-text-here":"Andika maandishi yako hapa..."},sv:{feedback:"\xC5terkoppling",highlight:"Markera",comment:"Kommentar",draw:"Rita",hide:"D\xF6lj",done:"Klar","type-your-text-here":"Skriv din text h\xE4r..."},th:{feedback:"\u0E02\u0E49\u0E2D\u0E40\u0E2A\u0E19\u0E2D\u0E41\u0E19\u0E30",highlight:"\u0E44\u0E2E\u0E44\u0E25\u0E15\u0E4C",comment:"\u0E04\u0E27\u0E32\u0E21\u0E04\u0E34\u0E14\u0E40\u0E2B\u0E47\u0E19",draw:"\u0E27\u0E32\u0E14",hide:"\u0E0B\u0E48\u0E2D\u0E19",done:"\u0E40\u0E2A\u0E23\u0E47\u0E08\u0E2A\u0E34\u0E49\u0E19","type-your-text-here":"\u0E1E\u0E34\u0E21\u0E1E\u0E4C\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E02\u0E2D\u0E07\u0E04\u0E38\u0E13\u0E17\u0E35\u0E48\u0E19\u0E35\u0E48..."},"zh-TW":{feedback:"\u53CD\u994B",highlight:"\u7A81\u51FA\u986F\u793A",comment:"\u8A55\u8AD6",draw:"\u7E6A\u756B",hide:"\u96B1\u85CF",done:"\u5B8C\u6210","type-your-text-here":"\u5728\u6B64\u8F38\u5165\u60A8\u7684\u6587\u5B57..."},tr:{feedback:"Geri bildirim",highlight:"Vurgula",comment:"Yorum",draw:"\xC7iz",hide:"Gizle",done:"Tamam","type-your-text-here":"Metninizi buraya yaz\u0131n..."},vi:{feedback:"Ph\u1EA3n h\u1ED3i",highlight:"\u0110\xE1nh d\u1EA5u",comment:"B\xECnh lu\u1EADn",draw:"V\u1EBD",hide:"\u1EA8n",done:"Xong","type-your-text-here":"Nh\u1EADp v\u0103n b\u1EA3n c\u1EE7a b\u1EA1n t\u1EA1i \u0111\xE2y..."}};function ce(ee,We){return J[We]&&J[We][ee]?J[We][ee]:J.en[ee]?J.en[ee]:ee}},570:(Ge,Fe)=>{var Ve,J,ce;(function(ee){if(typeof window=="undefined")return;var We=0,Ye=!1,gt=!1,Ct="message",st=Ct.length,It="[iFrameSizer]",rn=It.length,$t=null,pe=window.requestAnimationFrame,Pt=Object.freeze({max:1,scroll:1,bodyScroll:1,documentElementScroll:1}),X={},un=null,qt=Object.freeze({autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,mouseEvents:!0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,widthCalculationMethod:"scroll",onClose:function(){return!0},onClosed:function(){},onInit:function(){},onMessage:function(){an("onMessage function not defined")},onMouseEnter:function(){},onMouseLeave:function(){},onResized:function(){},onScroll:function(){return!0}});function Qn(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function Jt(H,ie,Ce){H.addEventListener(ie,Ce,!1)}function fn(H,ie,Ce){H.removeEventListener(ie,Ce,!1)}function er(){var H=["moz","webkit","o","ms"],ie;for(ie=0;ie<H.length&&!pe;ie+=1)pe=window[H[ie]+"RequestAnimationFrame"];pe?pe=pe.bind(window):wt("setup","RequestAnimationFrame not supported")}function dn(H){var ie="Host page: "+H;return window.top!==window.self&&(ie=window.parentIFrame&&window.parentIFrame.getId?window.parentIFrame.getId()+": "+H:"Nested host page: "+H),ie}function Br(H){return It+"["+dn(H)+"]"}function we(H){return X[H]?X[H].log:Ye}function wt(H,ie){Ar("log",H,ie,we(H))}function En(H,ie){Ar("info",H,ie,we(H))}function an(H,ie){Ar("warn",H,ie,!0)}function Ar(H,ie,Ce,ue){ue===!0&&typeof window.console=="object"&&console[H](Br(ie),Ce)}function bt(H){function ie(){function Ke(){Ne(Vt),Ur(mt),lr("onResized",Vt)}ke("Height"),ke("Width"),Be(Ke,Vt,"init")}function Ce(){var Ke=yr.slice(rn).split(":"),at=Ke[1]?parseInt(Ke[1],10):0,Zt=X[Ke[0]]&&X[Ke[0]].iframe,on=getComputedStyle(Zt);return{iframe:Zt,id:Ke[0],height:at+ue(on)+oe(on),width:Ke[2],type:Ke[3]}}function ue(Ke){if(Ke.boxSizing!=="border-box")return 0;var at=Ke.paddingTop?parseInt(Ke.paddingTop,10):0,Zt=Ke.paddingBottom?parseInt(Ke.paddingBottom,10):0;return at+Zt}function oe(Ke){if(Ke.boxSizing!=="border-box")return 0;var at=Ke.borderTopWidth?parseInt(Ke.borderTopWidth,10):0,Zt=Ke.borderBottomWidth?parseInt(Ke.borderBottomWidth,10):0;return at+Zt}function ke(Ke){var at=Number(X[mt]["max"+Ke]),Zt=Number(X[mt]["min"+Ke]),on=Ke.toLowerCase(),Pn=Number(Vt[on]);wt(mt,"Checking "+on+" is in range "+Zt+"-"+at),Pn<Zt&&(Pn=Zt,wt(mt,"Set "+on+" to min value")),Pn>at&&(Pn=at,wt(mt,"Set "+on+" to max value")),Vt[on]=""+Pn}function re(){function Ke(){function on(){var wr=0,qr=!1;for(wt(mt,"Checking connection is from allowed list of origins: "+Zt);wr<Zt.length;wr++)if(Zt[wr]===at){qr=!0;break}return qr}function Pn(){var wr=X[mt]&&X[mt].remoteHost;return wt(mt,"Checking connection is from: "+wr),at===wr}return Zt.constructor===Array?on():Pn()}var at=H.origin,Zt=X[mt]&&X[mt].checkOrigin;if(Zt&&""+at!="null"&&!Ke())throw new Error("Unexpected message received from: "+at+" for "+Vt.iframe.id+". Message was: "+H.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}function ht(){return It===(""+yr).slice(0,rn)&&yr.slice(rn).split(":")[0]in X}function $(){var Ke=Vt.type in{true:1,false:1,undefined:1};return Ke&&wt(mt,"Ignoring init message from meta parent page"),Ke}function ne(Ke){return yr.slice(yr.indexOf(":")+st+Ke)}function fe(Ke){wt(mt,"onMessage passed: {iframe: "+Vt.iframe.id+", message: "+Ke+"}"),lr("onMessage",{iframe:Vt.iframe,message:JSON.parse(Ke)}),wt(mt,"--")}function me(){var Ke=document.body.getBoundingClientRect(),at=Vt.iframe.getBoundingClientRect();return JSON.stringify({iframeHeight:at.height,iframeWidth:at.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(at.top-Ke.top,10),offsetLeft:parseInt(at.left-Ke.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,documentHeight:document.documentElement.clientHeight,documentWidth:document.documentElement.clientWidth,windowHeight:window.innerHeight,windowWidth:window.innerWidth})}function Se(Ke,at){function Zt(){Tt("Send Page Info","pageInfo:"+me(),Ke,at)}nr(Zt,32,at)}function Ze(){function Ke(Pn,wr){function qr(){X[on]?Se(X[on].iframe,on):at()}["scroll","resize"].forEach(function(Pa){wt(on,Pn+Pa+" listener for sendPageInfo"),wr(window,Pa,qr)})}function at(){Ke("Remove ",fn)}function Zt(){Ke("Add ",Jt)}var on=mt;Zt(),X[on]&&(X[on].stopPageInfo=at)}function At(){X[mt]&&X[mt].stopPageInfo&&(X[mt].stopPageInfo(),delete X[mt].stopPageInfo)}function bn(){var Ke=!0;return Vt.iframe===null&&(an(mt,"IFrame ("+Vt.id+") not found"),Ke=!1),Ke}function Ue(Ke){var at=Ke.getBoundingClientRect();return Wr(mt),{x:Math.floor(Number(at.left)+Number($t.x)),y:Math.floor(Number(at.top)+Number($t.y))}}function $e(Ke){function at(){$t=wr,vn(),wt(mt,"--")}function Zt(){return{x:Number(Vt.width)+Pn.x,y:Number(Vt.height)+Pn.y}}function on(){window.parentIFrame?window.parentIFrame["scrollTo"+(Ke?"Offset":"")](wr.x,wr.y):an(mt,"Unable to scroll to requested position, window.parentIFrame not found")}var Pn=Ke?Ue(Vt.iframe):{x:0,y:0},wr=Zt();wt(mt,"Reposition requested from iFrame (offset x:"+Pn.x+" y:"+Pn.y+")"),window.top===window.self?at():on()}function vn(){lr("onScroll",$t)===!1?$r():Ur(mt)}function Cn(Ke){function at(){var qr=Ue(wr);wt(mt,"Moving to in page link (#"+on+") at x: "+qr.x+" y: "+qr.y),$t={x:qr.x,y:qr.y},vn(),wt(mt,"--")}function Zt(){window.parentIFrame?window.parentIFrame.moveToAnchor(on):wt(mt,"In page link #"+on+" not found and window.parentIFrame not found")}var on=Ke.split("#")[1]||"",Pn=decodeURIComponent(on),wr=document.getElementById(Pn)||document.getElementsByName(Pn)[0];wr?at():window.top===window.self?wt(mt,"In page link #"+on+" not found"):Zt()}function Mn(Ke){var at={};if(Number(Vt.width)===0&&Number(Vt.height)===0){var Zt=ne(9).split(":");at={x:Zt[1],y:Zt[0]}}else at={x:Vt.width,y:Vt.height};lr(Ke,{iframe:Vt.iframe,screenX:Number(at.x),screenY:Number(at.y),type:Vt.type})}function lr(Ke,at){return _t(mt,Ke,at)}function Ln(){switch(X[mt]&&X[mt].firstRun&&Ir(),Vt.type){case"close":{br(Vt.iframe);break}case"message":{fe(ne(6));break}case"mouseenter":{Mn("onMouseEnter");break}case"mouseleave":{Mn("onMouseLeave");break}case"autoResize":{X[mt].autoResize=JSON.parse(ne(9));break}case"scrollTo":{$e(!1);break}case"scrollToOffset":{$e(!0);break}case"pageInfo":{Se(X[mt]&&X[mt].iframe,mt),Ze();break}case"pageInfoStop":{At();break}case"inPageLink":{Cn(ne(9));break}case"reset":{Oe(Vt);break}case"init":{ie(),lr("onInit",Vt.iframe);break}default:Number(Vt.width)===0&&Number(Vt.height)===0?an("Unsupported message received ("+Vt.type+"), this is likely due to the iframe containing a later version of iframe-resizer than the parent page"):ie()}}function hn(Ke){var at=!0;return X[Ke]||(at=!1,an(Vt.type+" No settings for "+Ke+". Message was: "+yr)),at}function ca(){for(var Ke in X)Tt("iFrame requested init",sr(Ke),X[Ke].iframe,Ke)}function Ir(){X[mt]&&(X[mt].firstRun=!1)}var yr=H.data,Vt={},mt=null;yr==="[iFrameResizerChild]Ready"?ca():ht()?(Vt=Ce(),mt=Vt.id,X[mt]&&(X[mt].loaded=!0),!$()&&hn(mt)&&(wt(mt,"Received: "+yr),bn()&&re()&&Ln())):En(mt,"Ignored: "+yr)}function _t(H,ie,Ce){var ue=null,oe=null;if(X[H])if(ue=X[H][ie],typeof ue=="function")oe=ue(Ce);else throw new TypeError(ie+" on iFrame["+H+"] is not a function");return oe}function la(H){var ie=H.id;delete X[ie]}function br(H){var ie=H.id;if(_t(ie,"onClose",ie)===!1){wt(ie,"Close iframe cancelled by onClose event");return}wt(ie,"Removing iFrame: "+ie);try{H.parentNode&&H.parentNode.removeChild(H)}catch(Ce){an(Ce)}_t(ie,"onClosed",ie),wt(ie,"--"),la(H)}function Wr(H){$t===null&&($t={x:window.pageXOffset===ee?document.documentElement.scrollLeft:window.pageXOffset,y:window.pageYOffset===ee?document.documentElement.scrollTop:window.pageYOffset},wt(H,"Get page position: "+$t.x+","+$t.y))}function Ur(H){$t!==null&&(window.scrollTo($t.x,$t.y),wt(H,"Set page position: "+$t.x+","+$t.y),$r())}function $r(){$t=null}function Oe(H){function ie(){Ne(H),Tt("reset","reset",H.iframe,H.id)}wt(H.id,"Size reset requested by "+(H.type==="init"?"host page":"iFrame")),Wr(H.id),Be(ie,H,"reset")}function Ne(H){function ie(ke){if(!H.id){wt("undefined","messageData id not set");return}H.iframe.style[ke]=H[ke]+"px",wt(H.id,"IFrame ("+oe+") "+ke+" set to "+H[ke]+"px")}function Ce(ke){!gt&&H[ke]==="0"&&(gt=!0,wt(oe,"Hidden iFrame detected, creating visibility listener"),Hr())}function ue(ke){ie(ke),Ce(ke)}var oe=H.iframe.id;X[oe]&&(X[oe].sizeHeight&&ue("height"),X[oe].sizeWidth&&ue("width"))}function Be(H,ie,Ce){Ce!==ie.type&&pe&&!window.jasmine?(wt(ie.id,"Requesting animation frame"),pe(H)):H()}function Tt(H,ie,Ce,ue,oe){function ke(){var fe=X[ue]&&X[ue].targetOrigin;wt(ue,"["+H+"] Sending msg to iframe["+ue+"] ("+ie+") targetOrigin: "+fe),Ce.contentWindow.postMessage(It+ie,fe)}function re(){an(ue,"["+H+"] IFrame("+ue+") not found")}function ht(){Ce&&"contentWindow"in Ce&&Ce.contentWindow!==null?ke():re()}function $(){function fe(){X[ue]&&!X[ue].loaded&&!ne&&(ne=!0,an(ue,"IFrame has not responded within "+X[ue].warningTimeout/1e3+" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ignored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning."))}oe&&X[ue]&&X[ue].warningTimeout&&(X[ue].msgTimeout=setTimeout(fe,X[ue].warningTimeout))}var ne=!1;ue=ue||Ce.id,X[ue]&&(ht(),$())}function sr(H){return H+":"+X[H].bodyMarginV1+":"+X[H].sizeWidth+":"+X[H].log+":"+X[H].interval+":"+X[H].enablePublicMethods+":"+X[H].autoResize+":"+X[H].bodyMargin+":"+X[H].heightCalculationMethod+":"+X[H].bodyBackground+":"+X[H].bodyPadding+":"+X[H].tolerance+":"+X[H].inPageLinks+":"+X[H].resizeFrom+":"+X[H].widthCalculationMethod+":"+X[H].mouseEvents}function vr(H){return typeof H=="number"}function Pr(H,ie){function Ce(){function $e(Cn){var Mn=X[Ue][Cn];Mn!==1/0&&Mn!==0&&(H.style[Cn]=vr(Mn)?Mn+"px":Mn,wt(Ue,"Set "+Cn+" = "+H.style[Cn]))}function vn(Cn){if(X[Ue]["min"+Cn]>X[Ue]["max"+Cn])throw new Error("Value for min"+Cn+" can not be greater than max"+Cn)}vn("Height"),vn("Width"),$e("maxHeight"),$e("minHeight"),$e("maxWidth"),$e("minWidth")}function ue(){var $e=ie&&ie.id||qt.id+We++;return document.getElementById($e)!==null&&($e+=We++),$e}function oe($e){if(typeof $e!="string")throw new TypeError("Invaild id for iFrame. Expected String");return $e===""&&(H.id=$e=ue(),Ye=(ie||{}).log,wt($e,"Added missing iframe ID: "+$e+" ("+H.src+")")),$e}function ke(){switch(wt(Ue,"IFrame scrolling "+(X[Ue]&&X[Ue].scrolling?"enabled":"disabled")+" for "+Ue),H.style.overflow=(X[Ue]&&X[Ue].scrolling)===!1?"hidden":"auto",X[Ue]&&X[Ue].scrolling){case"omit":break;case!0:{H.scrolling="yes";break}case!1:{H.scrolling="no";break}default:H.scrolling=X[Ue]?X[Ue].scrolling:"no"}}function re(){(typeof(X[Ue]&&X[Ue].bodyMargin)=="number"||(X[Ue]&&X[Ue].bodyMargin)==="0")&&(X[Ue].bodyMarginV1=X[Ue].bodyMargin,X[Ue].bodyMargin=""+X[Ue].bodyMargin+"px")}function ht(){var $e=X[Ue]&&X[Ue].firstRun,vn=X[Ue]&&X[Ue].heightCalculationMethod in Pt;!$e&&vn&&Oe({iframe:H,height:0,width:0,type:"init"})}function $(){X[Ue]&&(X[Ue].iframe.iFrameResizer={close:br.bind(null,X[Ue].iframe),removeListeners:la.bind(null,X[Ue].iframe),resize:Tt.bind(null,"Window resize","resize",X[Ue].iframe),moveToAnchor:function($e){Tt("Move to anchor","moveToAnchor:"+$e,X[Ue].iframe,Ue)},sendMessage:function($e){$e=JSON.stringify($e),Tt("Send Message","message:"+$e,X[Ue].iframe,Ue)}})}function ne($e){function vn(){Tt("iFrame.onload",$e,H,ee,!0),ht()}function Cn(lr){if(H.parentNode){var Ln=new lr(function(hn){hn.forEach(function(ca){var Ir=Array.prototype.slice.call(ca.removedNodes);Ir.forEach(function(yr){yr===H&&br(H)})})});Ln.observe(H.parentNode,{childList:!0})}}var Mn=Qn();Mn&&Cn(Mn),Jt(H,"load",vn),Tt("init",$e,H,ee,!0)}function fe($e){if(typeof $e!="object")throw new TypeError("Options is not an object")}function me($e){for(var vn in qt)Object.prototype.hasOwnProperty.call(qt,vn)&&(X[Ue][vn]=Object.prototype.hasOwnProperty.call($e,vn)?$e[vn]:qt[vn])}function Se($e){return $e===""||$e.match(/^(about:blank|javascript:|file:\/\/)/)!==null?"*":$e}function Ze($e){var vn=$e.split("Callback");if(vn.length===2){var Cn="on"+vn[0].charAt(0).toUpperCase()+vn[0].slice(1);this[Cn]=this[$e],delete this[$e],an(Ue,"Deprecated: '"+$e+"' has been renamed '"+Cn+"'. The old method will be removed in the next major version.")}}function At($e){$e=$e||{},X[Ue]=Object.create(null),X[Ue].iframe=H,X[Ue].firstRun=!0,X[Ue].remoteHost=H.src&&H.src.split("/").slice(0,3).join("/"),fe($e),Object.keys($e).forEach(Ze,$e),me($e),X[Ue]&&(X[Ue].targetOrigin=X[Ue].checkOrigin===!0?Se(X[Ue].remoteHost):"*")}function bn(){return Ue in X&&"iFrameResizer"in H}var Ue=oe(H.id);bn()?an(Ue,"Ignored iFrame, already setup."):(At(ie),ke(),Ce(),re(),ne(sr(Ue)),$())}function tr(H,ie){un===null&&(un=setTimeout(function(){un=null,H()},ie))}var Yn={};function nr(H,ie,Ce){Yn[Ce]||(Yn[Ce]=setTimeout(function(){Yn[Ce]=null,H()},ie))}function Hr(){function H(){function oe(ke){function re($){return(X[ke]&&X[ke].iframe.style[$])==="0px"}function ht($){return $.offsetParent!==null}X[ke]&&ht(X[ke].iframe)&&(re("height")||re("width"))&&Tt("Visibility change","resize",X[ke].iframe,ke)}Object.keys(X).forEach(function(ke){oe(ke)})}function ie(oe){wt("window","Mutation observed: "+oe[0].target+" "+oe[0].type),tr(H,16)}function Ce(){var oe=document.querySelector("body"),ke={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0},re=new ue(ie);re.observe(oe,ke)}var ue=Qn();ue&&Ce()}function Vr(H){function ie(){V("Window "+H,"resize")}wt("window","Trigger event: "+H),tr(ie,16)}function K(){function H(){V("Tab Visible","resize")}document.visibilityState!=="hidden"&&(wt("document","Trigger event: Visibility change"),tr(H,16))}function V(H,ie){function Ce(ue){return X[ue]&&X[ue].resizeFrom==="parent"&&X[ue].autoResize&&!X[ue].firstRun}Object.keys(X).forEach(function(ue){Ce(ue)&&Tt(H,ie,X[ue].iframe,ue)})}function le(){Jt(window,"message",bt),Jt(window,"resize",function(){Vr("resize")}),Jt(document,"visibilitychange",K),Jt(document,"-webkit-visibilitychange",K)}function xe(){function H(ue,oe){function ke(){if(oe.tagName){if(oe.tagName.toUpperCase()!=="IFRAME")throw new TypeError("Expected <IFRAME> tag, found <"+oe.tagName+">")}else throw new TypeError("Object is not a valid DOM element")}oe&&(ke(),Pr(oe,ue),Ce.push(oe))}function ie(ue){ue&&ue.enablePublicMethods&&an("enablePublicMethods option has been removed, public methods are now always available in the iFrame")}var Ce;return er(),le(),function(oe,ke){switch(Ce=[],ie(oe),typeof ke){case"undefined":case"string":{Array.prototype.forEach.call(document.querySelectorAll(ke||"iframe"),H.bind(ee,oe));break}case"object":{H(oe,ke);break}default:throw new TypeError("Unexpected data type ("+typeof ke+")")}return Ce}}function _e(H){H.fn?H.fn.iFrameResize||(H.fn.iFrameResize=function(Ce){function ue(oe,ke){Pr(ke,Ce)}return this.filter("iframe").each(ue).end()}):En("","Unable to bind to jQuery, it is not fully loaded.")}window.jQuery!==ee&&_e(window.jQuery),J=[],Ve=xe,ce=typeof Ve=="function"?Ve.apply(Fe,J):Ve,ce!==ee&&(Ge.exports=ce),window.iFrameResize=window.iFrameResize||xe()})()},4074:(Ge,Fe,Ve)=>{Ge.exports=window.DOMPurify||(window.DOMPurify=Ve(5454).default||Ve(5454))},7402:(Ge,Fe,Ve)=>{"use strict";Ve.r(Fe),Ve.d(Fe,{Children:()=>qt,Component:()=>J.Component,Fragment:()=>J.Fragment,PureComponent:()=>rn,StrictMode:()=>ke,Suspense:()=>dn,SuspenseList:()=>wt,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:()=>Vr,cloneElement:()=>H,createContext:()=>J.createContext,createElement:()=>J.createElement,createFactory:()=>V,createPortal:()=>bt,createRef:()=>J.createRef,default:()=>ht,findDOMNode:()=>Ce,flushSync:()=>oe,forwardRef:()=>X,hydrate:()=>Ne,isElement:()=>re,isFragment:()=>xe,isMemo:()=>_e,isValidElement:()=>le,lazy:()=>we,memo:()=>$t,render:()=>Oe,startTransition:()=>gt,unmountComponentAtNode:()=>ie,unstable_batchedUpdates:()=>ue,useCallback:()=>ce.hb,useContext:()=>ce.NT,useDebugValue:()=>ce.MN,useDeferredValue:()=>Ct,useEffect:()=>ce.vJ,useErrorBoundary:()=>ce.Md,useId:()=>ce.Bi,useImperativeHandle:()=>ce.Yn,useInsertionEffect:()=>It,useLayoutEffect:()=>ce.Nf,useMemo:()=>ce.Kr,useReducer:()=>ce.WO,useRef:()=>ce.li,useState:()=>ce.J0,useSyncExternalStore:()=>We,useTransition:()=>st,version:()=>K});var J=Ve(172),ce=Ve(5994);function ee($,ne){for(var fe in $)if(fe!=="__source"&&!(fe in ne))return!0;for(var me in ne)if(me!=="__source"&&$[me]!==ne[me])return!0;return!1}function We($,ne){var fe=ne(),me=(0,ce.J0)({t:{__:fe,u:ne}}),Se=me[0].t,Ze=me[1];return(0,ce.Nf)(function(){Se.__=fe,Se.u=ne,Ye(Se)&&Ze({t:Se})},[$,fe,ne]),(0,ce.vJ)(function(){return Ye(Se)&&Ze({t:Se}),$(function(){Ye(Se)&&Ze({t:Se})})},[$]),fe}function Ye($){var ne,fe,me=$.u,Se=$.__;try{var Ze=me();return!((ne=Se)===(fe=Ze)&&(ne!==0||1/ne==1/fe)||ne!=ne&&fe!=fe)}catch(At){return!0}}function gt($){$()}function Ct($){return $}function st(){return[!1,gt]}var It=ce.Nf;function rn($,ne){this.props=$,this.context=ne}function $t($,ne){function fe(Se){var Ze=this.props.ref,At=Ze==Se.ref;return!At&&Ze&&(Ze.call?Ze(null):Ze.current=null),ne?!ne(this.props,Se)||!At:ee(this.props,Se)}function me(Se){return this.shouldComponentUpdate=fe,(0,J.createElement)($,Se)}return me.displayName="Memo("+($.displayName||$.name)+")",me.prototype.isReactComponent=!0,me.__f=!0,me}(rn.prototype=new J.Component).isPureReactComponent=!0,rn.prototype.shouldComponentUpdate=function($,ne){return ee(this.props,$)||ee(this.state,ne)};var pe=J.options.__b;J.options.__b=function($){$.type&&$.type.__f&&$.ref&&($.props.ref=$.ref,$.ref=null),pe&&pe($)};var Pt=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function X($){function ne(fe){if(!("ref"in fe))return $(fe,null);var me=fe.ref;delete fe.ref;var Se=$(fe,me);return fe.ref=me,Se}return ne.$$typeof=Pt,ne.render=ne,ne.prototype.isReactComponent=ne.__f=!0,ne.displayName="ForwardRef("+($.displayName||$.name)+")",ne}var un=function($,ne){return $==null?null:(0,J.toChildArray)((0,J.toChildArray)($).map(ne))},qt={map:un,forEach:un,count:function($){return $?(0,J.toChildArray)($).length:0},only:function($){var ne=(0,J.toChildArray)($);if(ne.length!==1)throw"Children.only";return ne[0]},toArray:J.toChildArray},Qn=J.options.__e;J.options.__e=function($,ne,fe,me){if($.then){for(var Se,Ze=ne;Ze=Ze.__;)if((Se=Ze.__c)&&Se.__c)return ne.__e==null&&(ne.__e=fe.__e,ne.__k=fe.__k),Se.__c($,ne)}Qn($,ne,fe,me)};var Jt=J.options.unmount;function fn($,ne,fe){return $&&($.__c&&$.__c.__H&&($.__c.__H.__.forEach(function(me){typeof me.__c=="function"&&me.__c()}),$.__c.__H=null),($=function(me,Se){for(var Ze in Se)me[Ze]=Se[Ze];return me}({},$)).__c!=null&&($.__c.__P===fe&&($.__c.__P=ne),$.__c=null),$.__k=$.__k&&$.__k.map(function(me){return fn(me,ne,fe)})),$}function er($,ne,fe){return $&&fe&&($.__v=null,$.__k=$.__k&&$.__k.map(function(me){return er(me,ne,fe)}),$.__c&&$.__c.__P===ne&&($.__e&&fe.appendChild($.__e),$.__c.__e=!0,$.__c.__P=fe)),$}function dn(){this.__u=0,this.o=null,this.__b=null}function Br($){var ne=$.__.__c;return ne&&ne.__a&&ne.__a($)}function we($){var ne,fe,me;function Se(Ze){if(ne||(ne=$()).then(function(At){fe=At.default||At},function(At){me=At}),me)throw me;if(!fe)throw ne;return(0,J.createElement)(fe,Ze)}return Se.displayName="Lazy",Se.__f=!0,Se}function wt(){this.i=null,this.l=null}J.options.unmount=function($){var ne=$.__c;ne&&ne.__R&&ne.__R(),ne&&32&$.__u&&($.type=null),Jt&&Jt($)},(dn.prototype=new J.Component).__c=function($,ne){var fe=ne.__c,me=this;me.o==null&&(me.o=[]),me.o.push(fe);var Se=Br(me.__v),Ze=!1,At=function(){Ze||(Ze=!0,fe.__R=null,Se?Se(bn):bn())};fe.__R=At;var bn=function(){if(!--me.__u){if(me.state.__a){var Ue=me.state.__a;me.__v.__k[0]=er(Ue,Ue.__c.__P,Ue.__c.__O)}var $e;for(me.setState({__a:me.__b=null});$e=me.o.pop();)$e.forceUpdate()}};me.__u++||32&ne.__u||me.setState({__a:me.__b=me.__v.__k[0]}),$.then(At,At)},dn.prototype.componentWillUnmount=function(){this.o=[]},dn.prototype.render=function($,ne){if(this.__b){if(this.__v.__k){var fe=document.createElement("div"),me=this.__v.__k[0].__c;this.__v.__k[0]=fn(this.__b,fe,me.__O=me.__P)}this.__b=null}var Se=ne.__a&&(0,J.createElement)(J.Fragment,null,$.fallback);return Se&&(Se.__u&=-33),[(0,J.createElement)(J.Fragment,null,ne.__a?null:$.children),Se]};var En=function($,ne,fe){if(++fe[1]===fe[0]&&$.l.delete(ne),$.props.revealOrder&&($.props.revealOrder[0]!=="t"||!$.l.size))for(fe=$.i;fe;){for(;fe.length>3;)fe.pop()();if(fe[1]<fe[0])break;$.i=fe=fe[2]}};function an($){return this.getChildContext=function(){return $.context},$.children}function Ar($){var ne=this,fe=$.h;ne.componentWillUnmount=function(){(0,J.render)(null,ne.v),ne.v=null,ne.h=null},ne.h&&ne.h!==fe&&ne.componentWillUnmount(),ne.v||(ne.h=fe,ne.v={nodeType:1,parentNode:fe,childNodes:[],contains:function(){return!0},appendChild:function(me){this.childNodes.push(me),ne.h.appendChild(me)},insertBefore:function(me,Se){this.childNodes.push(me),ne.h.insertBefore(me,Se)},removeChild:function(me){this.childNodes.splice(this.childNodes.indexOf(me)>>>1,1),ne.h.removeChild(me)}}),(0,J.render)((0,J.createElement)(an,{context:ne.context},$.__v),ne.v)}function bt($,ne){var fe=(0,J.createElement)(Ar,{__v:$,h:ne});return fe.containerInfo=ne,fe}(wt.prototype=new J.Component).__a=function($){var ne=this,fe=Br(ne.__v),me=ne.l.get($);return me[0]++,function(Se){var Ze=function(){ne.props.revealOrder?(me.push(Se),En(ne,$,me)):Se()};fe?fe(Ze):Ze()}},wt.prototype.render=function($){this.i=null,this.l=new Map;var ne=(0,J.toChildArray)($.children);$.revealOrder&&$.revealOrder[0]==="b"&&ne.reverse();for(var fe=ne.length;fe--;)this.l.set(ne[fe],this.i=[1,0,this.i]);return $.children},wt.prototype.componentDidUpdate=wt.prototype.componentDidMount=function(){var $=this;this.l.forEach(function(ne,fe){En($,fe,ne)})};var _t=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,la=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,br=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Wr=/[A-Z0-9]/g,Ur=typeof document!="undefined",$r=function($){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test($)};function Oe($,ne,fe){return ne.__k==null&&(ne.textContent=""),(0,J.render)($,ne),typeof fe=="function"&&fe(),$?$.__c:null}function Ne($,ne,fe){return(0,J.hydrate)($,ne),typeof fe=="function"&&fe(),$?$.__c:null}J.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function($){Object.defineProperty(J.Component.prototype,$,{configurable:!0,get:function(){return this["UNSAFE_"+$]},set:function(ne){Object.defineProperty(this,$,{configurable:!0,writable:!0,value:ne})}})});var Be=J.options.event;function Tt(){}function sr(){return this.cancelBubble}function vr(){return this.defaultPrevented}J.options.event=function($){return Be&&($=Be($)),$.persist=Tt,$.isPropagationStopped=sr,$.isDefaultPrevented=vr,$.nativeEvent=$};var Pr,tr={enumerable:!1,configurable:!0,get:function(){return this.class}},Yn=J.options.vnode;J.options.vnode=function($){typeof $.type=="string"&&function(ne){var fe=ne.props,me=ne.type,Se={},Ze=me.indexOf("-")===-1;for(var At in fe){var bn=fe[At];if(!(At==="value"&&"defaultValue"in fe&&bn==null||Ur&&At==="children"&&me==="noscript"||At==="class"||At==="className")){var Ue=At.toLowerCase();At==="defaultValue"&&"value"in fe&&fe.value==null?At="value":At==="download"&&bn===!0?bn="":Ue==="translate"&&bn==="no"?bn=!1:Ue[0]==="o"&&Ue[1]==="n"?Ue==="ondoubleclick"?At="ondblclick":Ue!=="onchange"||me!=="input"&&me!=="textarea"||$r(fe.type)?Ue==="onfocus"?At="onfocusin":Ue==="onblur"?At="onfocusout":br.test(At)&&(At=Ue):Ue=At="oninput":Ze&&la.test(At)?At=At.replace(Wr,"-$&").toLowerCase():bn===null&&(bn=void 0),Ue==="oninput"&&Se[At=Ue]&&(At="oninputCapture"),Se[At]=bn}}me=="select"&&Se.multiple&&Array.isArray(Se.value)&&(Se.value=(0,J.toChildArray)(fe.children).forEach(function($e){$e.props.selected=Se.value.indexOf($e.props.value)!=-1})),me=="select"&&Se.defaultValue!=null&&(Se.value=(0,J.toChildArray)(fe.children).forEach(function($e){$e.props.selected=Se.multiple?Se.defaultValue.indexOf($e.props.value)!=-1:Se.defaultValue==$e.props.value})),fe.class&&!fe.className?(Se.class=fe.class,Object.defineProperty(Se,"className",tr)):(fe.className&&!fe.class||fe.class&&fe.className)&&(Se.class=Se.className=fe.className),ne.props=Se}($),$.$$typeof=_t,Yn&&Yn($)};var nr=J.options.__r;J.options.__r=function($){nr&&nr($),Pr=$.__c};var Hr=J.options.diffed;J.options.diffed=function($){Hr&&Hr($);var ne=$.props,fe=$.__e;fe!=null&&$.type==="textarea"&&"value"in ne&&ne.value!==fe.value&&(fe.value=ne.value==null?"":ne.value),Pr=null};var Vr={ReactCurrentDispatcher:{current:{readContext:function($){return Pr.__n[$.__c].props.value},useCallback:ce.hb,useContext:ce.NT,useDebugValue:ce.MN,useDeferredValue:Ct,useEffect:ce.vJ,useId:ce.Bi,useImperativeHandle:ce.Yn,useInsertionEffect:It,useLayoutEffect:ce.Nf,useMemo:ce.Kr,useReducer:ce.WO,useRef:ce.li,useState:ce.J0,useSyncExternalStore:We,useTransition:st}}},K="18.3.1";function V($){return J.createElement.bind(null,$)}function le($){return!!$&&$.$$typeof===_t}function xe($){return le($)&&$.type===J.Fragment}function _e($){return!!$&&!!$.displayName&&(typeof $.displayName=="string"||$.displayName instanceof String)&&$.displayName.startsWith("Memo(")}function H($){return le($)?J.cloneElement.apply(null,arguments):$}function ie($){return!!$.__k&&((0,J.render)(null,$),!0)}function Ce($){return $&&($.base||$.nodeType===1&&$)||null}var ue=function($,ne){return $(ne)},oe=function($,ne){return $(ne)},ke=J.Fragment,re=le,ht={useState:ce.J0,useId:ce.Bi,useReducer:ce.WO,useEffect:ce.vJ,useLayoutEffect:ce.Nf,useInsertionEffect:It,useTransition:st,useDeferredValue:Ct,useSyncExternalStore:We,startTransition:gt,useRef:ce.li,useImperativeHandle:ce.Yn,useMemo:ce.Kr,useCallback:ce.hb,useContext:ce.NT,useDebugValue:ce.MN,version:"18.3.1",Children:qt,render:Oe,hydrate:Ne,unmountComponentAtNode:ie,createPortal:bt,createElement:J.createElement,createContext:J.createContext,createFactory:V,cloneElement:H,createRef:J.createRef,Fragment:J.Fragment,isValidElement:le,isElement:re,isFragment:xe,isMemo:_e,findDOMNode:Ce,Component:J.Component,PureComponent:rn,memo:$t,forwardRef:X,flushSync:oe,unstable_batchedUpdates:ue,StrictMode:ke,Suspense:dn,SuspenseList:wt,lazy:we,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Vr}},172:(Ge,Fe,Ve)=>{"use strict";Ve.r(Fe),Ve.d(Fe,{Component:()=>wt,Fragment:()=>we,cloneElement:()=>Hr,createContext:()=>Vr,createElement:()=>er,createRef:()=>Br,h:()=>er,hydrate:()=>nr,isValidElement:()=>We,options:()=>ce,render:()=>Yn,toChildArray:()=>Wr});var J,ce,ee,We,Ye,gt,Ct,st,It,rn,$t,pe,Pt,X={},un=[],qt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Qn=Array.isArray;function Jt(K,V){for(var le in V)K[le]=V[le];return K}function fn(K){K&&K.parentNode&&K.parentNode.removeChild(K)}function er(K,V,le){var xe,_e,H,ie={};for(H in V)H=="key"?xe=V[H]:H=="ref"?_e=V[H]:ie[H]=V[H];if(arguments.length>2&&(ie.children=arguments.length>3?J.call(arguments,2):le),typeof K=="function"&&K.defaultProps!=null)for(H in K.defaultProps)ie[H]===void 0&&(ie[H]=K.defaultProps[H]);return dn(K,ie,xe,_e,null)}function dn(K,V,le,xe,_e){var H={type:K,props:V,key:le,ref:xe,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:_e==null?++ee:_e,__i:-1,__u:0};return _e==null&&ce.vnode!=null&&ce.vnode(H),H}function Br(){return{current:null}}function we(K){return K.children}function wt(K,V){this.props=K,this.context=V}function En(K,V){if(V==null)return K.__?En(K.__,K.__i+1):null;for(var le;V<K.__k.length;V++)if((le=K.__k[V])!=null&&le.__e!=null)return le.__e;return typeof K.type=="function"?En(K):null}function an(K){var V,le;if((K=K.__)!=null&&K.__c!=null){for(K.__e=K.__c.base=null,V=0;V<K.__k.length;V++)if((le=K.__k[V])!=null&&le.__e!=null){K.__e=K.__c.base=le.__e;break}return an(K)}}function Ar(K){(!K.__d&&(K.__d=!0)&&Ye.push(K)&&!bt.__r++||gt!==ce.debounceRendering)&&((gt=ce.debounceRendering)||Ct)(bt)}function bt(){var K,V,le,xe,_e,H,ie,Ce;for(Ye.sort(st);K=Ye.shift();)K.__d&&(V=Ye.length,xe=void 0,H=(_e=(le=K).__v).__e,ie=[],Ce=[],le.__P&&((xe=Jt({},_e)).__v=_e.__v+1,ce.vnode&&ce.vnode(xe),Be(le.__P,xe,_e,le.__n,le.__P.namespaceURI,32&_e.__u?[H]:null,ie,H==null?En(_e):H,!!(32&_e.__u),Ce),xe.__v=_e.__v,xe.__.__k[xe.__i]=xe,Tt(ie,xe,Ce),xe.__e!=H&&an(xe)),Ye.length>V&&Ye.sort(st));bt.__r=0}function _t(K,V,le,xe,_e,H,ie,Ce,ue,oe,ke){var re,ht,$,ne,fe,me,Se=xe&&xe.__k||un,Ze=V.length;for(ue=la(le,V,Se,ue,Ze),re=0;re<Ze;re++)($=le.__k[re])!=null&&(ht=$.__i===-1?X:Se[$.__i]||X,$.__i=re,me=Be(K,$,ht,_e,H,ie,Ce,ue,oe,ke),ne=$.__e,$.ref&&ht.ref!=$.ref&&(ht.ref&&vr(ht.ref,null,$),ke.push($.ref,$.__c||ne,$)),fe==null&&ne!=null&&(fe=ne),4&$.__u||ht.__k===$.__k?ue=br($,ue,K):typeof $.type=="function"&&me!==void 0?ue=me:ne&&(ue=ne.nextSibling),$.__u&=-7);return le.__e=fe,ue}function la(K,V,le,xe,_e){var H,ie,Ce,ue,oe,ke=le.length,re=ke,ht=0;for(K.__k=new Array(_e),H=0;H<_e;H++)(ie=V[H])!=null&&typeof ie!="boolean"&&typeof ie!="function"?(ue=H+ht,(ie=K.__k[H]=typeof ie=="string"||typeof ie=="number"||typeof ie=="bigint"||ie.constructor==String?dn(null,ie,null,null,null):Qn(ie)?dn(we,{children:ie},null,null,null):ie.constructor===void 0&&ie.__b>0?dn(ie.type,ie.props,ie.key,ie.ref?ie.ref:null,ie.__v):ie).__=K,ie.__b=K.__b+1,Ce=null,(oe=ie.__i=Ur(ie,le,ue,re))!==-1&&(re--,(Ce=le[oe])&&(Ce.__u|=2)),Ce==null||Ce.__v===null?(oe==-1&&ht--,typeof ie.type!="function"&&(ie.__u|=4)):oe!=ue&&(oe==ue-1?ht--:oe==ue+1?ht++:(oe>ue?ht--:ht++,ie.__u|=4))):K.__k[H]=null;if(re)for(H=0;H<ke;H++)(Ce=le[H])!=null&&!(2&Ce.__u)&&(Ce.__e==xe&&(xe=En(Ce)),Pr(Ce,Ce));return xe}function br(K,V,le){var xe,_e;if(typeof K.type=="function"){for(xe=K.__k,_e=0;xe&&_e<xe.length;_e++)xe[_e]&&(xe[_e].__=K,V=br(xe[_e],V,le));return V}K.__e!=V&&(V&&K.type&&!le.contains(V)&&(V=En(K)),le.insertBefore(K.__e,V||null),V=K.__e);do V=V&&V.nextSibling;while(V!=null&&V.nodeType==8);return V}function Wr(K,V){return V=V||[],K==null||typeof K=="boolean"||(Qn(K)?K.some(function(le){Wr(le,V)}):V.push(K)),V}function Ur(K,V,le,xe){var _e,H,ie=K.key,Ce=K.type,ue=V[le];if(ue===null||ue&&ie==ue.key&&Ce===ue.type&&!(2&ue.__u))return le;if(xe>(ue!=null&&!(2&ue.__u)?1:0))for(_e=le-1,H=le+1;_e>=0||H<V.length;){if(_e>=0){if((ue=V[_e])&&!(2&ue.__u)&&ie==ue.key&&Ce===ue.type)return _e;_e--}if(H<V.length){if((ue=V[H])&&!(2&ue.__u)&&ie==ue.key&&Ce===ue.type)return H;H++}}return-1}function $r(K,V,le){V[0]=="-"?K.setProperty(V,le==null?"":le):K[V]=le==null?"":typeof le!="number"||qt.test(V)?le:le+"px"}function Oe(K,V,le,xe,_e){var H;e:if(V=="style")if(typeof le=="string")K.style.cssText=le;else{if(typeof xe=="string"&&(K.style.cssText=xe=""),xe)for(V in xe)le&&V in le||$r(K.style,V,"");if(le)for(V in le)xe&&le[V]===xe[V]||$r(K.style,V,le[V])}else if(V[0]=="o"&&V[1]=="n")H=V!=(V=V.replace(It,"$1")),V=V.toLowerCase()in K||V=="onFocusOut"||V=="onFocusIn"?V.toLowerCase().slice(2):V.slice(2),K.l||(K.l={}),K.l[V+H]=le,le?xe?le.u=xe.u:(le.u=rn,K.addEventListener(V,H?pe:$t,H)):K.removeEventListener(V,H?pe:$t,H);else{if(_e=="http://www.w3.org/2000/svg")V=V.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(V!="width"&&V!="height"&&V!="href"&&V!="list"&&V!="form"&&V!="tabIndex"&&V!="download"&&V!="rowSpan"&&V!="colSpan"&&V!="role"&&V!="popover"&&V in K)try{K[V]=le==null?"":le;break e}catch(ie){}typeof le=="function"||(le==null||le===!1&&V[4]!="-"?K.removeAttribute(V):K.setAttribute(V,V=="popover"&&le==1?"":le))}}function Ne(K){return function(V){if(this.l){var le=this.l[V.type+K];if(V.t==null)V.t=rn++;else if(V.t<le.u)return;return le(ce.event?ce.event(V):V)}}}function Be(K,V,le,xe,_e,H,ie,Ce,ue,oe){var ke,re,ht,$,ne,fe,me,Se,Ze,At,bn,Ue,$e,vn,Cn,Mn,lr,Ln=V.type;if(V.constructor!==void 0)return null;128&le.__u&&(ue=!!(32&le.__u),H=[Ce=V.__e=le.__e]),(ke=ce.__b)&&ke(V);e:if(typeof Ln=="function")try{if(Se=V.props,Ze="prototype"in Ln&&Ln.prototype.render,At=(ke=Ln.contextType)&&xe[ke.__c],bn=ke?At?At.props.value:ke.__:xe,le.__c?me=(re=V.__c=le.__c).__=re.__E:(Ze?V.__c=re=new Ln(Se,bn):(V.__c=re=new wt(Se,bn),re.constructor=Ln,re.render=tr),At&&At.sub(re),re.props=Se,re.state||(re.state={}),re.context=bn,re.__n=xe,ht=re.__d=!0,re.__h=[],re._sb=[]),Ze&&re.__s==null&&(re.__s=re.state),Ze&&Ln.getDerivedStateFromProps!=null&&(re.__s==re.state&&(re.__s=Jt({},re.__s)),Jt(re.__s,Ln.getDerivedStateFromProps(Se,re.__s))),$=re.props,ne=re.state,re.__v=V,ht)Ze&&Ln.getDerivedStateFromProps==null&&re.componentWillMount!=null&&re.componentWillMount(),Ze&&re.componentDidMount!=null&&re.__h.push(re.componentDidMount);else{if(Ze&&Ln.getDerivedStateFromProps==null&&Se!==$&&re.componentWillReceiveProps!=null&&re.componentWillReceiveProps(Se,bn),!re.__e&&(re.shouldComponentUpdate!=null&&re.shouldComponentUpdate(Se,re.__s,bn)===!1||V.__v==le.__v)){for(V.__v!=le.__v&&(re.props=Se,re.state=re.__s,re.__d=!1),V.__e=le.__e,V.__k=le.__k,V.__k.some(function(hn){hn&&(hn.__=V)}),Ue=0;Ue<re._sb.length;Ue++)re.__h.push(re._sb[Ue]);re._sb=[],re.__h.length&&ie.push(re);break e}re.componentWillUpdate!=null&&re.componentWillUpdate(Se,re.__s,bn),Ze&&re.componentDidUpdate!=null&&re.__h.push(function(){re.componentDidUpdate($,ne,fe)})}if(re.context=bn,re.props=Se,re.__P=K,re.__e=!1,$e=ce.__r,vn=0,Ze){for(re.state=re.__s,re.__d=!1,$e&&$e(V),ke=re.render(re.props,re.state,re.context),Cn=0;Cn<re._sb.length;Cn++)re.__h.push(re._sb[Cn]);re._sb=[]}else do re.__d=!1,$e&&$e(V),ke=re.render(re.props,re.state,re.context),re.state=re.__s;while(re.__d&&++vn<25);re.state=re.__s,re.getChildContext!=null&&(xe=Jt(Jt({},xe),re.getChildContext())),Ze&&!ht&&re.getSnapshotBeforeUpdate!=null&&(fe=re.getSnapshotBeforeUpdate($,ne)),Ce=_t(K,Qn(Mn=ke!=null&&ke.type===we&&ke.key==null?ke.props.children:ke)?Mn:[Mn],V,le,xe,_e,H,ie,Ce,ue,oe),re.base=V.__e,V.__u&=-161,re.__h.length&&ie.push(re),me&&(re.__E=re.__=null)}catch(hn){if(V.__v=null,ue||H!=null)if(hn.then){for(V.__u|=ue?160:128;Ce&&Ce.nodeType==8&&Ce.nextSibling;)Ce=Ce.nextSibling;H[H.indexOf(Ce)]=null,V.__e=Ce}else for(lr=H.length;lr--;)fn(H[lr]);else V.__e=le.__e,V.__k=le.__k;ce.__e(hn,V,le)}else H==null&&V.__v==le.__v?(V.__k=le.__k,V.__e=le.__e):Ce=V.__e=sr(le.__e,V,le,xe,_e,H,ie,ue,oe);return(ke=ce.diffed)&&ke(V),128&V.__u?void 0:Ce}function Tt(K,V,le){for(var xe=0;xe<le.length;xe++)vr(le[xe],le[++xe],le[++xe]);ce.__c&&ce.__c(V,K),K.some(function(_e){try{K=_e.__h,_e.__h=[],K.some(function(H){H.call(_e)})}catch(H){ce.__e(H,_e.__v)}})}function sr(K,V,le,xe,_e,H,ie,Ce,ue){var oe,ke,re,ht,$,ne,fe,me=le.props,Se=V.props,Ze=V.type;if(Ze=="svg"?_e="http://www.w3.org/2000/svg":Ze=="math"?_e="http://www.w3.org/1998/Math/MathML":_e||(_e="http://www.w3.org/1999/xhtml"),H!=null){for(oe=0;oe<H.length;oe++)if(($=H[oe])&&"setAttribute"in $==!!Ze&&(Ze?$.localName==Ze:$.nodeType==3)){K=$,H[oe]=null;break}}if(K==null){if(Ze==null)return document.createTextNode(Se);K=document.createElementNS(_e,Ze,Se.is&&Se),Ce&&(ce.__m&&ce.__m(V,H),Ce=!1),H=null}if(Ze===null)me===Se||Ce&&K.data===Se||(K.data=Se);else{if(H=H&&J.call(K.childNodes),me=le.props||X,!Ce&&H!=null)for(me={},oe=0;oe<K.attributes.length;oe++)me[($=K.attributes[oe]).name]=$.value;for(oe in me)if($=me[oe],oe!="children"){if(oe=="dangerouslySetInnerHTML")re=$;else if(!(oe in Se)){if(oe=="value"&&"defaultValue"in Se||oe=="checked"&&"defaultChecked"in Se)continue;Oe(K,oe,null,$,_e)}}for(oe in Se)$=Se[oe],oe=="children"?ht=$:oe=="dangerouslySetInnerHTML"?ke=$:oe=="value"?ne=$:oe=="checked"?fe=$:Ce&&typeof $!="function"||me[oe]===$||Oe(K,oe,$,me[oe],_e);if(ke)Ce||re&&(ke.__html===re.__html||ke.__html===K.innerHTML)||(K.innerHTML=ke.__html),V.__k=[];else if(re&&(K.innerHTML=""),_t(K,Qn(ht)?ht:[ht],V,le,xe,Ze=="foreignObject"?"http://www.w3.org/1999/xhtml":_e,H,ie,H?H[0]:le.__k&&En(le,0),Ce,ue),H!=null)for(oe=H.length;oe--;)fn(H[oe]);Ce||(oe="value",Ze=="progress"&&ne==null?K.removeAttribute("value"):ne!==void 0&&(ne!==K[oe]||Ze=="progress"&&!ne||Ze=="option"&&ne!==me[oe])&&Oe(K,oe,ne,me[oe],_e),oe="checked",fe!==void 0&&fe!==K[oe]&&Oe(K,oe,fe,me[oe],_e))}return K}function vr(K,V,le){try{if(typeof K=="function"){var xe=typeof K.__u=="function";xe&&K.__u(),xe&&V==null||(K.__u=K(V))}else K.current=V}catch(_e){ce.__e(_e,le)}}function Pr(K,V,le){var xe,_e;if(ce.unmount&&ce.unmount(K),(xe=K.ref)&&(xe.current&&xe.current!==K.__e||vr(xe,null,V)),(xe=K.__c)!=null){if(xe.componentWillUnmount)try{xe.componentWillUnmount()}catch(H){ce.__e(H,V)}xe.base=xe.__P=null}if(xe=K.__k)for(_e=0;_e<xe.length;_e++)xe[_e]&&Pr(xe[_e],V,le||typeof K.type!="function");le||fn(K.__e),K.__c=K.__=K.__e=void 0}function tr(K,V,le){return this.constructor(K,le)}function Yn(K,V,le){var xe,_e,H,ie;V==document&&(V=document.documentElement),ce.__&&ce.__(K,V),_e=(xe=typeof le=="function")?null:le&&le.__k||V.__k,H=[],ie=[],Be(V,K=(!xe&&le||V).__k=er(we,null,[K]),_e||X,X,V.namespaceURI,!xe&&le?[le]:_e?null:V.firstChild?J.call(V.childNodes):null,H,!xe&&le?le:_e?_e.__e:V.firstChild,xe,ie),Tt(H,K,ie)}function nr(K,V){Yn(K,V,nr)}function Hr(K,V,le){var xe,_e,H,ie,Ce=Jt({},K.props);for(H in K.type&&K.type.defaultProps&&(ie=K.type.defaultProps),V)H=="key"?xe=V[H]:H=="ref"?_e=V[H]:Ce[H]=V[H]===void 0&&ie!==void 0?ie[H]:V[H];return arguments.length>2&&(Ce.children=arguments.length>3?J.call(arguments,2):le),dn(K.type,Ce,xe||K.key,_e||K.ref,null)}function Vr(K,V){var le={__c:V="__cC"+Pt++,__:K,Consumer:function(xe,_e){return xe.children(_e)},Provider:function(xe){var _e,H;return this.getChildContext||(_e=new Set,(H={})[V]=this,this.getChildContext=function(){return H},this.componentWillUnmount=function(){_e=null},this.shouldComponentUpdate=function(ie){this.props.value!==ie.value&&_e.forEach(function(Ce){Ce.__e=!0,Ar(Ce)})},this.sub=function(ie){_e.add(ie);var Ce=ie.componentWillUnmount;ie.componentWillUnmount=function(){_e&&_e.delete(ie),Ce&&Ce.call(ie)}}),xe.children}};return le.Provider.__=le.Consumer.contextType=le}J=un.slice,ce={__e:function(K,V,le,xe){for(var _e,H,ie;V=V.__;)if((_e=V.__c)&&!_e.__)try{if((H=_e.constructor)&&H.getDerivedStateFromError!=null&&(_e.setState(H.getDerivedStateFromError(K)),ie=_e.__d),_e.componentDidCatch!=null&&(_e.componentDidCatch(K,xe||{}),ie=_e.__d),ie)return _e.__E=_e}catch(Ce){K=Ce}throw K}},ee=0,We=function(K){return K!=null&&K.constructor==null},wt.prototype.setState=function(K,V){var le;le=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Jt({},this.state),typeof K=="function"&&(K=K(Jt({},le),this.props)),K&&Jt(le,K),K!=null&&this.__v&&(V&&this._sb.push(V),Ar(this))},wt.prototype.forceUpdate=function(K){this.__v&&(this.__e=!0,K&&this.__h.push(K),Ar(this))},wt.prototype.render=we,Ye=[],Ct=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,st=function(K,V){return K.__v.__b-V.__v.__b},bt.__r=0,It=/(PointerCapture)$|Capture$/i,rn=0,$t=Ne(!1),pe=Ne(!0),Pt=0},5994:(Ge,Fe,Ve)=>{"use strict";Ve.d(Fe,{Bi:()=>Ar,J0:()=>qt,Kr:()=>Br,MN:()=>En,Md:()=>an,NT:()=>wt,Nf:()=>fn,WO:()=>Qn,Yn:()=>dn,hb:()=>we,li:()=>er,vJ:()=>Jt});var J=Ve(172),ce,ee,We,Ye,gt=0,Ct=[],st=J.options,It=st.__b,rn=st.__r,$t=st.diffed,pe=st.__c,Pt=st.unmount,X=st.__;function un(Oe,Ne){st.__h&&st.__h(ee,Oe,gt||Ne),gt=0;var Be=ee.__H||(ee.__H={__:[],__h:[]});return Oe>=Be.__.length&&Be.__.push({}),Be.__[Oe]}function qt(Oe){return gt=1,Qn($r,Oe)}function Qn(Oe,Ne,Be){var Tt=un(ce++,2);if(Tt.t=Oe,!Tt.__c&&(Tt.__=[Be?Be(Ne):$r(void 0,Ne),function(tr){var Yn=Tt.__N?Tt.__N[0]:Tt.__[0],nr=Tt.t(Yn,tr);Yn!==nr&&(Tt.__N=[nr,Tt.__[1]],Tt.__c.setState({}))}],Tt.__c=ee,!ee.u)){var sr=function(tr,Yn,nr){if(!Tt.__c.__H)return!0;var Hr=Tt.__c.__H.__.filter(function(K){return!!K.__c});if(Hr.every(function(K){return!K.__N}))return!vr||vr.call(this,tr,Yn,nr);var Vr=Tt.__c.props!==tr;return Hr.forEach(function(K){if(K.__N){var V=K.__[0];K.__=K.__N,K.__N=void 0,V!==K.__[0]&&(Vr=!0)}}),vr&&vr.call(this,tr,Yn,nr)||Vr};ee.u=!0;var vr=ee.shouldComponentUpdate,Pr=ee.componentWillUpdate;ee.componentWillUpdate=function(tr,Yn,nr){if(this.__e){var Hr=vr;vr=void 0,sr(tr,Yn,nr),vr=Hr}Pr&&Pr.call(this,tr,Yn,nr)},ee.shouldComponentUpdate=sr}return Tt.__N||Tt.__}function Jt(Oe,Ne){var Be=un(ce++,3);!st.__s&&Ur(Be.__H,Ne)&&(Be.__=Oe,Be.i=Ne,ee.__H.__h.push(Be))}function fn(Oe,Ne){var Be=un(ce++,4);!st.__s&&Ur(Be.__H,Ne)&&(Be.__=Oe,Be.i=Ne,ee.__h.push(Be))}function er(Oe){return gt=5,Br(function(){return{current:Oe}},[])}function dn(Oe,Ne,Be){gt=6,fn(function(){return typeof Oe=="function"?(Oe(Ne()),function(){return Oe(null)}):Oe?(Oe.current=Ne(),function(){return Oe.current=null}):void 0},Be==null?Be:Be.concat(Oe))}function Br(Oe,Ne){var Be=un(ce++,7);return Ur(Be.__H,Ne)&&(Be.__=Oe(),Be.__H=Ne,Be.__h=Oe),Be.__}function we(Oe,Ne){return gt=8,Br(function(){return Oe},Ne)}function wt(Oe){var Ne=ee.context[Oe.__c],Be=un(ce++,9);return Be.c=Oe,Ne?(Be.__==null&&(Be.__=!0,Ne.sub(ee)),Ne.props.value):Oe.__}function En(Oe,Ne){st.useDebugValue&&st.useDebugValue(Ne?Ne(Oe):Oe)}function an(Oe){var Ne=un(ce++,10),Be=qt();return Ne.__=Oe,ee.componentDidCatch||(ee.componentDidCatch=function(Tt,sr){Ne.__&&Ne.__(Tt,sr),Be[1](Tt)}),[Be[0],function(){Be[1](void 0)}]}function Ar(){var Oe=un(ce++,11);if(!Oe.__){for(var Ne=ee.__v;Ne!==null&&!Ne.__m&&Ne.__!==null;)Ne=Ne.__;var Be=Ne.__m||(Ne.__m=[0,0]);Oe.__="P"+Be[0]+"-"+Be[1]++}return Oe.__}function bt(){for(var Oe;Oe=Ct.shift();)if(Oe.__P&&Oe.__H)try{Oe.__H.__h.forEach(br),Oe.__H.__h.forEach(Wr),Oe.__H.__h=[]}catch(Ne){Oe.__H.__h=[],st.__e(Ne,Oe.__v)}}st.__b=function(Oe){ee=null,It&&It(Oe)},st.__=function(Oe,Ne){Oe&&Ne.__k&&Ne.__k.__m&&(Oe.__m=Ne.__k.__m),X&&X(Oe,Ne)},st.__r=function(Oe){rn&&rn(Oe),ce=0;var Ne=(ee=Oe.__c).__H;Ne&&(We===ee?(Ne.__h=[],ee.__h=[],Ne.__.forEach(function(Be){Be.__N&&(Be.__=Be.__N),Be.i=Be.__N=void 0})):(Ne.__h.forEach(br),Ne.__h.forEach(Wr),Ne.__h=[],ce=0)),We=ee},st.diffed=function(Oe){$t&&$t(Oe);var Ne=Oe.__c;Ne&&Ne.__H&&(Ne.__H.__h.length&&(Ct.push(Ne)!==1&&Ye===st.requestAnimationFrame||((Ye=st.requestAnimationFrame)||la)(bt)),Ne.__H.__.forEach(function(Be){Be.i&&(Be.__H=Be.i),Be.i=void 0})),We=ee=null},st.__c=function(Oe,Ne){Ne.some(function(Be){try{Be.__h.forEach(br),Be.__h=Be.__h.filter(function(Tt){return!Tt.__||Wr(Tt)})}catch(Tt){Ne.some(function(sr){sr.__h&&(sr.__h=[])}),Ne=[],st.__e(Tt,Be.__v)}}),pe&&pe(Oe,Ne)},st.unmount=function(Oe){Pt&&Pt(Oe);var Ne,Be=Oe.__c;Be&&Be.__H&&(Be.__H.__.forEach(function(Tt){try{br(Tt)}catch(sr){Ne=sr}}),Be.__H=void 0,Ne&&st.__e(Ne,Be.__v))};var _t=typeof requestAnimationFrame=="function";function la(Oe){var Ne,Be=function(){clearTimeout(Tt),_t&&cancelAnimationFrame(Ne),setTimeout(Oe)},Tt=setTimeout(Be,100);_t&&(Ne=requestAnimationFrame(Be))}function br(Oe){var Ne=ee,Be=Oe.__c;typeof Be=="function"&&(Oe.__c=void 0,Be()),ee=Ne}function Wr(Oe){var Ne=ee;Oe.__c=Oe.__(),ee=Ne}function Ur(Oe,Ne){return!Oe||Oe.length!==Ne.length||Ne.some(function(Be,Tt){return Be!==Oe[Tt]})}function $r(Oe,Ne){return typeof Ne=="function"?Ne(Oe):Ne}},8493:(Ge,Fe,Ve)=>{"use strict";var J=Ve(7402);function ce(pe,Pt){return pe===Pt&&(pe!==0||1/pe===1/Pt)||pe!==pe&&Pt!==Pt}var ee=typeof Object.is=="function"?Object.is:ce,We=J.useState,Ye=J.useEffect,gt=J.useLayoutEffect,Ct=J.useDebugValue;function st(pe,Pt){var X=Pt(),un=We({inst:{value:X,getSnapshot:Pt}}),qt=un[0].inst,Qn=un[1];return gt(function(){qt.value=X,qt.getSnapshot=Pt,It(qt)&&Qn({inst:qt})},[pe,X,Pt]),Ye(function(){return It(qt)&&Qn({inst:qt}),pe(function(){It(qt)&&Qn({inst:qt})})},[pe]),Ct(X),X}function It(pe){var Pt=pe.getSnapshot;pe=pe.value;try{var X=Pt();return!ee(pe,X)}catch(un){return!0}}function rn(pe,Pt){return Pt()}var $t=typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"?rn:st;Fe.useSyncExternalStore=J.useSyncExternalStore!==void 0?J.useSyncExternalStore:$t},9888:(Ge,Fe,Ve)=>{"use strict";Ge.exports=Ve(8493)},4915:Ge=>{Ge.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},5928:(Ge,Fe,Ve)=>{var J={"./bg/common.json":[5022,5022],"./bn/common.json":[1603,1603],"./bs/common.json":[8930,8930],"./ca/common.json":[1971,1971],"./cs/common.json":[6121,6121],"./da/common.json":[8958,8958],"./de/common.json":[9378,9378],"./el/common.json":[3296,3296],"./en/common.json":[9802],"./es/common.json":[7067,7067],"./et/common.json":[2184,2184],"./fi/common.json":[2996,2996],"./fr/common.json":[227,227],"./hi/common.json":[1738,1738],"./hr/common.json":[3013,3013],"./hu/common.json":[126,126],"./id/common.json":[7076,7076],"./it/common.json":[1140,1140],"./ja/common.json":[9520,9520],"./ko/common.json":[2605,2605],"./lt/common.json":[903,903],"./lv/common.json":[8477,8477],"./mn/common.json":[2946,2946],"./ms/common.json":[1123,1123],"./nb/common.json":[2427,2427],"./nl/common.json":[8221,8221],"./pl/common.json":[3579,3579],"./pt-BR/common.json":[9220,9220],"./pt/common.json":[5667,5667],"./ro/common.json":[1078,1078],"./ru/common.json":[1444,1444],"./sk/common.json":[7745,7745],"./sl/common.json":[3570,3570],"./sr/common.json":[7516,7516],"./sv/common.json":[2416,2416],"./sw/common.json":[3021,3021],"./th/common.json":[7587,7587],"./tr/common.json":[9409,9409],"./uk/common.json":[3379,3379],"./vi/common.json":[5060,5060],"./zh-CN/common.json":[289,289],"./zh-TW/common.json":[4297,4297]};function ce(ee){if(!Ve.o(J,ee))return Promise.resolve().then(()=>{var gt=new Error("Cannot find module '"+ee+"'");throw gt.code="MODULE_NOT_FOUND",gt});var We=J[ee],Ye=We[0];return Promise.all(We.slice(1).map(Ve.e)).then(()=>Ve.t(Ye,19))}ce.keys=()=>Object.keys(J),ce.id=5928,Ge.exports=ce},9802:Ge=>{"use strict";Ge.exports=JSON.parse(`{"typicall-answer-time":"{{teamName}} typically answers in 5 minutes","this-message-was-deleted":"This message was deleted","reach-out-to-team":"Reach out to {{teamName}}","search-for-help":"Search for help","title":"Messages","back":"Back","welcome":"Welcome to Featurebase Messenger","get-help":"Get Help","reach-out":"Reach out to {{teamName}}","latest-updates":"Latest updates","no-messages":"No messages yet","start-conversation":"Start a new conversation","typing-indicator":"{{name}} is typing...","powered-by":"Powered by Featurebase","home":"Home","messages":"Messages","help":"Help","changelog":"Changelog","uploaded-custom-content":"Uploaded custom content","retrying":"Retrying...","try-again":"Try Again","go-back":"Go Back","no-messages-yet":"No messages yet","failed-to-load-conversation":"Failed to load conversation. Please check your connection and try again.","check-connection":"Failed to send message. Please check your connection and try again.","retrying-message":"Retrying message...","open-emoji-picker":"Open emoji picker","submit-message":"Submit message","attach-file":"Attach file","team-reply-time":"{{teamName}} typically answers in 5 minutes","team-reach-out":"Reach out to {{teamName}}","send-us-a-message":"Send us a message...","time-now":"now","time-minutes-ago":"{{count}}m ago","time-hours-ago":"{{count}}h ago","time-days-ago":"{{count}}d ago","time-months-ago":"{{count}}mo ago","time-years-ago":"{{count}}y ago","time-in-minutes":"in {{count}}m","time-in-hours":"in {{count}}h","time-in-days":"in {{count}}d","time-in-months":"in {{count}}mo","time-in-years":"in {{count}}y","month-january":"January","month-february":"February","month-march":"March","month-april":"April","month-may":"May","month-june":"June","month-july":"July","month-august":"August","month-september":"September","month-october":"October","month-november":"November","month-december":"December","date-format":"{{month}} {{day}}","error-loading-updates":"Unable to load updates. Please check your connection and try again.","error-loading-update-details":"Unable to load the update details. Please check your connection and try again.","no-changelogs":"No changelogs yet","error-loading-help-center":"Unable to load help center content. Please check your connection and try again.","error-loading-collection":"Unable to load collection details. Please check your connection and try again.","error-loading-article":"Unable to load article content. Please check your connection and try again.","no-help-articles":"No help articles available","article-count_zero":"No articles","article-count_one":"{{count}} article","article-count_few":"{{count}} articles","article-count_many":"{{count}} articles","article-count_other":"{{count}} articles","written-by":"Written by","updated":"Updated","no-results":"No results found","no-results-for":"No results found for \\"{{query}}\\"","search-for-help-input-placeholder":"Search for help...","you":"You","emoji-picker":{"search":"Search","search_no_results_1":"Oh no!","search_no_results_2":"That emoji couldn't be found","pick":"Pick an emoji\u2026","add_custom":"Add custom emoji","categories":{"activity":"Activity","custom":"Custom","flags":"Flags","foods":"Food & Drink","frequent":"Frequently used","nature":"Animals & Nature","objects":"Objects","people":"Smileys & People","places":"Travel & Places","search":"Search Results","symbols":"Symbols"},"skins":{"1":"Default","2":"Light","3":"Medium-Light","4":"Medium","5":"Medium-Dark","6":"Dark","choose":"Choose default skin tone"}},"form":{"email-validation-error":"Please enter a valid email address","submit-error":"Failed to submit. Please try again.","email-notification-label":"Get notified by email:","input-placeholder":"Enter your {{field}}","select-placeholder":"Select options","select-single-option-placeholder":"Select an option","all-fields-required":"Please fill in all required fields"},"content-player":{"processing":"Video is still processing, it will be ready shortly...","processing-time":"This might take up to 30 seconds."},"notifications":{"new-message":"\u{1F514} New message - ","new-messages":"\u{1F514} ({count}) New messages - ","error-playing-sound":"Error playing notification sound:","send-message-placeholder":"Message...","message-time":{"now":"now","minutes-ago":"{{count}}m ago","hours-ago":"{{count}}h ago","days-ago":"{{count}}d ago","months-ago":"{{count}}mo ago","years-ago":"{{count}}y ago","in-minutes":"in {{count}}m","in-hours":"in {{count}}h","in-days":"in {{count}}d","in-months":"in {{count}}mo","in-years":"in {{count}}y"}},"will-be-notified-here-and-by-email":"You'll be notified here and by email for any new messages","thinkingMessages":{"processing":"Processing answer...","thinking":"Thinking...","compiling":"Compiling information...","moment":"Just a moment...","almostThere":"Almost there..."},"deleted-message":"Message was deleted","attribute-collection-prompt":"Asked for {{attributes}}","your-conversation-has-ended":"Your conversation has ended","bot-intro-greeting":"Hello! I'm a bot here to assist you with any questions about {{organizationName}}. Don't hesitate to ask!","bot-intro-question":"What can I assist you with today?","team-can-also-help":"The team can also help","sources":"Sources"}`)}},Tn={};function de(Ge){var Fe=Tn[Ge];if(Fe!==void 0)return Fe.exports;var Ve=Tn[Ge]={exports:{}};return In[Ge].call(Ve.exports,Ve,Ve.exports,de),Ve.exports}de.m=In,de.n=Ge=>{var Fe=Ge&&Ge.__esModule?()=>Ge.default:()=>Ge;return de.d(Fe,{a:Fe}),Fe},(()=>{var Ge=Object.getPrototypeOf?Ve=>Object.getPrototypeOf(Ve):Ve=>Ve.__proto__,Fe;de.t=function(Ve,J){if(J&1&&(Ve=this(Ve)),J&8||typeof Ve=="object"&&Ve&&(J&4&&Ve.__esModule||J&16&&typeof Ve.then=="function"))return Ve;var ce=Object.create(null);de.r(ce);var ee={};Fe=Fe||[null,Ge({}),Ge([]),Ge(Ge)];for(var We=J&2&&Ve;typeof We=="object"&&!~Fe.indexOf(We);We=Ge(We))Object.getOwnPropertyNames(We).forEach(Ye=>ee[Ye]=()=>Ve[Ye]);return ee.default=()=>Ve,de.d(ce,ee),ce}})(),de.d=(Ge,Fe)=>{for(var Ve in Fe)de.o(Fe,Ve)&&!de.o(Ge,Ve)&&Object.defineProperty(Ge,Ve,{enumerable:!0,get:Fe[Ve]})},de.f={},de.e=Ge=>Promise.all(Object.keys(de.f).reduce((Fe,Ve)=>(de.f[Ve](Ge,Fe),Fe),[])),de.u=Ge=>""+({753:"pako-dist",1157:"html-dom-parser",1838:"html-react-parser",2550:"react-player",3753:"tiptap",3956:"snapsvg-dist",6021:"highlight",6161:"emoji-mart-data",7789:"prosemirror",8096:"vendors",8531:"lowlight-lib",8748:"hast-util",9411:"rrweb"}[Ge]||Ge)+"."+{126:"3ece173abfb3f2ccabe8",227:"f116fbb523d89226f4b5",289:"1c0bc99fadafa6507562",753:"01e1bd510dd3339c7cdd",903:"87c1b97d26895a7d1a0b",1078:"27c9ab5dc3559394ccba",1123:"5369b90fbbe2c3c612cd",1140:"e2a2fde731d8cb19025f",1157:"483c52687da57cbae2af",1444:"06bad022eba44a38aef0",1603:"3277c7976beece704c56",1738:"545abbeda5383cced42d",1838:"2618c5934a72dcb9cc94",1971:"1185570481f500e4750e",2184:"7b1477f449ed002d1706",2416:"0ac30f0909759a210555",2427:"410c345054902b630616",2550:"d008142982a89fdd3ea7",2605:"d3079e316d3fe0641982",2946:"6a65ae576c09b1319965",2996:"b45fc73b73edde753178",3013:"548c02dc696ce730c70b",3021:"c6d1fdb98c03ec40296e",3296:"c4d1ce8293fd7a7cc69d",3379:"07626ab42d0917dd1fb1",3570:"5d4c00a7b7f0dd67f36c",3579:"61c8ef74a1f017125197",3753:"54a2d8a8ac704397aa4a",3956:"cd7c4a95efd2402fd2d0",4297:"99ea5b714c3a19d1ea5c",5022:"104bb9d64ff4b82171e4",5060:"a93a672f6031517fbe42",5347:"9eb80710f3dee45bc5f4",5667:"8136c474f9b4caeea3a4",6021:"e01d92b39fd67bde7075",6121:"04cbbf4521d2c9e4f3ac",6161:"1c88c34098e9e24d427d",7067:"b106a470321eb946777f",7076:"d473ac9d6a791abed7b1",7516:"ffe46e2b32bfecf52393",7587:"d2fa3fe6c51f507691f5",7745:"4aba38250b80f4909f91",7789:"010c4686e5b55b80887d",8096:"4b67cdc00423323482a2",8221:"6ea52c3a9ad5d19e44ef",8477:"d420d6438f41e4fa9efd",8531:"669d7037507e1466a3eb",8748:"b0091ea80a2e01b0d102",8930:"90ce5bdc8b3c2906f7d2",8958:"7e7b0b77d4be50062400",9220:"7c46587d1c9428eb7635",9378:"3c67a18deb0dce26f341",9409:"c254251dfcde12ccfb2f",9411:"c5d66d10eb94c5e89084",9520:"51dc5b9d08510021d718"}[Ge]+".chunk.js",de.miniCssF=Ge=>""+Ge+"-c58d4d78c303cce42c6c.css",de.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(Ge){if(typeof window=="object")return window}}(),de.o=(Ge,Fe)=>Object.prototype.hasOwnProperty.call(Ge,Fe),(()=>{var Ge={},Fe="FeaturebaseSDK:";de.l=(Ve,J,ce,ee)=>{if(Ge[Ve]){Ge[Ve].push(J);return}var We,Ye;if(ce!==void 0)for(var gt=document.getElementsByTagName("script"),Ct=0;Ct<gt.length;Ct++){var st=gt[Ct];if(st.getAttribute("src")==Ve||st.getAttribute("data-webpack")==Fe+ce){We=st;break}}We||(Ye=!0,We=document.createElement("script"),We.charset="utf-8",We.timeout=120,de.nc&&We.setAttribute("nonce",de.nc),We.setAttribute("data-webpack",Fe+ce),We.src=Ve),Ge[Ve]=[J];var It=($t,pe)=>{We.onerror=We.onload=null,clearTimeout(rn);var Pt=Ge[Ve];if(delete Ge[Ve],We.parentNode&&We.parentNode.removeChild(We),Pt&&Pt.forEach(X=>X(pe)),$t)return $t(pe)},rn=setTimeout(It.bind(null,void 0,{type:"timeout",target:We}),12e4);We.onerror=It.bind(null,We.onerror),We.onload=It.bind(null,We.onload),Ye&&document.head.appendChild(We)}})(),de.r=Ge=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(Ge,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Ge,"__esModule",{value:!0})},de.p="https://do.featurebase.app/js/",(()=>{if(typeof document!="undefined"){var Ge=(ce,ee,We,Ye,gt)=>{var Ct=document.createElement("link");Ct.rel="stylesheet",Ct.type="text/css",de.nc&&(Ct.nonce=de.nc);var st=It=>{if(Ct.onerror=Ct.onload=null,It.type==="load")Ye();else{var rn=It&&It.type,$t=It&&It.target&&It.target.href||ee,pe=new Error("Loading CSS chunk "+ce+` failed.
(`+rn+": "+$t+")");pe.name="ChunkLoadError",pe.code="CSS_CHUNK_LOAD_FAILED",pe.type=rn,pe.request=$t,Ct.parentNode&&Ct.parentNode.removeChild(Ct),gt(pe)}};return Ct.onerror=Ct.onload=st,Ct.href=ee,We?We.parentNode.insertBefore(Ct,We.nextSibling):document.head.appendChild(Ct),Ct},Fe=(ce,ee)=>{for(var We=document.getElementsByTagName("link"),Ye=0;Ye<We.length;Ye++){var gt=We[Ye],Ct=gt.getAttribute("data-href")||gt.getAttribute("href");if(gt.rel==="stylesheet"&&(Ct===ce||Ct===ee))return gt}for(var st=document.getElementsByTagName("style"),Ye=0;Ye<st.length;Ye++){var gt=st[Ye],Ct=gt.getAttribute("data-href");if(Ct===ce||Ct===ee)return gt}},Ve=ce=>new Promise((ee,We)=>{var Ye=de.miniCssF(ce),gt=de.p+Ye;if(Fe(Ye,gt))return ee();Ge(ce,gt,null,ee,We)}),J={1249:0};de.f.miniCss=(ce,ee)=>{var We={5347:1};J[ce]?ee.push(J[ce]):J[ce]!==0&&We[ce]&&ee.push(J[ce]=Ve(ce).then(()=>{J[ce]=0},Ye=>{throw delete J[ce],Ye}))}}})(),(()=>{var Ge={1249:0};de.f.j=(J,ce)=>{var ee=de.o(Ge,J)?Ge[J]:void 0;if(ee!==0)if(ee)ce.push(ee[2]);else if(/^(2(042|063|723)|3(015|392|968)|6((17|35|46)3|328|825|887)|7(301|458|570|627)|9(206|340|682|979)|1587|4444|5396|8446)$/.test(J))Ge[J]=0;else{var We=new Promise((st,It)=>ee=Ge[J]=[st,It]);ce.push(ee[2]=We);var Ye=de.p+de.u(J),gt=new Error,Ct=st=>{if(de.o(Ge,J)&&(ee=Ge[J],ee!==0&&(Ge[J]=void 0),ee)){var It=st&&(st.type==="load"?"missing":st.type),rn=st&&st.target&&st.target.src;gt.message="Loading chunk "+J+` failed.
(`+It+": "+rn+")",gt.name="ChunkLoadError",gt.type=It,gt.request=rn,ee[1](gt)}};de.l(Ye,Ct,"chunk-"+J,J)}};var Fe=(J,ce)=>{var[ee,We,Ye]=ce,gt,Ct,st=0;if(ee.some(rn=>Ge[rn]!==0)){for(gt in We)de.o(We,gt)&&(de.m[gt]=We[gt]);if(Ye)var It=Ye(de)}for(J&&J(ce);st<ee.length;st++)Ct=ee[st],de.o(Ge,Ct)&&Ge[Ct]&&Ge[Ct][0](),Ge[Ct]=0},Ve=Object(typeof self!="undefined"?self:wa).webpackChunkFeaturebaseSDK=Object(typeof self!="undefined"?self:wa).webpackChunkFeaturebaseSDK||[];Ve.forEach(Fe.bind(null,0)),Ve.push=Fe.bind(null,Ve.push.bind(Ve))})();var Fr={};return(()=>{"use strict";de.r(Fr),de.d(Fr,{pendingTheme:()=>ch});var Ge={};de.r(Ge),de.d(Ge,{Decoder:()=>Ef,Encoder:()=>yS,PacketType:()=>ln,protocol:()=>vS});var Fe;(function(i){i.assertEqual=u=>u;function s(u){}i.assertIs=s;function l(u){throw new Error}i.assertNever=l,i.arrayToEnum=u=>{const d={};for(const h of u)d[h]=h;return d},i.getValidEnumValues=u=>{const d=i.objectKeys(u).filter(m=>typeof u[u[m]]!="number"),h={};for(const m of d)h[m]=u[m];return i.objectValues(h)},i.objectValues=u=>i.objectKeys(u).map(function(d){return u[d]}),i.objectKeys=typeof Object.keys=="function"?u=>Object.keys(u):u=>{const d=[];for(const h in u)Object.prototype.hasOwnProperty.call(u,h)&&d.push(h);return d},i.find=(u,d)=>{for(const h of u)if(d(h))return h},i.isInteger=typeof Number.isInteger=="function"?u=>Number.isInteger(u):u=>typeof u=="number"&&isFinite(u)&&Math.floor(u)===u;function c(u,d=" | "){return u.map(h=>typeof h=="string"?`'${h}'`:h).join(d)}i.joinValues=c,i.jsonStringifyReplacer=(u,d)=>typeof d=="bigint"?d.toString():d})(Fe||(Fe={}));var Ve;(function(i){i.mergeShapes=(s,l)=>W(W({},s),l)})(Ve||(Ve={}));const J=Fe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ce=i=>{switch(typeof i){case"undefined":return J.undefined;case"string":return J.string;case"number":return isNaN(i)?J.nan:J.number;case"boolean":return J.boolean;case"function":return J.function;case"bigint":return J.bigint;case"symbol":return J.symbol;case"object":return Array.isArray(i)?J.array:i===null?J.null:i.then&&typeof i.then=="function"&&i.catch&&typeof i.catch=="function"?J.promise:typeof Map!="undefined"&&i instanceof Map?J.map:typeof Set!="undefined"&&i instanceof Set?J.set:typeof Date!="undefined"&&i instanceof Date?J.date:J.object;default:return J.unknown}},ee=Fe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),We=i=>JSON.stringify(i,null,2).replace(/"([^"]+)":/g,"$1:");class Ye extends Error{constructor(s){super(),this.issues=[],this.addIssue=c=>{this.issues=[...this.issues,c]},this.addIssues=(c=[])=>{this.issues=[...this.issues,...c]};const l=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,l):this.__proto__=l,this.name="ZodError",this.issues=s}get errors(){return this.issues}format(s){const l=s||function(d){return d.message},c={_errors:[]},u=d=>{for(const h of d.issues)if(h.code==="invalid_union")h.unionErrors.map(u);else if(h.code==="invalid_return_type")u(h.returnTypeError);else if(h.code==="invalid_arguments")u(h.argumentsError);else if(h.path.length===0)c._errors.push(l(h));else{let m=c,p=0;for(;p<h.path.length;){const g=h.path[p];p===h.path.length-1?(m[g]=m[g]||{_errors:[]},m[g]._errors.push(l(h))):m[g]=m[g]||{_errors:[]},m=m[g],p++}}};return u(this),c}static assert(s){if(!(s instanceof Ye))throw new Error(`Not a ZodError: ${s}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Fe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(s=l=>l.message){const l={},c=[];for(const u of this.issues)u.path.length>0?(l[u.path[0]]=l[u.path[0]]||[],l[u.path[0]].push(s(u))):c.push(s(u));return{formErrors:c,fieldErrors:l}}get formErrors(){return this.flatten()}}Ye.create=i=>new Ye(i);const gt=(i,s)=>{let l;switch(i.code){case ee.invalid_type:i.received===J.undefined?l="Required":l=`Expected ${i.expected}, received ${i.received}`;break;case ee.invalid_literal:l=`Invalid literal value, expected ${JSON.stringify(i.expected,Fe.jsonStringifyReplacer)}`;break;case ee.unrecognized_keys:l=`Unrecognized key(s) in object: ${Fe.joinValues(i.keys,", ")}`;break;case ee.invalid_union:l="Invalid input";break;case ee.invalid_union_discriminator:l=`Invalid discriminator value. Expected ${Fe.joinValues(i.options)}`;break;case ee.invalid_enum_value:l=`Invalid enum value. Expected ${Fe.joinValues(i.options)}, received '${i.received}'`;break;case ee.invalid_arguments:l="Invalid function arguments";break;case ee.invalid_return_type:l="Invalid function return type";break;case ee.invalid_date:l="Invalid date";break;case ee.invalid_string:typeof i.validation=="object"?"includes"in i.validation?(l=`Invalid input: must include "${i.validation.includes}"`,typeof i.validation.position=="number"&&(l=`${l} at one or more positions greater than or equal to ${i.validation.position}`)):"startsWith"in i.validation?l=`Invalid input: must start with "${i.validation.startsWith}"`:"endsWith"in i.validation?l=`Invalid input: must end with "${i.validation.endsWith}"`:Fe.assertNever(i.validation):i.validation!=="regex"?l=`Invalid ${i.validation}`:l="Invalid";break;case ee.too_small:i.type==="array"?l=`Array must contain ${i.exact?"exactly":i.inclusive?"at least":"more than"} ${i.minimum} element(s)`:i.type==="string"?l=`String must contain ${i.exact?"exactly":i.inclusive?"at least":"over"} ${i.minimum} character(s)`:i.type==="number"?l=`Number must be ${i.exact?"exactly equal to ":i.inclusive?"greater than or equal to ":"greater than "}${i.minimum}`:i.type==="date"?l=`Date must be ${i.exact?"exactly equal to ":i.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(i.minimum))}`:l="Invalid input";break;case ee.too_big:i.type==="array"?l=`Array must contain ${i.exact?"exactly":i.inclusive?"at most":"less than"} ${i.maximum} element(s)`:i.type==="string"?l=`String must contain ${i.exact?"exactly":i.inclusive?"at most":"under"} ${i.maximum} character(s)`:i.type==="number"?l=`Number must be ${i.exact?"exactly":i.inclusive?"less than or equal to":"less than"} ${i.maximum}`:i.type==="bigint"?l=`BigInt must be ${i.exact?"exactly":i.inclusive?"less than or equal to":"less than"} ${i.maximum}`:i.type==="date"?l=`Date must be ${i.exact?"exactly":i.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(i.maximum))}`:l="Invalid input";break;case ee.custom:l="Invalid input";break;case ee.invalid_intersection_types:l="Intersection results could not be merged";break;case ee.not_multiple_of:l=`Number must be a multiple of ${i.multipleOf}`;break;case ee.not_finite:l="Number must be finite";break;default:l=s.defaultError,Fe.assertNever(i)}return{message:l}};let Ct=gt;function st(i){Ct=i}function It(){return Ct}const rn=i=>{const{data:s,path:l,errorMaps:c,issueData:u}=i,d=[...l,...u.path||[]],h=Te(W({},u),{path:d});if(u.message!==void 0)return Te(W({},u),{path:d,message:u.message});let m="";const p=c.filter(g=>!!g).slice().reverse();for(const g of p)m=g(h,{data:s,defaultError:m}).message;return Te(W({},u),{path:d,message:m})},$t=[];function pe(i,s){const l=It(),c=rn({issueData:s,data:i.data,path:i.path,errorMaps:[i.common.contextualErrorMap,i.schemaErrorMap,l,l===gt?void 0:gt].filter(u=>!!u)});i.common.issues.push(c)}class Pt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(s,l){const c=[];for(const u of l){if(u.status==="aborted")return X;u.status==="dirty"&&s.dirty(),c.push(u.value)}return{status:s.value,value:c}}static mergeObjectAsync(s,l){return Sn(this,null,function*(){const c=[];for(const u of l){const d=yield u.key,h=yield u.value;c.push({key:d,value:h})}return Pt.mergeObjectSync(s,c)})}static mergeObjectSync(s,l){const c={};for(const u of l){const{key:d,value:h}=u;if(d.status==="aborted"||h.status==="aborted")return X;d.status==="dirty"&&s.dirty(),h.status==="dirty"&&s.dirty(),d.value!=="__proto__"&&(typeof h.value!="undefined"||u.alwaysSet)&&(c[d.value]=h.value)}return{status:s.value,value:c}}}const X=Object.freeze({status:"aborted"}),un=i=>({status:"dirty",value:i}),qt=i=>({status:"valid",value:i}),Qn=i=>i.status==="aborted",Jt=i=>i.status==="dirty",fn=i=>i.status==="valid",er=i=>typeof Promise!="undefined"&&i instanceof Promise;function dn(i,s,l,c){if(l==="a"&&!c)throw new TypeError("Private accessor was defined without a getter");if(typeof s=="function"?i!==s||!c:!s.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return l==="m"?c:l==="a"?c.call(i):c?c.value:s.get(i)}function Br(i,s,l,c,u){if(c==="m")throw new TypeError("Private method is not writable");if(c==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof s=="function"?i!==s||!u:!s.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return c==="a"?u.call(i,l):u?u.value=l:s.set(i,l),l}typeof SuppressedError=="function"&&SuppressedError;var we;(function(i){i.errToObj=s=>typeof s=="string"?{message:s}:s||{},i.toString=s=>typeof s=="string"?s:s==null?void 0:s.message})(we||(we={}));var wt,En;class an{constructor(s,l,c,u){this._cachedPath=[],this.parent=s,this.data=l,this._path=c,this._key=u}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Ar=(i,s)=>{if(fn(s))return{success:!0,data:s.value};if(!i.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const l=new Ye(i.common.issues);return this._error=l,this._error}}};function bt(i){if(!i)return{};const{errorMap:s,invalid_type_error:l,required_error:c,description:u}=i;if(s&&(l||c))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return s?{errorMap:s,description:u}:{errorMap:(h,m)=>{var p,g;const{message:b}=i;return h.code==="invalid_enum_value"?{message:b!=null?b:m.defaultError}:typeof m.data=="undefined"?{message:(p=b!=null?b:c)!==null&&p!==void 0?p:m.defaultError}:h.code!=="invalid_type"?{message:m.defaultError}:{message:(g=b!=null?b:l)!==null&&g!==void 0?g:m.defaultError}},description:u}}class _t{constructor(s){this.spa=this.safeParseAsync,this._def=s,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(s){return ce(s.data)}_getOrReturnCtx(s,l){return l||{common:s.parent.common,data:s.data,parsedType:ce(s.data),schemaErrorMap:this._def.errorMap,path:s.path,parent:s.parent}}_processInputParams(s){return{status:new Pt,ctx:{common:s.parent.common,data:s.data,parsedType:ce(s.data),schemaErrorMap:this._def.errorMap,path:s.path,parent:s.parent}}}_parseSync(s){const l=this._parse(s);if(er(l))throw new Error("Synchronous parse encountered promise.");return l}_parseAsync(s){const l=this._parse(s);return Promise.resolve(l)}parse(s,l){const c=this.safeParse(s,l);if(c.success)return c.data;throw c.error}safeParse(s,l){var c;const u={common:{issues:[],async:(c=l==null?void 0:l.async)!==null&&c!==void 0?c:!1,contextualErrorMap:l==null?void 0:l.errorMap},path:(l==null?void 0:l.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:ce(s)},d=this._parseSync({data:s,path:u.path,parent:u});return Ar(u,d)}parseAsync(s,l){return Sn(this,null,function*(){const c=yield this.safeParseAsync(s,l);if(c.success)return c.data;throw c.error})}safeParseAsync(s,l){return Sn(this,null,function*(){const c={common:{issues:[],contextualErrorMap:l==null?void 0:l.errorMap,async:!0},path:(l==null?void 0:l.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:ce(s)},u=this._parse({data:s,path:c.path,parent:c}),d=yield er(u)?u:Promise.resolve(u);return Ar(c,d)})}refine(s,l){const c=u=>typeof l=="string"||typeof l=="undefined"?{message:l}:typeof l=="function"?l(u):l;return this._refinement((u,d)=>{const h=s(u),m=()=>d.addIssue(W({code:ee.custom},c(u)));return typeof Promise!="undefined"&&h instanceof Promise?h.then(p=>p?!0:(m(),!1)):h?!0:(m(),!1)})}refinement(s,l){return this._refinement((c,u)=>s(c)?!0:(u.addIssue(typeof l=="function"?l(c,u):l),!1))}_refinement(s){return new mt({schema:this,typeName:Qe.ZodEffects,effect:{type:"refinement",refinement:s}})}superRefine(s){return this._refinement(s)}optional(){return Ke.create(this,this._def)}nullable(){return at.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ne.create(this,this._def)}promise(){return Vt.create(this,this._def)}or(s){return Se.create([this,s],this._def)}and(s){return Ue.create(this,s,this._def)}transform(s){return new mt(Te(W({},bt(this._def)),{schema:this,typeName:Qe.ZodEffects,effect:{type:"transform",transform:s}}))}default(s){const l=typeof s=="function"?s:()=>s;return new Zt(Te(W({},bt(this._def)),{innerType:this,defaultValue:l,typeName:Qe.ZodDefault}))}brand(){return new qr(W({typeName:Qe.ZodBranded,type:this},bt(this._def)))}catch(s){const l=typeof s=="function"?s:()=>s;return new on(Te(W({},bt(this._def)),{innerType:this,catchValue:l,typeName:Qe.ZodCatch}))}describe(s){const l=this.constructor;return new l(Te(W({},this._def),{description:s}))}pipe(s){return Pa.create(this,s)}readonly(){return uo.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const la=/^c[^\s-]{8,}$/i,br=/^[0-9a-z]+$/,Wr=/^[0-9A-HJKMNP-TV-Z]{26}$/,Ur=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,$r=/^[a-z0-9_-]{21}$/i,Oe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Ne=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Be="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Tt;const sr=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,vr=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Pr=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,tr="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Yn=new RegExp(`^${tr}$`);function nr(i){let s="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return i.precision?s=`${s}\\.\\d{${i.precision}}`:i.precision==null&&(s=`${s}(\\.\\d+)?`),s}function Hr(i){return new RegExp(`^${nr(i)}$`)}function Vr(i){let s=`${tr}T${nr(i)}`;const l=[];return l.push(i.local?"Z?":"Z"),i.offset&&l.push("([+-]\\d{2}:?\\d{2})"),s=`${s}(${l.join("|")})`,new RegExp(`^${s}$`)}function K(i,s){return!!((s==="v4"||!s)&&sr.test(i)||(s==="v6"||!s)&&vr.test(i))}class V extends _t{_parse(s){if(this._def.coerce&&(s.data=String(s.data)),this._getType(s)!==J.string){const d=this._getOrReturnCtx(s);return pe(d,{code:ee.invalid_type,expected:J.string,received:d.parsedType}),X}const c=new Pt;let u;for(const d of this._def.checks)if(d.kind==="min")s.data.length<d.value&&(u=this._getOrReturnCtx(s,u),pe(u,{code:ee.too_small,minimum:d.value,type:"string",inclusive:!0,exact:!1,message:d.message}),c.dirty());else if(d.kind==="max")s.data.length>d.value&&(u=this._getOrReturnCtx(s,u),pe(u,{code:ee.too_big,maximum:d.value,type:"string",inclusive:!0,exact:!1,message:d.message}),c.dirty());else if(d.kind==="length"){const h=s.data.length>d.value,m=s.data.length<d.value;(h||m)&&(u=this._getOrReturnCtx(s,u),h?pe(u,{code:ee.too_big,maximum:d.value,type:"string",inclusive:!0,exact:!0,message:d.message}):m&&pe(u,{code:ee.too_small,minimum:d.value,type:"string",inclusive:!0,exact:!0,message:d.message}),c.dirty())}else if(d.kind==="email")Ne.test(s.data)||(u=this._getOrReturnCtx(s,u),pe(u,{validation:"email",code:ee.invalid_string,message:d.message}),c.dirty());else if(d.kind==="emoji")Tt||(Tt=new RegExp(Be,"u")),Tt.test(s.data)||(u=this._getOrReturnCtx(s,u),pe(u,{validation:"emoji",code:ee.invalid_string,message:d.message}),c.dirty());else if(d.kind==="uuid")Ur.test(s.data)||(u=this._getOrReturnCtx(s,u),pe(u,{validation:"uuid",code:ee.invalid_string,message:d.message}),c.dirty());else if(d.kind==="nanoid")$r.test(s.data)||(u=this._getOrReturnCtx(s,u),pe(u,{validation:"nanoid",code:ee.invalid_string,message:d.message}),c.dirty());else if(d.kind==="cuid")la.test(s.data)||(u=this._getOrReturnCtx(s,u),pe(u,{validation:"cuid",code:ee.invalid_string,message:d.message}),c.dirty());else if(d.kind==="cuid2")br.test(s.data)||(u=this._getOrReturnCtx(s,u),pe(u,{validation:"cuid2",code:ee.invalid_string,message:d.message}),c.dirty());else if(d.kind==="ulid")Wr.test(s.data)||(u=this._getOrReturnCtx(s,u),pe(u,{validation:"ulid",code:ee.invalid_string,message:d.message}),c.dirty());else if(d.kind==="url")try{new URL(s.data)}catch(h){u=this._getOrReturnCtx(s,u),pe(u,{validation:"url",code:ee.invalid_string,message:d.message}),c.dirty()}else d.kind==="regex"?(d.regex.lastIndex=0,d.regex.test(s.data)||(u=this._getOrReturnCtx(s,u),pe(u,{validation:"regex",code:ee.invalid_string,message:d.message}),c.dirty())):d.kind==="trim"?s.data=s.data.trim():d.kind==="includes"?s.data.includes(d.value,d.position)||(u=this._getOrReturnCtx(s,u),pe(u,{code:ee.invalid_string,validation:{includes:d.value,position:d.position},message:d.message}),c.dirty()):d.kind==="toLowerCase"?s.data=s.data.toLowerCase():d.kind==="toUpperCase"?s.data=s.data.toUpperCase():d.kind==="startsWith"?s.data.startsWith(d.value)||(u=this._getOrReturnCtx(s,u),pe(u,{code:ee.invalid_string,validation:{startsWith:d.value},message:d.message}),c.dirty()):d.kind==="endsWith"?s.data.endsWith(d.value)||(u=this._getOrReturnCtx(s,u),pe(u,{code:ee.invalid_string,validation:{endsWith:d.value},message:d.message}),c.dirty()):d.kind==="datetime"?Vr(d).test(s.data)||(u=this._getOrReturnCtx(s,u),pe(u,{code:ee.invalid_string,validation:"datetime",message:d.message}),c.dirty()):d.kind==="date"?Yn.test(s.data)||(u=this._getOrReturnCtx(s,u),pe(u,{code:ee.invalid_string,validation:"date",message:d.message}),c.dirty()):d.kind==="time"?Hr(d).test(s.data)||(u=this._getOrReturnCtx(s,u),pe(u,{code:ee.invalid_string,validation:"time",message:d.message}),c.dirty()):d.kind==="duration"?Oe.test(s.data)||(u=this._getOrReturnCtx(s,u),pe(u,{validation:"duration",code:ee.invalid_string,message:d.message}),c.dirty()):d.kind==="ip"?K(s.data,d.version)||(u=this._getOrReturnCtx(s,u),pe(u,{validation:"ip",code:ee.invalid_string,message:d.message}),c.dirty()):d.kind==="base64"?Pr.test(s.data)||(u=this._getOrReturnCtx(s,u),pe(u,{validation:"base64",code:ee.invalid_string,message:d.message}),c.dirty()):Fe.assertNever(d);return{status:c.value,value:s.data}}_regex(s,l,c){return this.refinement(u=>s.test(u),W({validation:l,code:ee.invalid_string},we.errToObj(c)))}_addCheck(s){return new V(Te(W({},this._def),{checks:[...this._def.checks,s]}))}email(s){return this._addCheck(W({kind:"email"},we.errToObj(s)))}url(s){return this._addCheck(W({kind:"url"},we.errToObj(s)))}emoji(s){return this._addCheck(W({kind:"emoji"},we.errToObj(s)))}uuid(s){return this._addCheck(W({kind:"uuid"},we.errToObj(s)))}nanoid(s){return this._addCheck(W({kind:"nanoid"},we.errToObj(s)))}cuid(s){return this._addCheck(W({kind:"cuid"},we.errToObj(s)))}cuid2(s){return this._addCheck(W({kind:"cuid2"},we.errToObj(s)))}ulid(s){return this._addCheck(W({kind:"ulid"},we.errToObj(s)))}base64(s){return this._addCheck(W({kind:"base64"},we.errToObj(s)))}ip(s){return this._addCheck(W({kind:"ip"},we.errToObj(s)))}datetime(s){var l,c;return typeof s=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:s}):this._addCheck(W({kind:"datetime",precision:typeof(s==null?void 0:s.precision)=="undefined"?null:s==null?void 0:s.precision,offset:(l=s==null?void 0:s.offset)!==null&&l!==void 0?l:!1,local:(c=s==null?void 0:s.local)!==null&&c!==void 0?c:!1},we.errToObj(s==null?void 0:s.message)))}date(s){return this._addCheck({kind:"date",message:s})}time(s){return typeof s=="string"?this._addCheck({kind:"time",precision:null,message:s}):this._addCheck(W({kind:"time",precision:typeof(s==null?void 0:s.precision)=="undefined"?null:s==null?void 0:s.precision},we.errToObj(s==null?void 0:s.message)))}duration(s){return this._addCheck(W({kind:"duration"},we.errToObj(s)))}regex(s,l){return this._addCheck(W({kind:"regex",regex:s},we.errToObj(l)))}includes(s,l){return this._addCheck(W({kind:"includes",value:s,position:l==null?void 0:l.position},we.errToObj(l==null?void 0:l.message)))}startsWith(s,l){return this._addCheck(W({kind:"startsWith",value:s},we.errToObj(l)))}endsWith(s,l){return this._addCheck(W({kind:"endsWith",value:s},we.errToObj(l)))}min(s,l){return this._addCheck(W({kind:"min",value:s},we.errToObj(l)))}max(s,l){return this._addCheck(W({kind:"max",value:s},we.errToObj(l)))}length(s,l){return this._addCheck(W({kind:"length",value:s},we.errToObj(l)))}nonempty(s){return this.min(1,we.errToObj(s))}trim(){return new V(Te(W({},this._def),{checks:[...this._def.checks,{kind:"trim"}]}))}toLowerCase(){return new V(Te(W({},this._def),{checks:[...this._def.checks,{kind:"toLowerCase"}]}))}toUpperCase(){return new V(Te(W({},this._def),{checks:[...this._def.checks,{kind:"toUpperCase"}]}))}get isDatetime(){return!!this._def.checks.find(s=>s.kind==="datetime")}get isDate(){return!!this._def.checks.find(s=>s.kind==="date")}get isTime(){return!!this._def.checks.find(s=>s.kind==="time")}get isDuration(){return!!this._def.checks.find(s=>s.kind==="duration")}get isEmail(){return!!this._def.checks.find(s=>s.kind==="email")}get isURL(){return!!this._def.checks.find(s=>s.kind==="url")}get isEmoji(){return!!this._def.checks.find(s=>s.kind==="emoji")}get isUUID(){return!!this._def.checks.find(s=>s.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(s=>s.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(s=>s.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(s=>s.kind==="cuid2")}get isULID(){return!!this._def.checks.find(s=>s.kind==="ulid")}get isIP(){return!!this._def.checks.find(s=>s.kind==="ip")}get isBase64(){return!!this._def.checks.find(s=>s.kind==="base64")}get minLength(){let s=null;for(const l of this._def.checks)l.kind==="min"&&(s===null||l.value>s)&&(s=l.value);return s}get maxLength(){let s=null;for(const l of this._def.checks)l.kind==="max"&&(s===null||l.value<s)&&(s=l.value);return s}}V.create=i=>{var s;return new V(W({checks:[],typeName:Qe.ZodString,coerce:(s=i==null?void 0:i.coerce)!==null&&s!==void 0?s:!1},bt(i)))};function le(i,s){const l=(i.toString().split(".")[1]||"").length,c=(s.toString().split(".")[1]||"").length,u=l>c?l:c,d=parseInt(i.toFixed(u).replace(".","")),h=parseInt(s.toFixed(u).replace(".",""));return d%h/Math.pow(10,u)}class xe extends _t{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(s){if(this._def.coerce&&(s.data=Number(s.data)),this._getType(s)!==J.number){const d=this._getOrReturnCtx(s);return pe(d,{code:ee.invalid_type,expected:J.number,received:d.parsedType}),X}let c;const u=new Pt;for(const d of this._def.checks)d.kind==="int"?Fe.isInteger(s.data)||(c=this._getOrReturnCtx(s,c),pe(c,{code:ee.invalid_type,expected:"integer",received:"float",message:d.message}),u.dirty()):d.kind==="min"?(d.inclusive?s.data<d.value:s.data<=d.value)&&(c=this._getOrReturnCtx(s,c),pe(c,{code:ee.too_small,minimum:d.value,type:"number",inclusive:d.inclusive,exact:!1,message:d.message}),u.dirty()):d.kind==="max"?(d.inclusive?s.data>d.value:s.data>=d.value)&&(c=this._getOrReturnCtx(s,c),pe(c,{code:ee.too_big,maximum:d.value,type:"number",inclusive:d.inclusive,exact:!1,message:d.message}),u.dirty()):d.kind==="multipleOf"?le(s.data,d.value)!==0&&(c=this._getOrReturnCtx(s,c),pe(c,{code:ee.not_multiple_of,multipleOf:d.value,message:d.message}),u.dirty()):d.kind==="finite"?Number.isFinite(s.data)||(c=this._getOrReturnCtx(s,c),pe(c,{code:ee.not_finite,message:d.message}),u.dirty()):Fe.assertNever(d);return{status:u.value,value:s.data}}gte(s,l){return this.setLimit("min",s,!0,we.toString(l))}gt(s,l){return this.setLimit("min",s,!1,we.toString(l))}lte(s,l){return this.setLimit("max",s,!0,we.toString(l))}lt(s,l){return this.setLimit("max",s,!1,we.toString(l))}setLimit(s,l,c,u){return new xe(Te(W({},this._def),{checks:[...this._def.checks,{kind:s,value:l,inclusive:c,message:we.toString(u)}]}))}_addCheck(s){return new xe(Te(W({},this._def),{checks:[...this._def.checks,s]}))}int(s){return this._addCheck({kind:"int",message:we.toString(s)})}positive(s){return this._addCheck({kind:"min",value:0,inclusive:!1,message:we.toString(s)})}negative(s){return this._addCheck({kind:"max",value:0,inclusive:!1,message:we.toString(s)})}nonpositive(s){return this._addCheck({kind:"max",value:0,inclusive:!0,message:we.toString(s)})}nonnegative(s){return this._addCheck({kind:"min",value:0,inclusive:!0,message:we.toString(s)})}multipleOf(s,l){return this._addCheck({kind:"multipleOf",value:s,message:we.toString(l)})}finite(s){return this._addCheck({kind:"finite",message:we.toString(s)})}safe(s){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:we.toString(s)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:we.toString(s)})}get minValue(){let s=null;for(const l of this._def.checks)l.kind==="min"&&(s===null||l.value>s)&&(s=l.value);return s}get maxValue(){let s=null;for(const l of this._def.checks)l.kind==="max"&&(s===null||l.value<s)&&(s=l.value);return s}get isInt(){return!!this._def.checks.find(s=>s.kind==="int"||s.kind==="multipleOf"&&Fe.isInteger(s.value))}get isFinite(){let s=null,l=null;for(const c of this._def.checks){if(c.kind==="finite"||c.kind==="int"||c.kind==="multipleOf")return!0;c.kind==="min"?(l===null||c.value>l)&&(l=c.value):c.kind==="max"&&(s===null||c.value<s)&&(s=c.value)}return Number.isFinite(l)&&Number.isFinite(s)}}xe.create=i=>new xe(W({checks:[],typeName:Qe.ZodNumber,coerce:(i==null?void 0:i.coerce)||!1},bt(i)));class _e extends _t{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(s){if(this._def.coerce&&(s.data=BigInt(s.data)),this._getType(s)!==J.bigint){const d=this._getOrReturnCtx(s);return pe(d,{code:ee.invalid_type,expected:J.bigint,received:d.parsedType}),X}let c;const u=new Pt;for(const d of this._def.checks)d.kind==="min"?(d.inclusive?s.data<d.value:s.data<=d.value)&&(c=this._getOrReturnCtx(s,c),pe(c,{code:ee.too_small,type:"bigint",minimum:d.value,inclusive:d.inclusive,message:d.message}),u.dirty()):d.kind==="max"?(d.inclusive?s.data>d.value:s.data>=d.value)&&(c=this._getOrReturnCtx(s,c),pe(c,{code:ee.too_big,type:"bigint",maximum:d.value,inclusive:d.inclusive,message:d.message}),u.dirty()):d.kind==="multipleOf"?s.data%d.value!==BigInt(0)&&(c=this._getOrReturnCtx(s,c),pe(c,{code:ee.not_multiple_of,multipleOf:d.value,message:d.message}),u.dirty()):Fe.assertNever(d);return{status:u.value,value:s.data}}gte(s,l){return this.setLimit("min",s,!0,we.toString(l))}gt(s,l){return this.setLimit("min",s,!1,we.toString(l))}lte(s,l){return this.setLimit("max",s,!0,we.toString(l))}lt(s,l){return this.setLimit("max",s,!1,we.toString(l))}setLimit(s,l,c,u){return new _e(Te(W({},this._def),{checks:[...this._def.checks,{kind:s,value:l,inclusive:c,message:we.toString(u)}]}))}_addCheck(s){return new _e(Te(W({},this._def),{checks:[...this._def.checks,s]}))}positive(s){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:we.toString(s)})}negative(s){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:we.toString(s)})}nonpositive(s){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:we.toString(s)})}nonnegative(s){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:we.toString(s)})}multipleOf(s,l){return this._addCheck({kind:"multipleOf",value:s,message:we.toString(l)})}get minValue(){let s=null;for(const l of this._def.checks)l.kind==="min"&&(s===null||l.value>s)&&(s=l.value);return s}get maxValue(){let s=null;for(const l of this._def.checks)l.kind==="max"&&(s===null||l.value<s)&&(s=l.value);return s}}_e.create=i=>{var s;return new _e(W({checks:[],typeName:Qe.ZodBigInt,coerce:(s=i==null?void 0:i.coerce)!==null&&s!==void 0?s:!1},bt(i)))};class H extends _t{_parse(s){if(this._def.coerce&&(s.data=!!s.data),this._getType(s)!==J.boolean){const c=this._getOrReturnCtx(s);return pe(c,{code:ee.invalid_type,expected:J.boolean,received:c.parsedType}),X}return qt(s.data)}}H.create=i=>new H(W({typeName:Qe.ZodBoolean,coerce:(i==null?void 0:i.coerce)||!1},bt(i)));class ie extends _t{_parse(s){if(this._def.coerce&&(s.data=new Date(s.data)),this._getType(s)!==J.date){const d=this._getOrReturnCtx(s);return pe(d,{code:ee.invalid_type,expected:J.date,received:d.parsedType}),X}if(isNaN(s.data.getTime())){const d=this._getOrReturnCtx(s);return pe(d,{code:ee.invalid_date}),X}const c=new Pt;let u;for(const d of this._def.checks)d.kind==="min"?s.data.getTime()<d.value&&(u=this._getOrReturnCtx(s,u),pe(u,{code:ee.too_small,message:d.message,inclusive:!0,exact:!1,minimum:d.value,type:"date"}),c.dirty()):d.kind==="max"?s.data.getTime()>d.value&&(u=this._getOrReturnCtx(s,u),pe(u,{code:ee.too_big,message:d.message,inclusive:!0,exact:!1,maximum:d.value,type:"date"}),c.dirty()):Fe.assertNever(d);return{status:c.value,value:new Date(s.data.getTime())}}_addCheck(s){return new ie(Te(W({},this._def),{checks:[...this._def.checks,s]}))}min(s,l){return this._addCheck({kind:"min",value:s.getTime(),message:we.toString(l)})}max(s,l){return this._addCheck({kind:"max",value:s.getTime(),message:we.toString(l)})}get minDate(){let s=null;for(const l of this._def.checks)l.kind==="min"&&(s===null||l.value>s)&&(s=l.value);return s!=null?new Date(s):null}get maxDate(){let s=null;for(const l of this._def.checks)l.kind==="max"&&(s===null||l.value<s)&&(s=l.value);return s!=null?new Date(s):null}}ie.create=i=>new ie(W({checks:[],coerce:(i==null?void 0:i.coerce)||!1,typeName:Qe.ZodDate},bt(i)));class Ce extends _t{_parse(s){if(this._getType(s)!==J.symbol){const c=this._getOrReturnCtx(s);return pe(c,{code:ee.invalid_type,expected:J.symbol,received:c.parsedType}),X}return qt(s.data)}}Ce.create=i=>new Ce(W({typeName:Qe.ZodSymbol},bt(i)));class ue extends _t{_parse(s){if(this._getType(s)!==J.undefined){const c=this._getOrReturnCtx(s);return pe(c,{code:ee.invalid_type,expected:J.undefined,received:c.parsedType}),X}return qt(s.data)}}ue.create=i=>new ue(W({typeName:Qe.ZodUndefined},bt(i)));class oe extends _t{_parse(s){if(this._getType(s)!==J.null){const c=this._getOrReturnCtx(s);return pe(c,{code:ee.invalid_type,expected:J.null,received:c.parsedType}),X}return qt(s.data)}}oe.create=i=>new oe(W({typeName:Qe.ZodNull},bt(i)));class ke extends _t{constructor(){super(...arguments),this._any=!0}_parse(s){return qt(s.data)}}ke.create=i=>new ke(W({typeName:Qe.ZodAny},bt(i)));class re extends _t{constructor(){super(...arguments),this._unknown=!0}_parse(s){return qt(s.data)}}re.create=i=>new re(W({typeName:Qe.ZodUnknown},bt(i)));class ht extends _t{_parse(s){const l=this._getOrReturnCtx(s);return pe(l,{code:ee.invalid_type,expected:J.never,received:l.parsedType}),X}}ht.create=i=>new ht(W({typeName:Qe.ZodNever},bt(i)));class $ extends _t{_parse(s){if(this._getType(s)!==J.undefined){const c=this._getOrReturnCtx(s);return pe(c,{code:ee.invalid_type,expected:J.void,received:c.parsedType}),X}return qt(s.data)}}$.create=i=>new $(W({typeName:Qe.ZodVoid},bt(i)));class ne extends _t{_parse(s){const{ctx:l,status:c}=this._processInputParams(s),u=this._def;if(l.parsedType!==J.array)return pe(l,{code:ee.invalid_type,expected:J.array,received:l.parsedType}),X;if(u.exactLength!==null){const h=l.data.length>u.exactLength.value,m=l.data.length<u.exactLength.value;(h||m)&&(pe(l,{code:h?ee.too_big:ee.too_small,minimum:m?u.exactLength.value:void 0,maximum:h?u.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:u.exactLength.message}),c.dirty())}if(u.minLength!==null&&l.data.length<u.minLength.value&&(pe(l,{code:ee.too_small,minimum:u.minLength.value,type:"array",inclusive:!0,exact:!1,message:u.minLength.message}),c.dirty()),u.maxLength!==null&&l.data.length>u.maxLength.value&&(pe(l,{code:ee.too_big,maximum:u.maxLength.value,type:"array",inclusive:!0,exact:!1,message:u.maxLength.message}),c.dirty()),l.common.async)return Promise.all([...l.data].map((h,m)=>u.type._parseAsync(new an(l,h,l.path,m)))).then(h=>Pt.mergeArray(c,h));const d=[...l.data].map((h,m)=>u.type._parseSync(new an(l,h,l.path,m)));return Pt.mergeArray(c,d)}get element(){return this._def.type}min(s,l){return new ne(Te(W({},this._def),{minLength:{value:s,message:we.toString(l)}}))}max(s,l){return new ne(Te(W({},this._def),{maxLength:{value:s,message:we.toString(l)}}))}length(s,l){return new ne(Te(W({},this._def),{exactLength:{value:s,message:we.toString(l)}}))}nonempty(s){return this.min(1,s)}}ne.create=(i,s)=>new ne(W({type:i,minLength:null,maxLength:null,exactLength:null,typeName:Qe.ZodArray},bt(s)));function fe(i){if(i instanceof me){const s={};for(const l in i.shape){const c=i.shape[l];s[l]=Ke.create(fe(c))}return new me(Te(W({},i._def),{shape:()=>s}))}else return i instanceof ne?new ne(Te(W({},i._def),{type:fe(i.element)})):i instanceof Ke?Ke.create(fe(i.unwrap())):i instanceof at?at.create(fe(i.unwrap())):i instanceof $e?$e.create(i.items.map(s=>fe(s))):i}class me extends _t{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const s=this._def.shape(),l=Fe.objectKeys(s);return this._cached={shape:s,keys:l}}_parse(s){if(this._getType(s)!==J.object){const g=this._getOrReturnCtx(s);return pe(g,{code:ee.invalid_type,expected:J.object,received:g.parsedType}),X}const{status:c,ctx:u}=this._processInputParams(s),{shape:d,keys:h}=this._getCached(),m=[];if(!(this._def.catchall instanceof ht&&this._def.unknownKeys==="strip"))for(const g in u.data)h.includes(g)||m.push(g);const p=[];for(const g of h){const b=d[g],w=u.data[g];p.push({key:{status:"valid",value:g},value:b._parse(new an(u,w,u.path,g)),alwaysSet:g in u.data})}if(this._def.catchall instanceof ht){const g=this._def.unknownKeys;if(g==="passthrough")for(const b of m)p.push({key:{status:"valid",value:b},value:{status:"valid",value:u.data[b]}});else if(g==="strict")m.length>0&&(pe(u,{code:ee.unrecognized_keys,keys:m}),c.dirty());else if(g!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const g=this._def.catchall;for(const b of m){const w=u.data[b];p.push({key:{status:"valid",value:b},value:g._parse(new an(u,w,u.path,b)),alwaysSet:b in u.data})}}return u.common.async?Promise.resolve().then(()=>Sn(this,null,function*(){const g=[];for(const b of p){const w=yield b.key,_=yield b.value;g.push({key:w,value:_,alwaysSet:b.alwaysSet})}return g})).then(g=>Pt.mergeObjectSync(c,g)):Pt.mergeObjectSync(c,p)}get shape(){return this._def.shape()}strict(s){return we.errToObj,new me(W(Te(W({},this._def),{unknownKeys:"strict"}),s!==void 0?{errorMap:(l,c)=>{var u,d,h,m;const p=(h=(d=(u=this._def).errorMap)===null||d===void 0?void 0:d.call(u,l,c).message)!==null&&h!==void 0?h:c.defaultError;return l.code==="unrecognized_keys"?{message:(m=we.errToObj(s).message)!==null&&m!==void 0?m:p}:{message:p}}}:{}))}strip(){return new me(Te(W({},this._def),{unknownKeys:"strip"}))}passthrough(){return new me(Te(W({},this._def),{unknownKeys:"passthrough"}))}extend(s){return new me(Te(W({},this._def),{shape:()=>W(W({},this._def.shape()),s)}))}merge(s){return new me({unknownKeys:s._def.unknownKeys,catchall:s._def.catchall,shape:()=>W(W({},this._def.shape()),s._def.shape()),typeName:Qe.ZodObject})}setKey(s,l){return this.augment({[s]:l})}catchall(s){return new me(Te(W({},this._def),{catchall:s}))}pick(s){const l={};return Fe.objectKeys(s).forEach(c=>{s[c]&&this.shape[c]&&(l[c]=this.shape[c])}),new me(Te(W({},this._def),{shape:()=>l}))}omit(s){const l={};return Fe.objectKeys(this.shape).forEach(c=>{s[c]||(l[c]=this.shape[c])}),new me(Te(W({},this._def),{shape:()=>l}))}deepPartial(){return fe(this)}partial(s){const l={};return Fe.objectKeys(this.shape).forEach(c=>{const u=this.shape[c];s&&!s[c]?l[c]=u:l[c]=u.optional()}),new me(Te(W({},this._def),{shape:()=>l}))}required(s){const l={};return Fe.objectKeys(this.shape).forEach(c=>{if(s&&!s[c])l[c]=this.shape[c];else{let d=this.shape[c];for(;d instanceof Ke;)d=d._def.innerType;l[c]=d}}),new me(Te(W({},this._def),{shape:()=>l}))}keyof(){return ca(Fe.objectKeys(this.shape))}}me.create=(i,s)=>new me(W({shape:()=>i,unknownKeys:"strip",catchall:ht.create(),typeName:Qe.ZodObject},bt(s))),me.strictCreate=(i,s)=>new me(W({shape:()=>i,unknownKeys:"strict",catchall:ht.create(),typeName:Qe.ZodObject},bt(s))),me.lazycreate=(i,s)=>new me(W({shape:i,unknownKeys:"strip",catchall:ht.create(),typeName:Qe.ZodObject},bt(s)));class Se extends _t{_parse(s){const{ctx:l}=this._processInputParams(s),c=this._def.options;function u(d){for(const m of d)if(m.result.status==="valid")return m.result;for(const m of d)if(m.result.status==="dirty")return l.common.issues.push(...m.ctx.common.issues),m.result;const h=d.map(m=>new Ye(m.ctx.common.issues));return pe(l,{code:ee.invalid_union,unionErrors:h}),X}if(l.common.async)return Promise.all(c.map(d=>Sn(this,null,function*(){const h=Te(W({},l),{common:Te(W({},l.common),{issues:[]}),parent:null});return{result:yield d._parseAsync({data:l.data,path:l.path,parent:h}),ctx:h}}))).then(u);{let d;const h=[];for(const p of c){const g=Te(W({},l),{common:Te(W({},l.common),{issues:[]}),parent:null}),b=p._parseSync({data:l.data,path:l.path,parent:g});if(b.status==="valid")return b;b.status==="dirty"&&!d&&(d={result:b,ctx:g}),g.common.issues.length&&h.push(g.common.issues)}if(d)return l.common.issues.push(...d.ctx.common.issues),d.result;const m=h.map(p=>new Ye(p));return pe(l,{code:ee.invalid_union,unionErrors:m}),X}}get options(){return this._def.options}}Se.create=(i,s)=>new Se(W({options:i,typeName:Qe.ZodUnion},bt(s)));const Ze=i=>i instanceof Ln?Ze(i.schema):i instanceof mt?Ze(i.innerType()):i instanceof hn?[i.value]:i instanceof Ir?i.options:i instanceof yr?Fe.objectValues(i.enum):i instanceof Zt?Ze(i._def.innerType):i instanceof ue?[void 0]:i instanceof oe?[null]:i instanceof Ke?[void 0,...Ze(i.unwrap())]:i instanceof at?[null,...Ze(i.unwrap())]:i instanceof qr||i instanceof uo?Ze(i.unwrap()):i instanceof on?Ze(i._def.innerType):[];class At extends _t{_parse(s){const{ctx:l}=this._processInputParams(s);if(l.parsedType!==J.object)return pe(l,{code:ee.invalid_type,expected:J.object,received:l.parsedType}),X;const c=this.discriminator,u=l.data[c],d=this.optionsMap.get(u);return d?l.common.async?d._parseAsync({data:l.data,path:l.path,parent:l}):d._parseSync({data:l.data,path:l.path,parent:l}):(pe(l,{code:ee.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[c]}),X)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(s,l,c){const u=new Map;for(const d of l){const h=Ze(d.shape[s]);if(!h.length)throw new Error(`A discriminator value for key \`${s}\` could not be extracted from all schema options`);for(const m of h){if(u.has(m))throw new Error(`Discriminator property ${String(s)} has duplicate value ${String(m)}`);u.set(m,d)}}return new At(W({typeName:Qe.ZodDiscriminatedUnion,discriminator:s,options:l,optionsMap:u},bt(c)))}}function bn(i,s){const l=ce(i),c=ce(s);if(i===s)return{valid:!0,data:i};if(l===J.object&&c===J.object){const u=Fe.objectKeys(s),d=Fe.objectKeys(i).filter(m=>u.indexOf(m)!==-1),h=W(W({},i),s);for(const m of d){const p=bn(i[m],s[m]);if(!p.valid)return{valid:!1};h[m]=p.data}return{valid:!0,data:h}}else if(l===J.array&&c===J.array){if(i.length!==s.length)return{valid:!1};const u=[];for(let d=0;d<i.length;d++){const h=i[d],m=s[d],p=bn(h,m);if(!p.valid)return{valid:!1};u.push(p.data)}return{valid:!0,data:u}}else return l===J.date&&c===J.date&&+i==+s?{valid:!0,data:i}:{valid:!1}}class Ue extends _t{_parse(s){const{status:l,ctx:c}=this._processInputParams(s),u=(d,h)=>{if(Qn(d)||Qn(h))return X;const m=bn(d.value,h.value);return m.valid?((Jt(d)||Jt(h))&&l.dirty(),{status:l.value,value:m.data}):(pe(c,{code:ee.invalid_intersection_types}),X)};return c.common.async?Promise.all([this._def.left._parseAsync({data:c.data,path:c.path,parent:c}),this._def.right._parseAsync({data:c.data,path:c.path,parent:c})]).then(([d,h])=>u(d,h)):u(this._def.left._parseSync({data:c.data,path:c.path,parent:c}),this._def.right._parseSync({data:c.data,path:c.path,parent:c}))}}Ue.create=(i,s,l)=>new Ue(W({left:i,right:s,typeName:Qe.ZodIntersection},bt(l)));class $e extends _t{_parse(s){const{status:l,ctx:c}=this._processInputParams(s);if(c.parsedType!==J.array)return pe(c,{code:ee.invalid_type,expected:J.array,received:c.parsedType}),X;if(c.data.length<this._def.items.length)return pe(c,{code:ee.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),X;!this._def.rest&&c.data.length>this._def.items.length&&(pe(c,{code:ee.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),l.dirty());const d=[...c.data].map((h,m)=>{const p=this._def.items[m]||this._def.rest;return p?p._parse(new an(c,h,c.path,m)):null}).filter(h=>!!h);return c.common.async?Promise.all(d).then(h=>Pt.mergeArray(l,h)):Pt.mergeArray(l,d)}get items(){return this._def.items}rest(s){return new $e(Te(W({},this._def),{rest:s}))}}$e.create=(i,s)=>{if(!Array.isArray(i))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new $e(W({items:i,typeName:Qe.ZodTuple,rest:null},bt(s)))};class vn extends _t{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(s){const{status:l,ctx:c}=this._processInputParams(s);if(c.parsedType!==J.object)return pe(c,{code:ee.invalid_type,expected:J.object,received:c.parsedType}),X;const u=[],d=this._def.keyType,h=this._def.valueType;for(const m in c.data)u.push({key:d._parse(new an(c,m,c.path,m)),value:h._parse(new an(c,c.data[m],c.path,m)),alwaysSet:m in c.data});return c.common.async?Pt.mergeObjectAsync(l,u):Pt.mergeObjectSync(l,u)}get element(){return this._def.valueType}static create(s,l,c){return l instanceof _t?new vn(W({keyType:s,valueType:l,typeName:Qe.ZodRecord},bt(c))):new vn(W({keyType:V.create(),valueType:s,typeName:Qe.ZodRecord},bt(l)))}}class Cn extends _t{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(s){const{status:l,ctx:c}=this._processInputParams(s);if(c.parsedType!==J.map)return pe(c,{code:ee.invalid_type,expected:J.map,received:c.parsedType}),X;const u=this._def.keyType,d=this._def.valueType,h=[...c.data.entries()].map(([m,p],g)=>({key:u._parse(new an(c,m,c.path,[g,"key"])),value:d._parse(new an(c,p,c.path,[g,"value"]))}));if(c.common.async){const m=new Map;return Promise.resolve().then(()=>Sn(this,null,function*(){for(const p of h){const g=yield p.key,b=yield p.value;if(g.status==="aborted"||b.status==="aborted")return X;(g.status==="dirty"||b.status==="dirty")&&l.dirty(),m.set(g.value,b.value)}return{status:l.value,value:m}}))}else{const m=new Map;for(const p of h){const g=p.key,b=p.value;if(g.status==="aborted"||b.status==="aborted")return X;(g.status==="dirty"||b.status==="dirty")&&l.dirty(),m.set(g.value,b.value)}return{status:l.value,value:m}}}}Cn.create=(i,s,l)=>new Cn(W({valueType:s,keyType:i,typeName:Qe.ZodMap},bt(l)));class Mn extends _t{_parse(s){const{status:l,ctx:c}=this._processInputParams(s);if(c.parsedType!==J.set)return pe(c,{code:ee.invalid_type,expected:J.set,received:c.parsedType}),X;const u=this._def;u.minSize!==null&&c.data.size<u.minSize.value&&(pe(c,{code:ee.too_small,minimum:u.minSize.value,type:"set",inclusive:!0,exact:!1,message:u.minSize.message}),l.dirty()),u.maxSize!==null&&c.data.size>u.maxSize.value&&(pe(c,{code:ee.too_big,maximum:u.maxSize.value,type:"set",inclusive:!0,exact:!1,message:u.maxSize.message}),l.dirty());const d=this._def.valueType;function h(p){const g=new Set;for(const b of p){if(b.status==="aborted")return X;b.status==="dirty"&&l.dirty(),g.add(b.value)}return{status:l.value,value:g}}const m=[...c.data.values()].map((p,g)=>d._parse(new an(c,p,c.path,g)));return c.common.async?Promise.all(m).then(p=>h(p)):h(m)}min(s,l){return new Mn(Te(W({},this._def),{minSize:{value:s,message:we.toString(l)}}))}max(s,l){return new Mn(Te(W({},this._def),{maxSize:{value:s,message:we.toString(l)}}))}size(s,l){return this.min(s,l).max(s,l)}nonempty(s){return this.min(1,s)}}Mn.create=(i,s)=>new Mn(W({valueType:i,minSize:null,maxSize:null,typeName:Qe.ZodSet},bt(s)));class lr extends _t{constructor(){super(...arguments),this.validate=this.implement}_parse(s){const{ctx:l}=this._processInputParams(s);if(l.parsedType!==J.function)return pe(l,{code:ee.invalid_type,expected:J.function,received:l.parsedType}),X;function c(m,p){return rn({data:m,path:l.path,errorMaps:[l.common.contextualErrorMap,l.schemaErrorMap,It(),gt].filter(g=>!!g),issueData:{code:ee.invalid_arguments,argumentsError:p}})}function u(m,p){return rn({data:m,path:l.path,errorMaps:[l.common.contextualErrorMap,l.schemaErrorMap,It(),gt].filter(g=>!!g),issueData:{code:ee.invalid_return_type,returnTypeError:p}})}const d={errorMap:l.common.contextualErrorMap},h=l.data;if(this._def.returns instanceof Vt){const m=this;return qt(function(...p){return Sn(this,null,function*(){const g=new Ye([]),b=yield m._def.args.parseAsync(p,d).catch(k=>{throw g.addIssue(c(p,k)),g}),w=yield Reflect.apply(h,this,b);return yield m._def.returns._def.type.parseAsync(w,d).catch(k=>{throw g.addIssue(u(w,k)),g})})})}else{const m=this;return qt(function(...p){const g=m._def.args.safeParse(p,d);if(!g.success)throw new Ye([c(p,g.error)]);const b=Reflect.apply(h,this,g.data),w=m._def.returns.safeParse(b,d);if(!w.success)throw new Ye([u(b,w.error)]);return w.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...s){return new lr(Te(W({},this._def),{args:$e.create(s).rest(re.create())}))}returns(s){return new lr(Te(W({},this._def),{returns:s}))}implement(s){return this.parse(s)}strictImplement(s){return this.parse(s)}static create(s,l,c){return new lr(W({args:s||$e.create([]).rest(re.create()),returns:l||re.create(),typeName:Qe.ZodFunction},bt(c)))}}class Ln extends _t{get schema(){return this._def.getter()}_parse(s){const{ctx:l}=this._processInputParams(s);return this._def.getter()._parse({data:l.data,path:l.path,parent:l})}}Ln.create=(i,s)=>new Ln(W({getter:i,typeName:Qe.ZodLazy},bt(s)));class hn extends _t{_parse(s){if(s.data!==this._def.value){const l=this._getOrReturnCtx(s);return pe(l,{received:l.data,code:ee.invalid_literal,expected:this._def.value}),X}return{status:"valid",value:s.data}}get value(){return this._def.value}}hn.create=(i,s)=>new hn(W({value:i,typeName:Qe.ZodLiteral},bt(s)));function ca(i,s){return new Ir(W({values:i,typeName:Qe.ZodEnum},bt(s)))}class Ir extends _t{constructor(){super(...arguments),wt.set(this,void 0)}_parse(s){if(typeof s.data!="string"){const l=this._getOrReturnCtx(s),c=this._def.values;return pe(l,{expected:Fe.joinValues(c),received:l.parsedType,code:ee.invalid_type}),X}if(dn(this,wt,"f")||Br(this,wt,new Set(this._def.values),"f"),!dn(this,wt,"f").has(s.data)){const l=this._getOrReturnCtx(s),c=this._def.values;return pe(l,{received:l.data,code:ee.invalid_enum_value,options:c}),X}return qt(s.data)}get options(){return this._def.values}get enum(){const s={};for(const l of this._def.values)s[l]=l;return s}get Values(){const s={};for(const l of this._def.values)s[l]=l;return s}get Enum(){const s={};for(const l of this._def.values)s[l]=l;return s}extract(s,l=this._def){return Ir.create(s,W(W({},this._def),l))}exclude(s,l=this._def){return Ir.create(this.options.filter(c=>!s.includes(c)),W(W({},this._def),l))}}wt=new WeakMap,Ir.create=ca;class yr extends _t{constructor(){super(...arguments),En.set(this,void 0)}_parse(s){const l=Fe.getValidEnumValues(this._def.values),c=this._getOrReturnCtx(s);if(c.parsedType!==J.string&&c.parsedType!==J.number){const u=Fe.objectValues(l);return pe(c,{expected:Fe.joinValues(u),received:c.parsedType,code:ee.invalid_type}),X}if(dn(this,En,"f")||Br(this,En,new Set(Fe.getValidEnumValues(this._def.values)),"f"),!dn(this,En,"f").has(s.data)){const u=Fe.objectValues(l);return pe(c,{received:c.data,code:ee.invalid_enum_value,options:u}),X}return qt(s.data)}get enum(){return this._def.values}}En=new WeakMap,yr.create=(i,s)=>new yr(W({values:i,typeName:Qe.ZodNativeEnum},bt(s)));class Vt extends _t{unwrap(){return this._def.type}_parse(s){const{ctx:l}=this._processInputParams(s);if(l.parsedType!==J.promise&&l.common.async===!1)return pe(l,{code:ee.invalid_type,expected:J.promise,received:l.parsedType}),X;const c=l.parsedType===J.promise?l.data:Promise.resolve(l.data);return qt(c.then(u=>this._def.type.parseAsync(u,{path:l.path,errorMap:l.common.contextualErrorMap})))}}Vt.create=(i,s)=>new Vt(W({type:i,typeName:Qe.ZodPromise},bt(s)));class mt extends _t{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Qe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(s){const{status:l,ctx:c}=this._processInputParams(s),u=this._def.effect||null,d={addIssue:h=>{pe(c,h),h.fatal?l.abort():l.dirty()},get path(){return c.path}};if(d.addIssue=d.addIssue.bind(d),u.type==="preprocess"){const h=u.transform(c.data,d);if(c.common.async)return Promise.resolve(h).then(m=>Sn(this,null,function*(){if(l.value==="aborted")return X;const p=yield this._def.schema._parseAsync({data:m,path:c.path,parent:c});return p.status==="aborted"?X:p.status==="dirty"||l.value==="dirty"?un(p.value):p}));{if(l.value==="aborted")return X;const m=this._def.schema._parseSync({data:h,path:c.path,parent:c});return m.status==="aborted"?X:m.status==="dirty"||l.value==="dirty"?un(m.value):m}}if(u.type==="refinement"){const h=m=>{const p=u.refinement(m,d);if(c.common.async)return Promise.resolve(p);if(p instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return m};if(c.common.async===!1){const m=this._def.schema._parseSync({data:c.data,path:c.path,parent:c});return m.status==="aborted"?X:(m.status==="dirty"&&l.dirty(),h(m.value),{status:l.value,value:m.value})}else return this._def.schema._parseAsync({data:c.data,path:c.path,parent:c}).then(m=>m.status==="aborted"?X:(m.status==="dirty"&&l.dirty(),h(m.value).then(()=>({status:l.value,value:m.value}))))}if(u.type==="transform")if(c.common.async===!1){const h=this._def.schema._parseSync({data:c.data,path:c.path,parent:c});if(!fn(h))return h;const m=u.transform(h.value,d);if(m instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:l.value,value:m}}else return this._def.schema._parseAsync({data:c.data,path:c.path,parent:c}).then(h=>fn(h)?Promise.resolve(u.transform(h.value,d)).then(m=>({status:l.value,value:m})):h);Fe.assertNever(u)}}mt.create=(i,s,l)=>new mt(W({schema:i,typeName:Qe.ZodEffects,effect:s},bt(l))),mt.createWithPreprocess=(i,s,l)=>new mt(W({schema:s,effect:{type:"preprocess",transform:i},typeName:Qe.ZodEffects},bt(l)));class Ke extends _t{_parse(s){return this._getType(s)===J.undefined?qt(void 0):this._def.innerType._parse(s)}unwrap(){return this._def.innerType}}Ke.create=(i,s)=>new Ke(W({innerType:i,typeName:Qe.ZodOptional},bt(s)));class at extends _t{_parse(s){return this._getType(s)===J.null?qt(null):this._def.innerType._parse(s)}unwrap(){return this._def.innerType}}at.create=(i,s)=>new at(W({innerType:i,typeName:Qe.ZodNullable},bt(s)));class Zt extends _t{_parse(s){const{ctx:l}=this._processInputParams(s);let c=l.data;return l.parsedType===J.undefined&&(c=this._def.defaultValue()),this._def.innerType._parse({data:c,path:l.path,parent:l})}removeDefault(){return this._def.innerType}}Zt.create=(i,s)=>new Zt(W({innerType:i,typeName:Qe.ZodDefault,defaultValue:typeof s.default=="function"?s.default:()=>s.default},bt(s)));class on extends _t{_parse(s){const{ctx:l}=this._processInputParams(s),c=Te(W({},l),{common:Te(W({},l.common),{issues:[]})}),u=this._def.innerType._parse({data:c.data,path:c.path,parent:W({},c)});return er(u)?u.then(d=>({status:"valid",value:d.status==="valid"?d.value:this._def.catchValue({get error(){return new Ye(c.common.issues)},input:c.data})})):{status:"valid",value:u.status==="valid"?u.value:this._def.catchValue({get error(){return new Ye(c.common.issues)},input:c.data})}}removeCatch(){return this._def.innerType}}on.create=(i,s)=>new on(W({innerType:i,typeName:Qe.ZodCatch,catchValue:typeof s.catch=="function"?s.catch:()=>s.catch},bt(s)));class Pn extends _t{_parse(s){if(this._getType(s)!==J.nan){const c=this._getOrReturnCtx(s);return pe(c,{code:ee.invalid_type,expected:J.nan,received:c.parsedType}),X}return{status:"valid",value:s.data}}}Pn.create=i=>new Pn(W({typeName:Qe.ZodNaN},bt(i)));const wr=Symbol("zod_brand");class qr extends _t{_parse(s){const{ctx:l}=this._processInputParams(s),c=l.data;return this._def.type._parse({data:c,path:l.path,parent:l})}unwrap(){return this._def.type}}class Pa extends _t{_parse(s){const{status:l,ctx:c}=this._processInputParams(s);if(c.common.async)return Sn(this,null,function*(){const d=yield this._def.in._parseAsync({data:c.data,path:c.path,parent:c});return d.status==="aborted"?X:d.status==="dirty"?(l.dirty(),un(d.value)):this._def.out._parseAsync({data:d.value,path:c.path,parent:c})});{const u=this._def.in._parseSync({data:c.data,path:c.path,parent:c});return u.status==="aborted"?X:u.status==="dirty"?(l.dirty(),{status:"dirty",value:u.value}):this._def.out._parseSync({data:u.value,path:c.path,parent:c})}}static create(s,l){return new Pa({in:s,out:l,typeName:Qe.ZodPipeline})}}class uo extends _t{_parse(s){const l=this._def.innerType._parse(s),c=u=>(fn(u)&&(u.value=Object.freeze(u.value)),u);return er(l)?l.then(u=>c(u)):c(l)}unwrap(){return this._def.innerType}}uo.create=(i,s)=>new uo(W({innerType:i,typeName:Qe.ZodReadonly},bt(s)));function Cl(i,s={},l){return i?ke.create().superRefine((c,u)=>{var d,h;if(!i(c)){const m=typeof s=="function"?s(c):typeof s=="string"?{message:s}:s,p=(h=(d=m.fatal)!==null&&d!==void 0?d:l)!==null&&h!==void 0?h:!0,g=typeof m=="string"?{message:m}:m;u.addIssue(Te(W({code:"custom"},g),{fatal:p}))}}):ke.create()}const Sl={object:me.lazycreate};var Qe;(function(i){i.ZodString="ZodString",i.ZodNumber="ZodNumber",i.ZodNaN="ZodNaN",i.ZodBigInt="ZodBigInt",i.ZodBoolean="ZodBoolean",i.ZodDate="ZodDate",i.ZodSymbol="ZodSymbol",i.ZodUndefined="ZodUndefined",i.ZodNull="ZodNull",i.ZodAny="ZodAny",i.ZodUnknown="ZodUnknown",i.ZodNever="ZodNever",i.ZodVoid="ZodVoid",i.ZodArray="ZodArray",i.ZodObject="ZodObject",i.ZodUnion="ZodUnion",i.ZodDiscriminatedUnion="ZodDiscriminatedUnion",i.ZodIntersection="ZodIntersection",i.ZodTuple="ZodTuple",i.ZodRecord="ZodRecord",i.ZodMap="ZodMap",i.ZodSet="ZodSet",i.ZodFunction="ZodFunction",i.ZodLazy="ZodLazy",i.ZodLiteral="ZodLiteral",i.ZodEnum="ZodEnum",i.ZodEffects="ZodEffects",i.ZodNativeEnum="ZodNativeEnum",i.ZodOptional="ZodOptional",i.ZodNullable="ZodNullable",i.ZodDefault="ZodDefault",i.ZodCatch="ZodCatch",i.ZodPromise="ZodPromise",i.ZodBranded="ZodBranded",i.ZodPipeline="ZodPipeline",i.ZodReadonly="ZodReadonly"})(Qe||(Qe={}));const Tl=(i,s={message:`Input not instance of ${i.name}`})=>Cl(l=>l instanceof i,s),cr=V.create,os=xe.create,Jn=Pn.create,Ho=_e.create,si=H.create,Al=ie.create,is=Ce.create,Ol=ue.create,Nl=oe.create,fo=ke.create,ss=re.create,Va=ht.create,ls=$.create,cs=ne.create,ho=me.create,li=me.strictCreate,ci=Se.create,Rl=At.create,Pl=Ue.create,ku=$e.create,us=vn.create,Vo=Cn.create,mo=Mn.create,po=lr.create,Il=Ln.create,Ml=hn.create,Ll=Ir.create,ds=yr.create,Dl=Vt.create,qo=mt.create,ui=Ke.create,_a=at.create,go=mt.createWithPreprocess,fs=Pa.create;var U=Object.freeze({__proto__:null,defaultErrorMap:gt,setErrorMap:st,getErrorMap:It,makeIssue:rn,EMPTY_PATH:$t,addIssueToContext:pe,ParseStatus:Pt,INVALID:X,DIRTY:un,OK:qt,isAborted:Qn,isDirty:Jt,isValid:fn,isAsync:er,get util(){return Fe},get objectUtil(){return Ve},ZodParsedType:J,getParsedType:ce,ZodType:_t,datetimeRegex:Vr,ZodString:V,ZodNumber:xe,ZodBigInt:_e,ZodBoolean:H,ZodDate:ie,ZodSymbol:Ce,ZodUndefined:ue,ZodNull:oe,ZodAny:ke,ZodUnknown:re,ZodNever:ht,ZodVoid:$,ZodArray:ne,ZodObject:me,ZodUnion:Se,ZodDiscriminatedUnion:At,ZodIntersection:Ue,ZodTuple:$e,ZodRecord:vn,ZodMap:Cn,ZodSet:Mn,ZodFunction:lr,ZodLazy:Ln,ZodLiteral:hn,ZodEnum:Ir,ZodNativeEnum:yr,ZodPromise:Vt,ZodEffects:mt,ZodTransformer:mt,ZodOptional:Ke,ZodNullable:at,ZodDefault:Zt,ZodCatch:on,ZodNaN:Pn,BRAND:wr,ZodBranded:qr,ZodPipeline:Pa,ZodReadonly:uo,custom:Cl,Schema:_t,ZodSchema:_t,late:Sl,get ZodFirstPartyTypeKind(){return Qe},coerce:{string:i=>V.create(Te(W({},i),{coerce:!0})),number:i=>xe.create(Te(W({},i),{coerce:!0})),boolean:i=>H.create(Te(W({},i),{coerce:!0})),bigint:i=>_e.create(Te(W({},i),{coerce:!0})),date:i=>ie.create(Te(W({},i),{coerce:!0}))},any:fo,array:cs,bigint:Ho,boolean:si,date:Al,discriminatedUnion:Rl,effect:qo,enum:Ll,function:po,instanceof:Tl,intersection:Pl,lazy:Il,literal:Ml,map:Vo,nan:Jn,nativeEnum:ds,never:Va,null:Nl,nullable:_a,number:os,object:ho,oboolean:()=>si().optional(),onumber:()=>os().optional(),optional:ui,ostring:()=>cr().optional(),pipeline:fs,preprocess:go,promise:Dl,record:us,set:mo,strictObject:li,string:cr,symbol:is,transformer:qo,tuple:ku,undefined:Ol,union:ci,unknown:ss,void:ls,NEVER:X,ZodIssueCode:ee,quotelessJson:We,ZodError:Ye});const zl=["bn","bs","pt-BR","bg","ca","hr","cs","da","nl","en","et","fi","fr","de","el","hi","hu","id","it","ja","ko","lv","lt","ms","mn","nb","pl","pt","ro","ru","sr","zh-CN","sl","es","sw","sv","th","zh-TW","tr","uk","vi"],Ia=U.enum(zl),rr=U.record(U.string()).nullable(),bo=U.object({id:U.string().nonempty(),name:U.string().nonempty(),monthlySpend:U.number().min(0).optional(),createdAt:U.string().optional(),customFields:rr.optional(),companyHash:U.string().optional(),industry:U.string().optional(),website:U.string().url().optional()}),xu=U.preprocess(i=>{if(typeof i=="object"&&i!==null){const s=i;return!("userId"in s)&&"id"in s&&(s.userId=s.id,delete s.id),"jwt"in s&&!("featurebaseJwt"in s)&&(s.featurebaseJwt=s.jwt),delete s.jwt,s}return i},U.object({organization:U.string().nonempty(),email:U.string().email().nonempty().optional(),name:U.string().nonempty().optional(),userId:U.string().nonempty().optional(),userHash:U.string().optional(),profilePicture:U.string().url().nullable().optional(),createdAt:U.string().optional(),customFields:rr.optional(),companies:U.array(bo).optional(),locale:Ia.optional(),phone:U.string().optional(),featurebaseJwt:U.string().optional()}).refine(i=>{const s=!!i.email,l=!!i.userId,c=!!i.featurebaseJwt;return s||l||c},{message:"Either email or userId (or both) or featurebaseJwt must be provided",path:["email","userId","featurebaseJwt"]}));class Fl{constructor(s){this.organization=s.organization,this.iframe=null,this.overlay=null,this.popper=null,this.activeSubmissionId=s.submissionId||null}initialize(){this.setupIframeEmbed(),this.setupListeners()}setupIframeEmbed(){var s=this;const l=this.setupOverlay();this.popper=document.createElement("div"),this.popper.setAttribute("id","featurebase-popup-iframe"),this.iframe=document.createElement("iframe"),this.iframe.setAttribute("src",`https://${this.organization}.featurebase.app/popup`),this.iframe.setAttribute("class","featurebase-popup-iframe"),this.iframe.setAttribute("referrerPolicy","origin"),this.iframe.setAttribute("sandbox","allow-scripts allow-forms allow-same-origin allow-popups allow-popups-to-escape-sandbox allow-top-navigation allow-top-navigation-by-user-activation allow-modals"),this.popper.appendChild(this.iframe),this.popper.appendChild(l),document.body.appendChild(this.popper)}setupOverlay(){const s=this;return this.overlay=document.createElement("div"),this.overlay.setAttribute("id","featurebase-popup-overlay"),this.overlay.setAttribute("class","featurebase-popup-overlay fb-fade-in"),this.overlay.addEventListener("click",function(){s.togglePopup()}),this.overlay}setupListeners(){window.addEventListener("message",this.handlePostMessage.bind(this))}togglePopup(){this.iframe&&(this.iframe.classList.contains("featurebase-popup-iframe-show")?this.closePopup():this.openPopup())}openPopup(){var s,l,c,u,d;this.popper&&((s=this.iframe)==null||s.classList.add("featurebase-popup-iframe-show"),(l=this.overlay)==null||l.style.setProperty("display","block"),(c=this.iframe)==null||c.setAttribute("src",`https://${this.organization}.featurebase.app/popup/${this.activeSubmissionId}`),(d=(u=this.iframe)==null?void 0:u.contentWindow)==null||d.postMessage({target:"FeaturebaseWidget",data:{action:"widgetOpened"}},"*"))}closePopup(){var s,l;this.popper&&((s=this.iframe)==null||s.classList.remove("featurebase-popup-iframe-show"),(l=this.overlay)==null||l.style.setProperty("display","none"))}handlePostMessage(s){if(s.preventDefault(),!(!s.data||s.data.target!=="FeaturebasePopup"))switch(s.data.data.action){case"openPopup":const l=s.data.data.submissionId,c=s.data.data.organization;if(!l){console.error("[Featurebase Popup] Missing submissionId in postMessage.");return}this.activeSubmissionId=l,this.openPopup();break;case"closePopup":this.closePopup();break;default:return}}}function ps(i){const s=new Fl(i);return s.initialize(),s}const ar=()=>window&&window.FEATUREBASE_ENV&&window.FEATUREBASE_ENV==="development"?"development":"production",Go=(i,s,l)=>{i!=null&&i.jwtToken&&l&&(s==null?void 0:s.jwtToken)!==i.jwtToken&&(s.jwtToken=i.jwtToken,l.forEach(c=>{const u=new URL(c.src);u.searchParams.set("jwt",i.jwtToken||""),c.src=u.toString()}))};class Eu{constructor(s,l){this.openIcon='<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M16 28C14.4241 28 12.8637 27.6896 11.4078 27.0866C9.95189 26.4835 8.62902 25.5996 7.51472 24.4853C6.40042 23.371 5.5165 22.0481 4.91345 20.5922C4.31039 19.1363 4 17.5759 4 16C4 14.4241 4.31039 12.8637 4.91345 11.4078C5.5165 9.95189 6.40042 8.62902 7.51472 7.51472C8.62902 6.40042 9.95189 5.5165 11.4078 4.91345C12.8637 4.31039 14.4241 4 16 4C19.1826 4 22.2348 5.26428 24.4853 7.51472C26.7357 9.76516 28 12.8174 28 16C28 19.1826 26.7357 22.2348 24.4853 24.4853C22.2348 26.7357 19.1826 28 16 28Z" stroke="white" stroke-width="2.66667" stroke-linecap="round" stroke-linejoin="round"/> <path d="M13.333 13.3334C12.6663 12 9.99967 12 9.33301 13.3334" stroke="white" stroke-width="2.66667" stroke-linecap="round" stroke-linejoin="round"/> <path d="M22.667 13.3334C22.0003 12 19.3337 12 18.667 13.3334" stroke="white" stroke-width="2.66667" stroke-linecap="round" stroke-linejoin="round"/> <path d="M19.3337 20C18.8992 20.4435 18.3805 20.7958 17.8082 21.0363C17.2358 21.2768 16.6212 21.4007 16.0003 21.4007C15.3795 21.4007 14.7649 21.2768 14.1925 21.0363C13.6201 20.7958 13.1015 20.4435 12.667 20" stroke="white" stroke-width="2.66667" stroke-linecap="round" stroke-linejoin="round"/> </svg>',this.closeIcon='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="#fff" viewBox="0 0 256 256"><line x1="200" y1="56" x2="56" y2="200" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="20"></line><line x1="200" y1="200" x2="56" y2="56" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="20"></line></svg>',this.setInnerIframeStyles=(c,u)=>{c.style.margin="0",c.style.padding="0",c.style.width="50px",c.style.height="50px",c.style.border="none",c.style.outline="none",c.style.display="flex",c.style.cursor="pointer",c.style.appearance="none",c.style.overflow="hidden",c.style.alignItems="center",c.style.justifyContent="center",c.style.background=u||"#4a90e2"},this.config=s,this.iframe=null,this.overlay=null,this.popper=null,this.buttonIFrame=null,this.openButton=null,this.fullscreenXButton=null,this.callbackFunction=l,this.config.placement||(this.config.placement="right"),this.config.initialPage||(this.config.initialPage="MainView"),this.config.fullScreen||(this.config.fullScreen=!1),this.config.disableCloseBtn||(this.config.disableCloseBtn=!1)}initialize(){this.setupIframeEmbed(),this.setupListeners()}setupIframeEmbed(){var s,l;if(this.iframe)return;var c=this;const u=this.setupOverlay();this.setCSSVariables(),this.popper=document.createElement("div"),this.popper.setAttribute("data-featurebase-widget",""),this.iframe=document.createElement("iframe"),this.iframe.setAttribute("class","featurebase-widget-iframe"),this.iframe.setAttribute("referrerPolicy","origin"),this.iframe.setAttribute("allow","fullscreen; clipboard-write"),this.iframe.setAttribute("sandbox","allow-scripts allow-forms allow-storage-access-by-user-activation allow-same-origin allow-popups allow-popups-to-escape-sandbox allow-top-navigation allow-top-navigation-by-user-activation allow-modals");const d=ar()==="production"?new URL(`https://${this.config.organization}.featurebase.app/${this.config.locale}/widget`):new URL(`http://${this.config.organization}.localhost:3000/${this.config.locale}/widget`);this.config.initialPage&&d.searchParams.append("page",this.config.initialPage),this.config.jwtToken&&d.searchParams.append("jwt",this.config.jwtToken),(s=this.config)!=null&&s.metadata&&d.searchParams.append("metaData",JSON.stringify(this.config.metadata)),(l=this.config)!=null&&l.theme&&d.searchParams.append("theme",this.config.theme),this.iframe.setAttribute("src",d.toString()),this.setupFullscreenButton(),this.popper.appendChild(u),this.popper.appendChild(this.iframe),!this.config.disableCloseBtn&&this.fullscreenXButton&&this.popper.appendChild(this.fullscreenXButton),document.body.appendChild(this.popper)}setCSSVariables(){const s=document.documentElement;s&&(s.classList.add("featurebase-widget"),this.config.fullScreen?s.classList.add("featurebase-fullscreen"):s.classList.remove("featurebase-fullscreen"),this.config.placement==="left"?(s.classList.add("featurebase-left"),s.classList.remove("featurebase-right")):(s.classList.add("featurebase-right"),s.classList.remove("featurebase-left")))}setupFloatingOpenButton(s){const l=this;this.buttonIFrame=document.createElement("iframe"),this.buttonIFrame.setAttribute("class","featurebase-widget-button-iframe"),this.openButton=document.createElement("button"),this.openButton.innerHTML=this.openIcon,this.setInnerIframeStyles(this.openButton,s),this.openButton.setAttribute("class","featurebase-floaterbtn-iframe-button"),this.openButton.addEventListener("click",function(){l.toggleWidget()}),this.iframe&&(this.iframe.classList.remove("featurebase-floaterbtn-fullscreen-right","featurebase-floaterbtn-fullscreen-left","featurebase-floaterbtn-not-fullscreen","featurebase-floaterbtn-not-fullscreen-right","featurebase-floaterbtn-not-fullscreen-left"),this.config.fullScreen?this.config.placement==="right"?this.iframe.classList.add("featurebase-floaterbtn-fullscreen-right"):this.iframe.classList.add("featurebase-floaterbtn-fullscreen-left"):(this.iframe.classList.add("featurebase-floaterbtn-not-fullscreen"),this.config.placement==="right"?this.iframe.classList.add("featurebase-floaterbtn-not-fullscreen-right"):this.iframe.classList.add("featurebase-floaterbtn-not-fullscreen-left"))),this.buttonIFrame.onload=function(){var c,u,d,h,m;if(l.buttonIFrame!==null&&!((m=l.buttonIFrame)===null||m===void 0)&&m.contentDocument){const p=(c=l.buttonIFrame.contentDocument)==null?void 0:c.body,g=(u=l.buttonIFrame.contentDocument)==null?void 0:u.documentElement;p&&l.setInnerIframeStyles(p,s),g&&l.setInnerIframeStyles(g,s),l.openButton&&((h=(d=l.buttonIFrame)==null?void 0:d.contentDocument)==null||h.body.appendChild(l.openButton))}},this!=null&&this.popper&&(this.buttonIFrame&&(this==null||this.popper.appendChild(this.buttonIFrame)),(this.config.selector||document.querySelector("button[data-featurebase-feedback-portal]"))&&this.buttonIFrame&&(this.buttonIFrame.style.display="none"))}setupFullscreenButton(){const s=this;this.fullscreenXButton=document.createElement("button"),this.fullscreenXButton.setAttribute("class","fb-widget-fullscreen-x fb-button-x-fade-in");const l=document.createElementNS("http://www.w3.org/2000/svg","svg");l.setAttribute("xmlns","http://www.w3.org/2000/svg"),l.setAttribute("fill","none"),l.setAttribute("viewBox","0 0 24 24"),l.setAttribute("stroke-width","1.8"),l.setAttribute("stroke","#fff"),l.setAttribute("class","featurebase-x-svg-icon");const c=document.createElementNS("http://www.w3.org/2000/svg","path");c.setAttribute("stroke-linecap","round"),c.setAttribute("stroke-linejoin","round"),c.setAttribute("d","M6 18L18 6M6 6l12 12"),l.appendChild(c),this.fullscreenXButton.appendChild(l),this.fullscreenXButton.addEventListener("click",function(){s.toggleWidget()}),this.iframe&&(this.config.placement==="right"?(this.iframe.classList.add("featurebase-widget-iframe-right"),this.fullscreenXButton.classList.add("fb-widget-fullscreen-x-right")):(this.iframe.classList.add("featurebase-widget-iframe-left"),this.fullscreenXButton.classList.add("fb-widget-fullscreen-x-left")))}updateWidgetSize(s,l,c,u){const d=document.documentElement;this.config.fullScreen||(d.style.setProperty("--featurebase-widget-max-height",s),d.style.setProperty("--featurebase-widget-height",l),d.style.setProperty("--featurebase-widget-width",c)),this.iframe&&(this.iframe.style.transformOrigin=this.config.placement==="right"?"bottom right":"bottom left",this.iframe.style.transition="transform cubic-bezier(0, 0.3, 0.6, 1) 0.3s, opacity 0.1s ease-in-out, visibility 0.3s linear, width 0.3s, height 0.3s",u?(this.iframe.style.transform="scale(1)",this.iframe.style.boxShadow="rgba(0, 0, 0, 0.16) 0px 5px 40px"):(this.iframe.style.transform="scale(0.1)",this.iframe.style.boxShadow="none"))}setupOverlay(){const s=this;return this.overlay=document.createElement("div"),this.overlay.setAttribute("id","featurebase-widget-overlay"),this.overlay.setAttribute("class","featurebase-widget-overlay fb-widget-fade-in"),this.overlay.addEventListener("click",function(){s.toggleWidget()}),this.overlay}setupListeners(){const s=this;document.addEventListener("click",function(l){s.handleGlobalClickEvent(l)}),window.addEventListener("message",this.handlePostMessage.bind(this)),document.addEventListener("identifyAuthChange",l=>{const c=l;c.detail&&c.detail.jwtToken&&this.handleGlobalAuthChange(c.detail)})}handleGlobalAuthChange(s){this.iframe&&Go(s,this.config,[this.iframe])}handleGlobalClickEvent(s){if(!(!s||!s.target)){var l=[];this.config.selector&&l.push(...document.querySelectorAll(this.config.selector)),l.push(...document.querySelectorAll("button[data-featurebase-feedback-portal]"));for(var c=0;c<l.length;c++){var u=l[c];if(s.target===l[c]||u.contains(s.target))return this.toggleWidget()}}}trackWidgetOpen(){var s;this.iframe&&((s=this.iframe.contentWindow)==null||s.postMessage({type:"widgetOpened"},"*"))}toggleWidget(){var s,l,c,u;this.iframe&&(this.iframe.classList.contains("featurebase-widget-iframe-show")?(this.closeWidget(),(s=this.buttonIFrame)==null||s.classList.remove("fb-widget-opened-toggle-button"),this.config.fullScreen?((l=this.buttonIFrame)==null||l.classList.remove("fb-widget-hide-toggle-button"),this.config.placement==="right"?this.iframe.style.transform="translateX(500px)":this.iframe.style.transform="translateX(-500px)"):this.iframe.style.transform="scale(0.1)"):(this.openWidget(),this.config.fullScreen?((c=this.buttonIFrame)==null||c.classList.add("fb-widget-hide-toggle-button"),this.iframe.style.transform="translateX(0px)"):((u=this.buttonIFrame)==null||u.classList.add("fb-widget-opened-toggle-button"),this.iframe.style.transform="scale(1)")))}openWidget(){var s,l,c,u;!this.popper||!this.iframe||(this.iframe.classList.add("featurebase-widget-iframe-show"),this.trackWidgetOpen(),this.config.fullScreen&&this.overlay&&(this.overlay.classList.remove("featurebase-display-none"),this.overlay.classList.add("featurebase-display-block")),this.openButton&&(this.openButton.innerHTML=this.closeIcon),(l=(s=this.iframe)==null?void 0:s.contentWindow)==null||l.postMessage({target:"FeaturebaseWidget",data:{action:"widgetOpened"}},"*"),this.config.fullScreen&&this.fullscreenXButton&&(this.fullscreenXButton.classList.remove("featurebase-display-none"),this.fullscreenXButton.classList.add("featurebase-display-block")),(this.config.selector||document.querySelector("button[data-featurebase-feedback-portal]"))&&((c=this.buttonIFrame)==null||c.classList.remove("featurebase-display-none"),(u=this.buttonIFrame)==null||u.classList.add("featurebase-display-block")))}closeWidget(){var s,l,c,u;!this.popper||!this.iframe||(this.iframe.classList.remove("featurebase-widget-iframe-show"),this.config.fullScreen&&((s=this.overlay)==null||s.classList.remove("featurebase-display-block"),(l=this.overlay)==null||l.classList.add("featurebase-display-none")),this.openButton&&(this.openButton.innerHTML=this.openIcon),this.config.fullScreen&&this.fullscreenXButton&&(this.fullscreenXButton.classList.remove("featurebase-display-block"),this.fullscreenXButton.classList.add("featurebase-display-none")),(this.config.selector||document.querySelector("button[data-featurebase-feedback-portal]"))&&((c=this.buttonIFrame)==null||c.classList.remove("featurebase-display-block"),(u=this.buttonIFrame)==null||u.classList.add("featurebase-display-none")))}handlePostMessage(s){var l,c,u,d,h,m,p,g,b,w,_;if(s.preventDefault(),!(!s.data||s.data.target!=="FeaturebaseWidget"))switch(s.data.data.action){case"changePage":(c=(l=this.iframe)==null?void 0:l.contentWindow)==null||c.postMessage({target:"FeaturebaseWidget",data:s.data.data},"*"),s.data.data.openWidget&&(this.openWidget(),(d=(u=this.iframe)==null?void 0:u.contentWindow)==null||d.postMessage({target:"FeaturebaseWidget",data:{action:"widgetOpened"}},"*"));break;case"updateMetadata":const k=(m=(h=s.data)==null?void 0:h.data)==null?void 0:m.metadata;this.iframe&&((p=this.iframe.contentWindow)==null||p.postMessage({target:"FeaturebaseWidget",data:{action:"updateMetadata",metadata:k}},"*"));break;case"openWidget":this.openWidget(),(b=(g=this.iframe)==null?void 0:g.contentWindow)==null||b.postMessage({target:"FeaturebaseWidget",data:{action:"widgetOpened"}},"*");break;case"closeWidget":this.closeWidget();break;case"toggleWidget":this.toggleWidget();break;case"toggleWideView":this.updateWidgetSize("90vh","90vh","720px",!0);break;case"closeWideView":this.updateWidgetSize("700px","75vh","420px",!1);break;case"initializePortalOrg":this!=null&&this.popper&&!this.buttonIFrame&&!this.config.fullScreen&&this.setupFloatingOpenButton(s.data.data.data.color),this.callbackFunction&&this.callbackFunction(null,{action:"widgetReady"});break;case"requestJwt":this.config.jwtToken&&((_=(w=this.iframe)==null?void 0:w.contentWindow)==null||_.postMessage({target:"FeaturebaseWidget",data:{action:"jwtAuth",payload:this.config.jwtToken}},"*"));break;default:return}}}function ra(i,s){const l=new Eu(i,s);return l.initialize(),l}const qa=U.record(U.string()).nullable(),Bl=U.object({organization:U.string().nonempty(),placement:U.enum(["bottom-right","bottom-left","left","right"]).optional(),theme:U.string().nonempty(),defaultBoard:U.string().optional(),jwtToken:U.string().default("").optional(),featurebaseJwt:U.string().default("").optional(),metadata:qa.optional(),locale:Ia.default("en"),email:U.string().email().optional(),userId:U.string().optional(),userHash:U.string().optional()}),gs=U.object({organization:U.string().nonempty(),placement:U.enum(["left","right"]).optional(),initialPage:U.enum(["MainView","RoadmapView","CreatePost","PostsView","ChangelogView","HelpView"]).default("MainView"),fullScreen:U.boolean().default(!1),jwtToken:U.string().default("").optional(),selector:U.string().optional(),disableCloseBtn:U.boolean().default(!1).optional(),metadata:qa.optional(),theme:U.string().nonempty().optional(),locale:Ia.default("en"),email:U.string().email().optional(),userId:U.string().optional(),userHash:U.string().optional()}),bs=U.object({organization:U.string().nonempty(),placement:U.enum(["bottom","top","left","right","auto"]).optional(),theme:U.string().nonempty(),fullscreenPopup:U.boolean().optional(),usersName:U.string().optional(),alwaysShow:U.boolean().optional(),jwtToken:U.string().default("").optional(),featurebaseJwt:U.string().default("").optional(),locale:Ia.default("en"),email:U.string().email().optional(),userId:U.string().optional(),userHash:U.string().optional(),lazyLoadDropdown:U.boolean().optional()}),Wl=U.object({organization:U.string().nonempty(),category:U.array(U.string()).optional(),dropdown:U.object({enabled:U.boolean(),placement:U.enum(["bottom","top","left","right","auto"]).optional(),lazyLoad:U.boolean().optional()}).optional(),popup:U.object({enabled:U.boolean(),usersName:U.string().optional(),autoOpenForNewUpdates:U.boolean().optional()}).optional(),theme:U.enum(["dark","light"]),locale:Ia.default("en"),jwtToken:U.string().default("").optional(),featurebaseJwt:U.string().default("").optional(),email:U.string().email().optional(),userId:U.string().optional(),userHash:U.string().optional()}).refine(i=>i.dropdown!==void 0||i.popup!==void 0,{message:"At least one of 'dropdown' or 'popup' must be provided"}),ka=["top","right","bottom","left"],vs=["start","end"],ys=ka.reduce((i,s)=>i.concat(s,s+"-"+vs[0],s+"-"+vs[1]),[]),Ga=Math.min,Mr=Math.max,di=Math.round,vt=Math.floor,Y=i=>({x:i,y:i}),Me={left:"right",right:"left",bottom:"top",top:"bottom"},ct={start:"end",end:"start"};function An(i,s,l){return Mr(i,Ga(s,l))}function Dn(i,s){return typeof i=="function"?i(s):i}function _n(i){return i.split("-")[0]}function jn(i){return i.split("-")[1]}function Qr(i){return i==="x"?"y":"x"}function vo(i){return i==="y"?"height":"width"}function $n(i){return["top","bottom"].includes(_n(i))?"y":"x"}function ws(i){return Qr($n(i))}function _s(i,s,l){l===void 0&&(l=!1);const c=jn(i),u=ws(i),d=vo(u);let h=u==="x"?c===(l?"end":"start")?"right":"left":c==="start"?"bottom":"top";return s.reference[d]>s.floating[d]&&(h=$l(h)),[h,$l(h)]}function $1(i){const s=$l(i);return[Ul(i),s,Ul(s)]}function Ul(i){return i.replace(/start|end/g,s=>ct[s])}function H1(i,s,l){const c=["left","right"],u=["right","left"],d=["top","bottom"],h=["bottom","top"];switch(i){case"top":case"bottom":return l?s?u:c:s?c:u;case"left":case"right":return s?d:h;default:return[]}}function V1(i,s,l,c){const u=jn(i);let d=H1(_n(i),l==="start",c);return u&&(d=d.map(h=>h+"-"+u),s&&(d=d.concat(d.map(Ul)))),d}function $l(i){return i.replace(/left|right|bottom|top/g,s=>Me[s])}function q1(i){return W({top:0,right:0,bottom:0,left:0},i)}function G1(i){return typeof i!="number"?q1(i):{top:i,right:i,bottom:i,left:i}}function Hl(i){const{x:s,y:l,width:c,height:u}=i;return{width:c,height:u,top:l,left:s,right:s+c,bottom:l+u,x:s,y:l}}function bh(i,s,l){let{reference:c,floating:u}=i;const d=$n(s),h=ws(s),m=vo(h),p=_n(s),g=d==="y",b=c.x+c.width/2-u.width/2,w=c.y+c.height/2-u.height/2,_=c[m]/2-u[m]/2;let k;switch(p){case"top":k={x:b,y:c.y-u.height};break;case"bottom":k={x:b,y:c.y+c.height};break;case"right":k={x:c.x+c.width,y:w};break;case"left":k={x:c.x-u.width,y:w};break;default:k={x:c.x,y:c.y}}switch(jn(s)){case"start":k[h]-=_*(l&&g?-1:1);break;case"end":k[h]+=_*(l&&g?-1:1);break}return k}const K1=(i,s,l)=>Sn(wa,null,function*(){const{placement:c="bottom",strategy:u="absolute",middleware:d=[],platform:h}=l,m=d.filter(Boolean),p=yield h.isRTL==null?void 0:h.isRTL(s);let g=yield h.getElementRects({reference:i,floating:s,strategy:u}),{x:b,y:w}=bh(g,c,p),_=c,k={},E=0;for(let T=0;T<m.length;T++){const{name:S,fn:x}=m[T],{x:A,y:R,data:N,reset:F}=yield x({x:b,y:w,initialPlacement:c,placement:_,strategy:u,middlewareData:k,rects:g,platform:h,elements:{reference:i,floating:s}});b=A!=null?A:b,w=R!=null?R:w,k=Te(W({},k),{[S]:W(W({},k[S]),N)}),F&&E<=50&&(E++,typeof F=="object"&&(F.placement&&(_=F.placement),F.rects&&(g=F.rects===!0?yield h.getElementRects({reference:i,floating:s,strategy:u}):F.rects),{x:b,y:w}=bh(g,_,p)),T=-1)}return{x:b,y:w,placement:_,strategy:u,middlewareData:k}});function fi(i,s){return Sn(this,null,function*(){var l;s===void 0&&(s={});const{x:c,y:u,platform:d,rects:h,elements:m,strategy:p}=i,{boundary:g="clippingAncestors",rootBoundary:b="viewport",elementContext:w="floating",altBoundary:_=!1,padding:k=0}=Dn(s,i),E=G1(k),S=m[_?w==="floating"?"reference":"floating":w],x=Hl(yield d.getClippingRect({element:(l=yield d.isElement==null?void 0:d.isElement(S))==null||l?S:S.contextElement||(yield d.getDocumentElement==null?void 0:d.getDocumentElement(m.floating)),boundary:g,rootBoundary:b,strategy:p})),A=w==="floating"?{x:c,y:u,width:h.floating.width,height:h.floating.height}:h.reference,R=yield d.getOffsetParent==null?void 0:d.getOffsetParent(m.floating),N=(yield d.isElement==null?void 0:d.isElement(R))?(yield d.getScale==null?void 0:d.getScale(R))||{x:1,y:1}:{x:1,y:1},F=Hl(d.convertOffsetParentRelativeRectToViewportRelativeRect?yield d.convertOffsetParentRelativeRectToViewportRelativeRect({elements:m,rect:A,offsetParent:R,strategy:p}):A);return{top:(x.top-F.top+E.top)/N.y,bottom:(F.bottom-x.bottom+E.bottom)/N.y,left:(x.left-F.left+E.left)/N.x,right:(F.right-x.right+E.right)/N.x}})}const S7=i=>({name:"arrow",options:i,fn(l){return Sn(this,null,function*(){const{x:c,y:u,placement:d,rects:h,platform:m,elements:p,middlewareData:g}=l,{element:b,padding:w=0}=evaluate(i,l)||{};if(b==null)return{};const _=getPaddingObject(w),k={x:c,y:u},E=getAlignmentAxis(d),T=getAxisLength(E),S=yield m.getDimensions(b),x=E==="y",A=x?"top":"left",R=x?"bottom":"right",N=x?"clientHeight":"clientWidth",F=h.reference[T]+h.reference[E]-k[E]-h.floating[T],P=k[E]-h.reference[E],O=yield m.getOffsetParent==null?void 0:m.getOffsetParent(b);let C=O?O[N]:0;(!C||!(yield m.isElement==null?void 0:m.isElement(O)))&&(C=p.floating[N]||h.floating[T]);const D=F/2-P/2,L=C/2-S[T]/2-1,M=min(_[A],L),z=min(_[R],L),I=M,q=C-S[T]-z,Z=C/2-S[T]/2+D,ae=clamp(I,Z,q),se=!g.arrow&&getAlignment(d)!=null&&Z!==ae&&h.reference[T]/2-(Z<I?M:z)-S[T]/2<0,Ae=se?Z<I?Z-I:Z-q:0;return{[E]:k[E]+Ae,data:W({[E]:ae,centerOffset:Z-ae-Ae},se&&{alignmentOffset:Ae}),reset:se}})}});function Y1(i,s,l){return(i?[...l.filter(u=>jn(u)===i),...l.filter(u=>jn(u)!==i)]:l.filter(u=>_n(u)===u)).filter(u=>i?jn(u)===i||(s?Ul(u)!==u:!1):!0)}const J1=function(i){return i===void 0&&(i={}),{name:"autoPlacement",options:i,fn(l){return Sn(this,null,function*(){var c,u,d;const{rects:h,middlewareData:m,placement:p,platform:g,elements:b}=l,M=Dn(i,l),{crossAxis:w=!1,alignment:_,allowedPlacements:k=ys,autoAlignment:E=!0}=M,T=gn(M,["crossAxis","alignment","allowedPlacements","autoAlignment"]),S=_!==void 0||k===ys?Y1(_||null,E,k):k,x=yield fi(l,T),A=((c=m.autoPlacement)==null?void 0:c.index)||0,R=S[A];if(R==null)return{};const N=_s(R,h,yield g.isRTL==null?void 0:g.isRTL(b.floating));if(p!==R)return{reset:{placement:S[0]}};const F=[x[_n(R)],x[N[0]],x[N[1]]],P=[...((u=m.autoPlacement)==null?void 0:u.overflows)||[],{placement:R,overflows:F}],O=S[A+1];if(O)return{data:{index:A+1,overflows:P},reset:{placement:O}};const C=P.map(z=>{const I=jn(z.placement);return[z.placement,I&&w?z.overflows.slice(0,2).reduce((q,Z)=>q+Z,0):z.overflows[0],z.overflows]}).sort((z,I)=>z[1]-I[1]),L=((d=C.filter(z=>z[2].slice(0,jn(z[0])?2:3).every(I=>I<=0))[0])==null?void 0:d[0])||C[0][0];return L!==p?{data:{index:A+1,overflows:P},reset:{placement:L}}:{}})}}},Z1=function(i){return i===void 0&&(i={}),{name:"flip",options:i,fn(l){return Sn(this,null,function*(){var c,u;const{placement:d,middlewareData:h,rects:m,initialPlacement:p,platform:g,elements:b}=l,Z=Dn(i,l),{mainAxis:w=!0,crossAxis:_=!0,fallbackPlacements:k,fallbackStrategy:E="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:S=!0}=Z,x=gn(Z,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]);if((c=h.arrow)!=null&&c.alignmentOffset)return{};const A=_n(d),R=$n(p),N=_n(p)===p,F=yield g.isRTL==null?void 0:g.isRTL(b.floating),P=k||(N||!S?[$l(p)]:$1(p)),O=T!=="none";!k&&O&&P.push(...V1(p,S,T,F));const C=[p,...P],D=yield fi(l,x),L=[];let M=((u=h.flip)==null?void 0:u.overflows)||[];if(w&&L.push(D[A]),_){const ae=_s(d,m,F);L.push(D[ae[0]],D[ae[1]])}if(M=[...M,{placement:d,overflows:L}],!L.every(ae=>ae<=0)){var z,I;const ae=(((z=h.flip)==null?void 0:z.index)||0)+1,se=C[ae];if(se)return{data:{index:ae,overflows:M},reset:{placement:se}};let Ae=(I=M.filter(be=>be.overflows[0]<=0).sort((be,Le)=>be.overflows[1]-Le.overflows[1])[0])==null?void 0:I.placement;if(!Ae)switch(E){case"bestFit":{var q;const be=(q=M.filter(Le=>{if(O){const B=$n(Le.placement);return B===R||B==="y"}return!0}).map(Le=>[Le.placement,Le.overflows.filter(B=>B>0).reduce((B,G)=>B+G,0)]).sort((Le,B)=>Le[1]-B[1])[0])==null?void 0:q[0];be&&(Ae=be);break}case"initialPlacement":Ae=p;break}if(d!==Ae)return{reset:{placement:Ae}}}return{}})}}};function vh(i,s){return{top:i.top-s.height,right:i.right-s.width,bottom:i.bottom-s.height,left:i.left-s.width}}function yh(i){return sides.some(s=>i[s]>=0)}const T7=function(i){return i===void 0&&(i={}),{name:"hide",options:i,fn(l){return Sn(this,null,function*(){const{rects:c}=l,h=evaluate(i,l),{strategy:u="referenceHidden"}=h,d=gn(h,["strategy"]);switch(u){case"referenceHidden":{const m=yield fi(l,Te(W({},d),{elementContext:"reference"})),p=vh(m,c.reference);return{data:{referenceHiddenOffsets:p,referenceHidden:yh(p)}}}case"escaped":{const m=yield fi(l,Te(W({},d),{altBoundary:!0})),p=vh(m,c.floating);return{data:{escapedOffsets:p,escaped:yh(p)}}}default:return{}}})}}};function wh(i){const s=min(...i.map(d=>d.left)),l=min(...i.map(d=>d.top)),c=max(...i.map(d=>d.right)),u=max(...i.map(d=>d.bottom));return{x:s,y:l,width:c-s,height:u-l}}function X1(i){const s=i.slice().sort((u,d)=>u.y-d.y),l=[];let c=null;for(let u=0;u<s.length;u++){const d=s[u];!c||d.y-c.y>c.height/2?l.push([d]):l[l.length-1].push(d),c=d}return l.map(u=>rectToClientRect(wh(u)))}const A7=function(i){return i===void 0&&(i={}),{name:"inline",options:i,fn(l){return Sn(this,null,function*(){const{placement:c,elements:u,rects:d,platform:h,strategy:m}=l,{padding:p=2,x:g,y:b}=evaluate(i,l),w=Array.from((yield h.getClientRects==null?void 0:h.getClientRects(u.reference))||[]),_=X1(w),k=rectToClientRect(wh(w)),E=getPaddingObject(p);function T(){if(_.length===2&&_[0].left>_[1].right&&g!=null&&b!=null)return _.find(x=>g>x.left-E.left&&g<x.right+E.right&&b>x.top-E.top&&b<x.bottom+E.bottom)||k;if(_.length>=2){if(getSideAxis(c)==="y"){const M=_[0],z=_[_.length-1],I=getSide(c)==="top",q=M.top,Z=z.bottom,ae=I?M.left:z.left,se=I?M.right:z.right,Ae=se-ae,be=Z-q;return{top:q,bottom:Z,left:ae,right:se,width:Ae,height:be,x:ae,y:q}}const x=getSide(c)==="left",A=max(..._.map(M=>M.right)),R=min(..._.map(M=>M.left)),N=_.filter(M=>x?M.left===R:M.right===A),F=N[0].top,P=N[N.length-1].bottom,O=R,C=A,D=C-O,L=P-F;return{top:F,bottom:P,left:O,right:C,width:D,height:L,x:O,y:F}}return k}const S=yield h.getElementRects({reference:{getBoundingClientRect:T},floating:u.floating,strategy:m});return d.reference.x!==S.reference.x||d.reference.y!==S.reference.y||d.reference.width!==S.reference.width||d.reference.height!==S.reference.height?{reset:{rects:S}}:{}})}}};function Q1(i,s){return Sn(this,null,function*(){const{placement:l,platform:c,elements:u}=i,d=yield c.isRTL==null?void 0:c.isRTL(u.floating),h=_n(l),m=jn(l),p=$n(l)==="y",g=["left","top"].includes(h)?-1:1,b=d&&p?-1:1,w=Dn(s,i);let{mainAxis:_,crossAxis:k,alignmentAxis:E}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:w.mainAxis||0,crossAxis:w.crossAxis||0,alignmentAxis:w.alignmentAxis};return m&&typeof E=="number"&&(k=m==="end"?E*-1:E),p?{x:k*b,y:_*g}:{x:_*g,y:k*b}})}const ey=function(i){return i===void 0&&(i=0),{name:"offset",options:i,fn(l){return Sn(this,null,function*(){var c,u;const{x:d,y:h,placement:m,middlewareData:p}=l,g=yield Q1(l,i);return m===((c=p.offset)==null?void 0:c.placement)&&(u=p.arrow)!=null&&u.alignmentOffset?{}:{x:d+g.x,y:h+g.y,data:Te(W({},g),{placement:m})}})}}},ty=function(i){return i===void 0&&(i={}),{name:"shift",options:i,fn(l){return Sn(this,null,function*(){const{x:c,y:u,placement:d}=l,x=Dn(i,l),{mainAxis:h=!0,crossAxis:m=!1,limiter:p={fn:A=>{let{x:R,y:N}=A;return{x:R,y:N}}}}=x,g=gn(x,["mainAxis","crossAxis","limiter"]),b={x:c,y:u},w=yield fi(l,g),_=$n(_n(d)),k=Qr(_);let E=b[k],T=b[_];if(h){const A=k==="y"?"top":"left",R=k==="y"?"bottom":"right",N=E+w[A],F=E-w[R];E=An(N,E,F)}if(m){const A=_==="y"?"top":"left",R=_==="y"?"bottom":"right",N=T+w[A],F=T-w[R];T=An(N,T,F)}const S=p.fn(Te(W({},l),{[k]:E,[_]:T}));return Te(W({},S),{data:{x:S.x-c,y:S.y-u,enabled:{[k]:h,[_]:m}}})})}}},ny=function(i){return i===void 0&&(i={}),{options:i,fn(s){const{x:l,y:c,placement:u,rects:d,middlewareData:h}=s,{offset:m=0,mainAxis:p=!0,crossAxis:g=!0}=Dn(i,s),b={x:l,y:c},w=$n(u),_=Qr(w);let k=b[_],E=b[w];const T=Dn(m,s),S=typeof T=="number"?{mainAxis:T,crossAxis:0}:W({mainAxis:0,crossAxis:0},T);if(p){const R=_==="y"?"height":"width",N=d.reference[_]-d.floating[R]+S.mainAxis,F=d.reference[_]+d.reference[R]-S.mainAxis;k<N?k=N:k>F&&(k=F)}if(g){var x,A;const R=_==="y"?"width":"height",N=["top","left"].includes(_n(u)),F=d.reference[w]-d.floating[R]+(N&&((x=h.offset)==null?void 0:x[w])||0)+(N?0:S.crossAxis),P=d.reference[w]+d.reference[R]+(N?0:((A=h.offset)==null?void 0:A[w])||0)-(N?S.crossAxis:0);E<F?E=F:E>P&&(E=P)}return{[_]:k,[w]:E}}}},ry=function(i){return i===void 0&&(i={}),{name:"size",options:i,fn(l){return Sn(this,null,function*(){var c,u;const{placement:d,rects:h,platform:m,elements:p}=l,M=Dn(i,l),{apply:g=()=>{}}=M,b=gn(M,["apply"]),w=yield fi(l,b),_=_n(d),k=jn(d),E=$n(d)==="y",{width:T,height:S}=h.floating;let x,A;_==="top"||_==="bottom"?(x=_,A=k===((yield m.isRTL==null?void 0:m.isRTL(p.floating))?"start":"end")?"left":"right"):(A=_,x=k==="end"?"top":"bottom");const R=S-w.top-w.bottom,N=T-w.left-w.right,F=Ga(S-w[x],R),P=Ga(T-w[A],N),O=!l.middlewareData.shift;let C=F,D=P;if((c=l.middlewareData.shift)!=null&&c.enabled.x&&(D=N),(u=l.middlewareData.shift)!=null&&u.enabled.y&&(C=R),O&&!k){const z=Mr(w.left,0),I=Mr(w.right,0),q=Mr(w.top,0),Z=Mr(w.bottom,0);E?D=T-2*(z!==0||I!==0?z+I:Mr(w.left,w.right)):C=S-2*(q!==0||Z!==0?q+Z:Mr(w.top,w.bottom))}yield g(Te(W({},l),{availableWidth:D,availableHeight:C}));const L=yield m.getDimensions(p.floating);return T!==L.width||S!==L.height?{reset:{rects:!0}}:{}})}}};function Vl(){return typeof window!="undefined"}function hi(i){return _h(i)?(i.nodeName||"").toLowerCase():"#document"}function aa(i){var s;return(i==null||(s=i.ownerDocument)==null?void 0:s.defaultView)||window}function Ma(i){var s;return(s=(_h(i)?i.ownerDocument:i.document)||window.document)==null?void 0:s.documentElement}function _h(i){return Vl()?i instanceof Node||i instanceof aa(i).Node:!1}function xa(i){return Vl()?i instanceof Element||i instanceof aa(i).Element:!1}function La(i){return Vl()?i instanceof HTMLElement||i instanceof aa(i).HTMLElement:!1}function kh(i){return!Vl()||typeof ShadowRoot=="undefined"?!1:i instanceof ShadowRoot||i instanceof aa(i).ShadowRoot}function ks(i){const{overflow:s,overflowX:l,overflowY:c,display:u}=Ea(i);return/auto|scroll|overlay|hidden|clip/.test(s+c+l)&&!["inline","contents"].includes(u)}function ay(i){return["table","td","th"].includes(hi(i))}function ql(i){return[":popover-open",":modal"].some(s=>{try{return i.matches(s)}catch(l){return!1}})}function Cu(i){const s=Su(),l=xa(i)?Ea(i):i;return["transform","translate","scale","rotate","perspective"].some(c=>l[c]?l[c]!=="none":!1)||(l.containerType?l.containerType!=="normal":!1)||!s&&(l.backdropFilter?l.backdropFilter!=="none":!1)||!s&&(l.filter?l.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(c=>(l.willChange||"").includes(c))||["paint","layout","strict","content"].some(c=>(l.contain||"").includes(c))}function oy(i){let s=yo(i);for(;La(s)&&!mi(s);){if(Cu(s))return s;if(ql(s))return null;s=yo(s)}return null}function Su(){return typeof CSS=="undefined"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function mi(i){return["html","body","#document"].includes(hi(i))}function Ea(i){return aa(i).getComputedStyle(i)}function Gl(i){return xa(i)?{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}:{scrollLeft:i.scrollX,scrollTop:i.scrollY}}function yo(i){if(hi(i)==="html")return i;const s=i.assignedSlot||i.parentNode||kh(i)&&i.host||Ma(i);return kh(s)?s.host:s}function xh(i){const s=yo(i);return mi(s)?i.ownerDocument?i.ownerDocument.body:i.body:La(s)&&ks(s)?s:xh(s)}function xs(i,s,l){var c;s===void 0&&(s=[]),l===void 0&&(l=!0);const u=xh(i),d=u===((c=i.ownerDocument)==null?void 0:c.body),h=aa(u);if(d){const m=Tu(h);return s.concat(h,h.visualViewport||[],ks(u)?u:[],m&&l?xs(m):[])}return s.concat(u,xs(u,[],l))}function Tu(i){return i.parent&&Object.getPrototypeOf(i.parent)?i.frameElement:null}function Eh(i){const s=Ea(i);let l=parseFloat(s.width)||0,c=parseFloat(s.height)||0;const u=La(i),d=u?i.offsetWidth:l,h=u?i.offsetHeight:c,m=di(l)!==d||di(c)!==h;return m&&(l=d,c=h),{width:l,height:c,$:m}}function Au(i){return xa(i)?i:i.contextElement}function pi(i){const s=Au(i);if(!La(s))return Y(1);const l=s.getBoundingClientRect(),{width:c,height:u,$:d}=Eh(s);let h=(d?di(l.width):l.width)/c,m=(d?di(l.height):l.height)/u;return(!h||!Number.isFinite(h))&&(h=1),(!m||!Number.isFinite(m))&&(m=1),{x:h,y:m}}const iy=Y(0);function Ch(i){const s=aa(i);return!Su()||!s.visualViewport?iy:{x:s.visualViewport.offsetLeft,y:s.visualViewport.offsetTop}}function sy(i,s,l){return s===void 0&&(s=!1),!l||s&&l!==aa(i)?!1:s}function Ko(i,s,l,c){s===void 0&&(s=!1),l===void 0&&(l=!1);const u=i.getBoundingClientRect(),d=Au(i);let h=Y(1);s&&(c?xa(c)&&(h=pi(c)):h=pi(i));const m=sy(d,l,c)?Ch(d):Y(0);let p=(u.left+m.x)/h.x,g=(u.top+m.y)/h.y,b=u.width/h.x,w=u.height/h.y;if(d){const _=aa(d),k=c&&xa(c)?aa(c):c;let E=_,T=Tu(E);for(;T&&c&&k!==E;){const S=pi(T),x=T.getBoundingClientRect(),A=Ea(T),R=x.left+(T.clientLeft+parseFloat(A.paddingLeft))*S.x,N=x.top+(T.clientTop+parseFloat(A.paddingTop))*S.y;p*=S.x,g*=S.y,b*=S.x,w*=S.y,p+=R,g+=N,E=aa(T),T=Tu(E)}}return Hl({width:b,height:w,x:p,y:g})}function Ou(i,s){const l=Gl(i).scrollLeft;return s?s.left+l:Ko(Ma(i)).left+l}function Sh(i,s,l){l===void 0&&(l=!1);const c=i.getBoundingClientRect(),u=c.left+s.scrollLeft-(l?0:Ou(i,c)),d=c.top+s.scrollTop;return{x:u,y:d}}function ly(i){let{elements:s,rect:l,offsetParent:c,strategy:u}=i;const d=u==="fixed",h=Ma(c),m=s?ql(s.floating):!1;if(c===h||m&&d)return l;let p={scrollLeft:0,scrollTop:0},g=Y(1);const b=Y(0),w=La(c);if((w||!w&&!d)&&((hi(c)!=="body"||ks(h))&&(p=Gl(c)),La(c))){const k=Ko(c);g=pi(c),b.x=k.x+c.clientLeft,b.y=k.y+c.clientTop}const _=h&&!w&&!d?Sh(h,p,!0):Y(0);return{width:l.width*g.x,height:l.height*g.y,x:l.x*g.x-p.scrollLeft*g.x+b.x+_.x,y:l.y*g.y-p.scrollTop*g.y+b.y+_.y}}function cy(i){return Array.from(i.getClientRects())}function uy(i){const s=Ma(i),l=Gl(i),c=i.ownerDocument.body,u=Mr(s.scrollWidth,s.clientWidth,c.scrollWidth,c.clientWidth),d=Mr(s.scrollHeight,s.clientHeight,c.scrollHeight,c.clientHeight);let h=-l.scrollLeft+Ou(i);const m=-l.scrollTop;return Ea(c).direction==="rtl"&&(h+=Mr(s.clientWidth,c.clientWidth)-u),{width:u,height:d,x:h,y:m}}function dy(i,s){const l=aa(i),c=Ma(i),u=l.visualViewport;let d=c.clientWidth,h=c.clientHeight,m=0,p=0;if(u){d=u.width,h=u.height;const g=Su();(!g||g&&s==="fixed")&&(m=u.offsetLeft,p=u.offsetTop)}return{width:d,height:h,x:m,y:p}}function fy(i,s){const l=Ko(i,!0,s==="fixed"),c=l.top+i.clientTop,u=l.left+i.clientLeft,d=La(i)?pi(i):Y(1),h=i.clientWidth*d.x,m=i.clientHeight*d.y,p=u*d.x,g=c*d.y;return{width:h,height:m,x:p,y:g}}function Th(i,s,l){let c;if(s==="viewport")c=dy(i,l);else if(s==="document")c=uy(Ma(i));else if(xa(s))c=fy(s,l);else{const u=Ch(i);c={x:s.x-u.x,y:s.y-u.y,width:s.width,height:s.height}}return Hl(c)}function Ah(i,s){const l=yo(i);return l===s||!xa(l)||mi(l)?!1:Ea(l).position==="fixed"||Ah(l,s)}function hy(i,s){const l=s.get(i);if(l)return l;let c=xs(i,[],!1).filter(m=>xa(m)&&hi(m)!=="body"),u=null;const d=Ea(i).position==="fixed";let h=d?yo(i):i;for(;xa(h)&&!mi(h);){const m=Ea(h),p=Cu(h);!p&&m.position==="fixed"&&(u=null),(d?!p&&!u:!p&&m.position==="static"&&!!u&&["absolute","fixed"].includes(u.position)||ks(h)&&!p&&Ah(i,h))?c=c.filter(b=>b!==h):u=m,h=yo(h)}return s.set(i,c),c}function my(i){let{element:s,boundary:l,rootBoundary:c,strategy:u}=i;const h=[...l==="clippingAncestors"?ql(s)?[]:hy(s,this._c):[].concat(l),c],m=h[0],p=h.reduce((g,b)=>{const w=Th(s,b,u);return g.top=Mr(w.top,g.top),g.right=Ga(w.right,g.right),g.bottom=Ga(w.bottom,g.bottom),g.left=Mr(w.left,g.left),g},Th(s,m,u));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function py(i){const{width:s,height:l}=Eh(i);return{width:s,height:l}}function gy(i,s,l){const c=La(s),u=Ma(s),d=l==="fixed",h=Ko(i,!0,d,s);let m={scrollLeft:0,scrollTop:0};const p=Y(0);if(c||!c&&!d)if((hi(s)!=="body"||ks(u))&&(m=Gl(s)),c){const _=Ko(s,!0,d,s);p.x=_.x+s.clientLeft,p.y=_.y+s.clientTop}else u&&(p.x=Ou(u));const g=u&&!c&&!d?Sh(u,m):Y(0),b=h.left+m.scrollLeft-p.x-g.x,w=h.top+m.scrollTop-p.y-g.y;return{x:b,y:w,width:h.width,height:h.height}}function Nu(i){return Ea(i).position==="static"}function Oh(i,s){if(!La(i)||Ea(i).position==="fixed")return null;if(s)return s(i);let l=i.offsetParent;return Ma(i)===l&&(l=l.ownerDocument.body),l}function Nh(i,s){const l=aa(i);if(ql(i))return l;if(!La(i)){let u=yo(i);for(;u&&!mi(u);){if(xa(u)&&!Nu(u))return u;u=yo(u)}return l}let c=Oh(i,s);for(;c&&ay(c)&&Nu(c);)c=Oh(c,s);return c&&mi(c)&&Nu(c)&&!Cu(c)?l:c||oy(i)||l}const by=function(i){return Sn(this,null,function*(){const s=this.getOffsetParent||Nh,l=this.getDimensions,c=yield l(i.floating);return{reference:gy(i.reference,yield s(i.floating),i.strategy),floating:{x:0,y:0,width:c.width,height:c.height}}})};function vy(i){return Ea(i).direction==="rtl"}const yy={convertOffsetParentRelativeRectToViewportRelativeRect:ly,getDocumentElement:Ma,getClippingRect:my,getOffsetParent:Nh,getElementRects:by,getClientRects:cy,getDimensions:py,getScale:pi,isElement:xa,isRTL:vy};function Rh(i,s){return i.x===s.x&&i.y===s.y&&i.width===s.width&&i.height===s.height}function wy(i,s){let l=null,c;const u=Ma(i);function d(){var m;clearTimeout(c),(m=l)==null||m.disconnect(),l=null}function h(m,p){m===void 0&&(m=!1),p===void 0&&(p=1),d();const g=i.getBoundingClientRect(),{left:b,top:w,width:_,height:k}=g;if(m||s(),!_||!k)return;const E=vt(w),T=vt(u.clientWidth-(b+_)),S=vt(u.clientHeight-(w+k)),x=vt(b),R={rootMargin:-E+"px "+-T+"px "+-S+"px "+-x+"px",threshold:Mr(0,Ga(1,p))||1};let N=!0;function F(P){const O=P[0].intersectionRatio;if(O!==p){if(!N)return h();O?h(!1,O):c=setTimeout(()=>{h(!1,1e-7)},1e3)}O===1&&!Rh(g,i.getBoundingClientRect())&&h(),N=!1}try{l=new IntersectionObserver(F,Te(W({},R),{root:u.ownerDocument}))}catch(P){l=new IntersectionObserver(F,R)}l.observe(i)}return h(!0),d}function Ph(i,s,l,c){c===void 0&&(c={});const{ancestorScroll:u=!0,ancestorResize:d=!0,elementResize:h=typeof ResizeObserver=="function",layoutShift:m=typeof IntersectionObserver=="function",animationFrame:p=!1}=c,g=Au(i),b=u||d?[...g?xs(g):[],...xs(s)]:[];b.forEach(x=>{u&&x.addEventListener("scroll",l,{passive:!0}),d&&x.addEventListener("resize",l)});const w=g&&m?wy(g,l):null;let _=-1,k=null;h&&(k=new ResizeObserver(x=>{let[A]=x;A&&A.target===g&&k&&(k.unobserve(s),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var R;(R=k)==null||R.observe(s)})),l()}),g&&!p&&k.observe(g),k.observe(s));let E,T=p?Ko(i):null;p&&S();function S(){const x=Ko(i);T&&!Rh(T,x)&&l(),T=x,E=requestAnimationFrame(S)}return l(),()=>{var x;b.forEach(A=>{u&&A.removeEventListener("scroll",l),d&&A.removeEventListener("resize",l)}),w==null||w(),(x=k)==null||x.disconnect(),k=null,p&&cancelAnimationFrame(E)}}const O7=null,Ih=ey,_y=J1,Ru=ty,Mh=Z1,ky=ry,N7=null,R7=null,P7=null,xy=ny,Lh=(i,s,l)=>{const c=new Map,u=W({platform:yy},l),d=Te(W({},u.platform),{_c:c});return K1(i,s,Te(W({},u),{platform:d}))};class Ey{constructor(s,l=!1,c){this.initialFullscreenSrc=null,this.isWidgetIframeLoaded=!1,this.hasDetectedButton=!1,this._observer=null,this._observerTimeout=null,this.hasSetCustomTheme=!1,this.hasPopupHeightChanged=!1,this.getWidgetTheme=()=>this.config.theme,this.config=this.normalizeConfig(s,l),this.iframeElement=null,this.floatingElement=null,this.referenceElement=null,this.cleanupUpdate=null,this.unviewedChangelogCount=null,this.fullscreenOverlay=null,this.fullscreenIframeElement=null,this.initialFullscreenSrc=null,this.hasSetCustomTheme=!1,this.isWidgetIframeLoaded=!1,this.updatePosition=this.updatePosition.bind(this),this.callback=c}normalizeConfig(s,l){if(l){const c=s;return{organization:c.organization,theme:c.theme==="dark"?"dark":"light",locale:c.locale,jwtToken:c.jwtToken,email:c.email,userId:c.userId,userHash:c.userHash,dropdown:{enabled:!0,placement:c.placement||"bottom",lazyLoad:c.lazyLoadDropdown||!1},popup:{enabled:c.fullscreenPopup||!1,usersName:c.usersName,autoOpenForNewUpdates:!c.alwaysShow}}}return s}initialize(){var s,l,c;(s=this.config.dropdown)!=null&&s.enabled&&this.setupFloatingElement(),(l=this.config.popup)!=null&&l.enabled&&this.setupFullscreenPopup(),this.setupListeners(),this.startBadgeCheckInterval(),(c=this.config.dropdown)!=null&&c.enabled&&!this.config.dropdown.lazyLoad&&this.checkForChangelogButton()}setupFloatingElement(){this.floatingElement||(this.floatingElement=document.createElement("div"),this.floatingElement.classList.add("fb-changelog-popup-hidden","fb-changelog-popup-wrapper"),this.floatingElement.setAttribute("data-featurebase-widget",""),this.floatingElement.style.background=this.config.theme==="dark"?"#242837":"#fff",this.floatingElement.style.filter=this.config.theme==="dark"?"drop-shadow(0 25px 25px rgb(0 0 0 / 0.45))":"drop-shadow(0 20px 13px rgb(0 0 0 / 0.1)",this.floatingElement.tabIndex=-1,this.floatingElement.style.top="0px",this.floatingElement.style.left="0px",document.body.appendChild(this.floatingElement))}createWidgetIframe(){var s;if(this.isWidgetIframeLoaded||!this.floatingElement)return;this.iframeElement=document.createElement("iframe");const l=ar()==="production"?`https://${this.config.organization}.featurebase.app/${this.config.locale}/widget/changelogWidgetSSR`:`https://${this.config.organization}.fbasedev.com/${this.config.locale}/widget/changelogWidgetSSR`,c=new URL(l);c.searchParams.set("theme",this.config.theme),this.config.jwtToken&&c.searchParams.set("jwtToken",this.config.jwtToken);let u;if((s=this.config)!=null&&s.category&&(u=this.config.category),u&&u.length>0)for(let d=0;d<u.length;d++)c.searchParams.append(`changelogCategories[${d}]`,u[d]);this.iframeElement.src=c.toString(),this.iframeElement.setAttribute("allow","fullscreen; clipboard-write"),this.iframeElement.classList.add("fb-changelog-popup-iframe"),this.iframeElement.style.background=this.config.theme==="dark"?"#242837":"#fff",this.floatingElement.append(this.iframeElement),this.isWidgetIframeLoaded=!0}setupFullscreenPopup(){var s,l,c,u;if(!((s=this.config.popup)!=null&&s.enabled))return;this.fullscreenOverlay=document.createElement("div"),this.fullscreenOverlay.classList.add("fb-changelog-popup-overlay"),this.fullscreenOverlay.setAttribute("data-featurebase-widget",""),this.fullscreenOverlay.style.background=this.config.theme==="dark"?"rgba(16 , 18, 25, 0.8)":"rgba(255, 255, 255, 0.1)",this.fullscreenOverlay.tabIndex=-1,this.fullscreenOverlay.setAttribute("sandbox","allow-scripts allow-forms allow-same-origin allow-popups allow-popups-to-escape-sandbox allow-top-navigation allow-top-navigation-by-user-activation allow-modals"),this.fullscreenIframeElement=document.createElement("iframe");const d=ar()==="production"?`https://${this.config.organization}.featurebase.app/${this.config.locale}/widget/changelogPopupSSR`:`https://${this.config.organization}.fbasedev.com/${this.config.locale}/widget/changelogPopupSSR`,h=new URL(d);h.searchParams.set("theme",this.config.theme),(l=this.config.popup)!=null&&l.usersName&&h.searchParams.set("name",this.config.popup.usersName),(c=this.config.popup)!=null&&c.autoOpenForNewUpdates||h.searchParams.set("alwaysShow","true");let m;if((u=this.config)!=null&&u.category&&(m=this.config.category),m&&m.length>0)for(let g=0;g<m.length;g++)h.searchParams.append(`changelogCategories[${g}]`,m[g]);this.config.jwtToken&&h.searchParams.set("jwtToken",this.config.jwtToken);const p=localStorage.getItem("FBVisitedChangelogsTracker-"+this.config.organization);p&&h.searchParams.set("trackerData",encodeURIComponent(p)),this.fullscreenIframeElement.src=h.toString(),this.initialFullscreenSrc=h.toString(),this.fullscreenIframeElement.setAttribute("allow","fullscreen; clipboard-write"),this.fullscreenIframeElement.classList.add("fb-changelog-popup-overlay-iframe"),this.fullscreenIframeElement.style.background=this.config.theme==="dark"?"rgba(var(--fb-changelog-popup-bg-color), 1)":"#f5f6f9",this.fullscreenIframeElement.style.boxShadow=this.config.theme==="dark"?" 0 25px 25px rgba(0, 0, 0, 0.25)":"0 15px 25px rgb(0 0 0 / 0.1)",this.fullscreenIframeElement.style.border=this.config.theme==="dark"?"1px solid rgba(var(--fb-changelog-popup-border-color), 1)":"1px solid #DEE1EA",this.fullscreenIframeElement.style.opacity="0",this.fullscreenIframeElement.style.pointerEvents="none",this.fullscreenOverlay.append(this.fullscreenIframeElement),this.fullscreenOverlay.classList.add("fb-changelog-popup-overlay-hidden","fb-changelog-popup-display-none"),document.body.appendChild(this.fullscreenOverlay)}handleClickEvent(s){var l,c,u,d;if(!s||!s.target)return;var h=s.target;if((l=this.config.popup)!=null&&l.enabled&&this!=null&&this.fullscreenOverlay&&!((u=(c=this==null?void 0:this.fullscreenOverlay)==null?void 0:c.classList)!=null&&u.contains("fb-changelog-popup-overlay-hidden"))&&s.target!==this.fullscreenIframeElement&&!((d=this.fullscreenIframeElement)!=null&&d.contains(s.target))&&(this.togglePopupWidget(!1),this.setAllAsViewed()),this.handleOutsideClickEvent(h)==="handled")return;const m=document.querySelectorAll("button[data-featurebase-changelog]");for(var p=0;p<m.length;p++){var g=m[p];if(s.target===m[p]||g.contains(s.target))return this.handleClickInsideButton(g)}}updateWidgetTheme(s){var l,c;this.config.theme=s,(l=this.config.dropdown)!=null&&l.enabled&&(this.floatingElement&&this.floatingElement.parentNode&&(this.floatingElement.parentNode.removeChild(this.floatingElement),this.floatingElement=null),this.iframeElement=null,this.isWidgetIframeLoaded=!1,this.hasDetectedButton=!1,this.setupFloatingElement(),this.config.dropdown.lazyLoad||this.checkForChangelogButton()),(c=this.config.popup)!=null&&c.enabled&&(this.fullscreenOverlay&&this.fullscreenOverlay.parentNode&&(this.fullscreenOverlay.parentNode.removeChild(this.fullscreenOverlay),this.fullscreenOverlay=null,this.fullscreenIframeElement=null),this.setupFullscreenPopup())}handleClickInsideButton(s){var l;s&&(this.referenceElement=s,(l=this.config.dropdown)!=null&&l.lazyLoad&&!this.isWidgetIframeLoaded&&this.createWidgetIframe(),this.referenceElement&&this.floatingElement&&this.updatePosition&&(this.updatePosition(),this.floatingElement&&(this.floatingElement.classList.contains("fb-changelog-popup-hidden")?(this.cleanupUpdate=Ph(this.referenceElement,this.floatingElement,this.updatePosition),this.floatingElement.classList.remove("fb-changelog-popup-hidden"),this.floatingElement.classList.add("fb-changelog-popup"),this.trackChangelogOpen(!1)):(this.floatingElement.classList.remove("fb-changelog-popup"),this.floatingElement.classList.add("fb-changelog-popup-hidden"),this.cleanupUpdate&&(this.cleanupUpdate(),this.cleanupUpdate=null)))))}handleOutsideClickEvent(s){return s&&this.floatingElement&&this.floatingElement.classList.contains("fb-changelog-popup")&&!this.floatingElement.contains(s)&&this.referenceElement&&!this.referenceElement.contains(s)&&(this.floatingElement.classList.remove("fb-changelog-popup"),this.floatingElement.classList.add("fb-changelog-popup-hidden"),this.cleanupUpdate)?(this.cleanupUpdate(),this.cleanupUpdate=null,"handled"):"not-handled"}togglePopupWidget(s=!1){var l,c,u;s?((c=this.fullscreenOverlay)==null||c.classList.remove("fb-changelog-popup-overlay-hidden"),(u=this.fullscreenOverlay)==null||u.classList.remove("fb-changelog-popup-display-none")):((l=this.fullscreenOverlay)==null||l.classList.add("fb-changelog-popup-overlay-hidden"),setTimeout(()=>{var d;(d=this.fullscreenOverlay)==null||d.classList.add("fb-changelog-popup-display-none")},300))}setupListeners(){var s,l;const c=this;if(document.addEventListener("click",function(u){c.handleClickEvent(u)},!0),!((s=this.config.dropdown)!=null&&s.lazyLoad)){const u=()=>{this._observerTimeout&&clearTimeout(this._observerTimeout),this._observerTimeout=setTimeout(()=>this.checkForChangelogButton(),100)},d=new MutationObserver(u);d.observe(document.body,{childList:!0,subtree:!0,attributes:!1,characterData:!1}),this._observer=d}window.addEventListener("message",this.handleIframeMessage.bind(this),!1),(l=this.config.popup)!=null&&l.enabled&&(window.addEventListener("keydown",function(u){c.handleKeyPressEvent(u)},!0),window.addEventListener("resize",this.handleResizeEvent.bind(this))),document.addEventListener("identifyAuthChange",u=>{const d=u;d.detail&&d.detail.jwtToken&&this.handleGlobalAuthChange(d.detail)})}handleGlobalAuthChange(s){this.fullscreenIframeElement&&this.iframeElement&&Go(s,this.config,[this.fullscreenIframeElement,this.iframeElement])}handleKeyPressEvent(s){var l,c;["0","1","2","3","4","5","6","7","8","9"].includes(s.key)&&this.fullscreenOverlay&&!this.fullscreenOverlay.classList.contains("fb-feedback-widget-overlay-hidden")&&((c=(l=this.iframeElement)==null?void 0:l.contentWindow)==null||c.postMessage({target:"FeaturebaseWidget",data:{action:"numberKeyPress",key:s.key}},"*")),s.key==="Escape"&&this.fullscreenOverlay&&!this.fullscreenOverlay.classList.contains("fb-feedback-widget-overlay-hidden")&&(this.togglePopupWidget(!1),this.setAllAsViewed())}handleResizeEvent(){var s,l,c;if((s=this.fullscreenIframeElement)!=null&&s.contentWindow){const u=document.body.offsetWidth;(c=(l=this==null?void 0:this.fullscreenIframeElement)==null?void 0:l.contentWindow)==null||c.postMessage({target:"FeaturebaseWidget",data:{action:"viewportResized",width:u}},"*")}}setAllAsViewed(){var s,l;(l=(s=this==null?void 0:this.fullscreenIframeElement)==null?void 0:s.contentWindow)==null||l.postMessage({target:"FeaturebaseWidget",data:{action:"setAsViewed"}},"*")}handleIframeMessage(s){var l,c,u;if(s.preventDefault(),!(!s.data||s.data.target!=="FeaturebaseWidget"))switch(s.data.data.action){case"menuHeightChanged":this.floatingElement&&(this.floatingElement.style.height=`${s.data.data.data}px`,this.floatingElement.style.maxHeight=s.data.data.data>=350?"350px":`${s.data.data.data}px`);break;case"popupHeightChanged":this.fullscreenIframeElement&&s.data.data.height&&(this.hasPopupHeightChanged||(this.fullscreenIframeElement.style.opacity="1",this.fullscreenIframeElement.style.pointerEvents="auto",this.hasPopupHeightChanged=!0),this.fullscreenIframeElement.style.transition="height 0s ease, min-height 0s ease, opacity 0.2s ease",this.fullscreenIframeElement.style.height=`${s.data.data.height}px`,this.fullscreenIframeElement.style.maxHeight="92vh");break;case"closeWidget":this.fullscreenOverlay&&this.togglePopupWidget(!1);break;case"updateHasUpdates":if(!this.config.organization)return;localStorage.setItem("FBVisitedChangelogsTracker-"+this.config.organization,s.data.data.data);const d=document.getElementById("fb-update-badge");if(s.data.data.theme&&!this.hasSetCustomTheme){const p=s.data.data.theme;document.documentElement.style.setProperty("--fb-changelog-popup-bg-color",p.background),document.documentElement.style.setProperty("--fb-changelog-popup-border-color",p.borderColor),document.documentElement.style.setProperty("--fb-changelog-popup-border-color",p==null?void 0:p.borderColor),document.documentElement.style.setProperty("--fb-changelog-popup-text-color",p==null?void 0:p.primaryForeground),this.hasSetCustomTheme=!0}localStorage.getItem("FBVisitedChangelogsTracker")&&localStorage.removeItem("FBVisitedChangelogsTracker");const h=JSON.parse(localStorage.getItem("FBVisitedChangelogsTracker-"+this.config.organization)||localStorage.getItem("FBVisitedChangelogsTracker")||"{}");(l=this.config.popup)!=null&&l.enabled&&this.config.popup.autoOpenForNewUpdates&&(((c=h==null?void 0:h.unviewedChangelogs)==null?void 0:c.length)||0)>=1&&(this.handleResizeEvent(),this.togglePopupWidget(!0),this.trackChangelogOpen(!0));const m=this.unviewedChangelogCount;if(this.unviewedChangelogCount=((u=h==null?void 0:h.unviewedChangelogs)==null?void 0:u.length)||0,m!==this.unviewedChangelogCount&&this.callback&&this.callback(null,{action:"unreadChangelogsCountChanged",unreadCount:this.unviewedChangelogCount}),d){let p="";this.unviewedChangelogCount>=1?p=this.unviewedChangelogCount:p="",d.innerHTML=p}break;default:return}}updatePosition(){var s,l,c;if(this.referenceElement&&this.floatingElement){let u=[Mh(),Ru({limiter:xy()}),Ih(8),Ru({padding:8})];((s=this.config.dropdown)==null?void 0:s.placement)==="auto"&&u.push(_y()),Lh(this.referenceElement,this.floatingElement,{placement:((l=this.config.dropdown)==null?void 0:l.placement)!=="auto"?(c=this.config.dropdown)==null?void 0:c.placement:void 0,middleware:u}).then(({x:d,y:h})=>{this.floatingElement&&Object.assign(this.floatingElement.style,{left:`${d}px`,top:`${h}px`})})}}manuallyOpenChangelogPopup(s){if(this.fullscreenOverlay&&this.fullscreenIframeElement){const l=new URL(this.fullscreenIframeElement.src);let c=!1;s!=null&&s.slug?l.searchParams.get("slug")!==s.slug&&(l.searchParams.set("slug",s.slug),c=!0):l.searchParams.has("slug")&&(l.searchParams.delete("slug"),c=!0),l.searchParams.has("alwaysShow")||(l.searchParams.set("alwaysShow","true"),c=!0),c&&(this.fullscreenIframeElement.src=l.toString()),this.togglePopupWidget(!0),this.trackChangelogOpen(!0)}}trackChangelogOpen(s=!1){var l,c;!s&&this.iframeElement&&((l=this.iframeElement.contentWindow)==null||l.postMessage({target:"FeaturebaseWidget",data:{action:"smallWidgetOpened"}},"*")),s&&this.fullscreenIframeElement&&((c=this.fullscreenIframeElement.contentWindow)==null||c.postMessage({target:"FeaturebaseWidget",data:{action:"largeWidgetOpened"}},"*"))}getUnviewedChangelogCount(){return this.unviewedChangelogCount||0}startBadgeCheckInterval(){setInterval(()=>{this.updateBadgeSpan()},2500)}updateBadgeSpan(){var s;if(this.unviewedChangelogCount===0)return;let l=document.getElementById("fb-update-badge");l&&l.textContent===""&&(l.textContent=((s=this==null?void 0:this.unviewedChangelogCount)==null?void 0:s.toString())||"")}checkForChangelogButton(){this.hasDetectedButton||document.querySelector("button[data-featurebase-changelog]")&&!this.isWidgetIframeLoaded&&(this.hasDetectedButton=!0,this.createWidgetIframe(),this.cleanupObserver())}cleanupObserver(){this._observerTimeout&&(clearTimeout(this._observerTimeout),this._observerTimeout=null),this._observer&&(this._observer.disconnect(),this._observer=null)}destroy(){this._removeEventListeners(),this.fullscreenOverlay&&this.fullscreenOverlay.parentNode&&(this.fullscreenOverlay.parentNode.removeChild(this.fullscreenOverlay),this.fullscreenOverlay=null),this.floatingElement&&this.floatingElement.parentNode&&(this.floatingElement.parentNode.removeChild(this.floatingElement),this.floatingElement=null),this.iframeElement=null,this.referenceElement=null,this.unviewedChangelogCount=null,this.cleanupUpdate=null,this.fullscreenIframeElement=null,this.isWidgetIframeLoaded=!1,this.cleanupObserver()}_removeEventListeners(){var s;const l=this;document.removeEventListener("click",function(c){l.handleClickEvent(c)},!0),window.removeEventListener("message",this.handleIframeMessage.bind(this),!1),(s=this.config.popup)!=null&&s.enabled&&(window.removeEventListener("keydown",function(c){l.handleKeyPressEvent(c)},!0),window.removeEventListener("resize",this.handleResizeEvent.bind(this))),document.removeEventListener("identifyAuthChange",c=>{const u=c;u.detail&&u.detail.jwtToken&&this.handleGlobalAuthChange(u.detail)})}}function Cy(i,s=!1,l){const c=new Ey(i,s,l);return c.initialize(),c}var Sy=de(5200);class Ty{constructor(s,l){this.screenshot=null,this.feedbackButtonElement=null,this.widgetInitialized=!1,this.getWidgetTheme=()=>this.config.theme,this.updateWidgetTheme=c=>{this.config.theme=c,this.overlayElement&&this.overlayElement.remove(),this.setupWidget()},this.config=s,this.overlayElement=null,this.iframeElement=null,this.feedbackButtonElement=null,this.callbackFunction=l}initialize(){this.setupListeners(),this.setupWidget()}setupWidget(){var s;this.overlayElement=document.createElement("div"),this.overlayElement.classList.add("fb-feedback-widget-overlay"),this.overlayElement.setAttribute("data-featurebase-widget",""),this.overlayElement.style.background=this.config.theme==="dark"?"rgba(var(--fb-feedback-iframe-bg-color), 0.5)":"rgba(255, 255, 255, 0.05)",this.iframeElement=document.createElement("iframe");const l=ar()==="production"?new URL(`https://${this.config.organization}.featurebase.app/${this.config.locale}/widget/feedbackWidgetSSR`):new URL(`http://${this.config.organization}.localhost:3000/${this.config.locale}/widget/feedbackWidgetSSR`);l.searchParams.append("theme",this.config.theme),this.config.defaultBoard&&l.searchParams.append("defaultBoard",this.config.defaultBoard),this.config.jwtToken&&l.searchParams.append("jwtToken",this.config.jwtToken),(s=this.config)!=null&&s.metadata&&l.searchParams.append("metaData",JSON.stringify(this.config.metadata)),this.iframeElement.src=l.toString(),this.iframeElement.classList.add("fb-feedback-widget-iframe"),this.iframeElement.style.background=this.config.theme==="dark"?"rgba(var(--fb-feedback-iframe-bg-color), 1)":"rgba(245, 246, 249, 0.8)",this.iframeElement.style.boxShadow=this.config.theme==="dark"?" 0 25px 25px rgba(0, 0, 0, 0.3)":"0px 17px 17px rgba(0, 0, 0, 0.1)",this.iframeElement.style.border=this.config.theme==="dark"?"1px solid rgba(var(--fb-feedback-iframe-border-color), 1)":"1px solid #DEE1EA",this.overlayElement.tabIndex=-1,this.overlayElement.setAttribute("sandbox","allow-scripts allow-forms allow-same-origin allow-popups allow-popups-to-escape-sandbox allow-top-navigation allow-top-navigation-by-user-activation allow-modals"),this.overlayElement.append(this.iframeElement),this.overlayElement.classList.add("fb-feedback-widget-overlay-hidden"),document.body.appendChild(this.overlayElement),this.iframeElement.focus()}toggleWidgetFeedbackButton(s){if(this.config.placement){const l=document.querySelector(".fb-feedback-widget-feedback-button-container");if(l)s&&l.remove();else{this.feedbackButtonElement=document.createElement("fbdiv"),this.feedbackButtonElement.classList.add("fb-feedback-widget-feedback-button-container");const c=document.createElement("fbdiv");c.classList.add("fb-feedback-widget-feedback-button"),this.config.placement==="bottom-left"?c.classList.add("fb-feedback-widget-feedback-button-bl"):this.config.placement==="bottom-right"?c.classList.add("fb-feedback-widget-feedback-button-br"):this.config.placement==="right"?c.classList.add("fb-feedback-widget-feedback-button-right"):this.config.placement==="left"&&c.classList.add("fb-feedback-widget-feedback-button-left"),c.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
        <path fill-rule="evenodd" d="M9 4.5a.75.75 0 01.721.544l.813 2.846a3.75 3.75 0 002.576 2.576l2.846.813a.75.75 0 010 1.442l-2.846.813a3.75 3.75 0 00-2.576 2.576l-.813 2.846a.75.75 0 01-1.442 0l-.813-2.846a3.75 3.75 0 00-2.576-2.576l-2.846-.813a.75.75 0 010-1.442l2.846-.813A3.75 3.75 0 007.466 7.89l.813-2.846A.75.75 0 019 4.5zM18 1.5a.75.75 0 01.728.568l.258 1.036c.236.94.97 1.674 1.91 1.91l1.036.258a.75.75 0 010 1.456l-1.036.258c-.94.236-1.674.97-1.91 1.91l-.258 1.036a.75.75 0 01-1.456 0l-.258-1.036a2.625 2.625 0 00-1.91-1.91l-1.036-.258a.75.75 0 010-1.456l1.036-.258a2.625 2.625 0 001.91-1.91l.258-1.036A.75.75 0 0118 1.5zM16.5 15a.75.75 0 01.712.513l.394 1.183c.15.447.5.799.948.948l1.183.395a.75.75 0 010 1.422l-1.183.395c-.447.15-.799.5-.948.948l-.395 1.183a.75.75 0 01-1.422 0l-.395-1.183a1.5 1.5 0 00-.948-.948l-1.183-.395a.75.75 0 010-1.422l1.183-.395c.447-.15.799-.5.948-.948l.395-1.183A.75.75 0 0116.5 15z" clip-rule="evenodd" />
      </svg>
       ${(0,Sy.T)("feedback",this.config.locale)}`,c.classList.add("fb-opacity-07"),this.feedbackButtonElement.append(c),document.body.appendChild(this.feedbackButtonElement)}}}toggleWidget(s=null){var l,c;this.overlayElement&&(this.overlayElement.classList.contains("fb-feedback-widget-overlay-hidden")?(this.trackFeedbackOpen(),this.overlayElement.classList.remove("fb-feedback-widget-overlay-hidden"),(c=(l=this.iframeElement)==null?void 0:l.contentWindow)==null||c.postMessage({target:"FeaturebaseWidget",data:{action:"openFeedbackWidget",setBoard:s||null}},"*"),this.callbackFunction&&this.callbackFunction(null,{action:"widgetOpened"})):this.overlayElement.classList.add("fb-feedback-widget-overlay-hidden"),this.iframeElement&&(this==null||this.iframeElement.focus()))}screenshotCallback(s){var l,c,u;s.length===0?((l=this.screenshot)==null||l.toggleVisibility(!1),this.overlayElement&&this.overlayElement.classList.remove("fb-feedback-widget-overlay-hidden")):((c=this.screenshot)==null||c.toggleVisibility(!1),this.overlayElement&&this.overlayElement.classList.remove("fb-feedback-widget-overlay-hidden"),this.iframeElement&&((u=this.iframeElement.contentWindow)==null||u.postMessage({target:"FeaturebaseWidget",data:{action:"screenshotCallback",snapshot:s}},"*"))),this.toggleWidgetFeedbackButton()}handleIframeMessage(s){var l,c,u,d,h,m,p,g,b,w,_;if(s.preventDefault(),!(!s.data||s.data.target!=="FeaturebaseWidget"))switch(s.data.data.action){case"menuHeightChangedFeedback":this.iframeElement&&(this.iframeElement.style.transition="height 0.95s ease, min-height 0.95s ease, opacity 0.2s ease",this.iframeElement.style.height=`${s.data.data.data}px`,this.iframeElement.style.minHeight=`${s.data.data.data}px`);break;case"menuHeightChangedFeedbackContent":this.iframeElement&&(this.iframeElement.style.height=`${s.data.data.data}px`,this.iframeElement.style.minHeight=`${s.data.data.data}px`,this.iframeElement.style.transition="height 0s ease-in, min-height 0.2s ease, opacity 0.2s ease");break;case"closeWidget":this.overlayElement&&this.overlayElement.classList.add("fb-feedback-widget-overlay-hidden");break;case"initializeOrg":this.overlayElement&&(document.documentElement.style.setProperty("--fb-feedback-button-bg-color",s.data.data.data.color),document.documentElement.style.setProperty("--fb-feedback-iframe-bg-color",(l=s.data.data.data)==null?void 0:l.background),document.documentElement.style.setProperty("--fb-feedback-iframe-border-color",(c=s.data.data.data)==null?void 0:c.borderColor),document.documentElement.style.setProperty("--fb-feedback-button-text-color",(u=s.data.data.data)==null?void 0:u.primaryForeground),this.toggleWidgetFeedbackButton()),this.widgetInitialized||(this.widgetInitialized=!0,this.callbackFunction&&this.callbackFunction(null,{action:"widgetReady"}));break;case"openFeedbackWidget":const k=(h=(d=s==null?void 0:s.data)==null?void 0:d.data)==null?void 0:h.setBoard;this.toggleWidget(k);break;case"updateMetadata":const E=(p=(m=s==null?void 0:s.data)==null?void 0:m.data)==null?void 0:p.metadata;this.iframeElement&&((g=this.iframeElement.contentWindow)==null||g.postMessage({target:"FeaturebaseWidget",data:{action:"updateMetadata",metadata:E}},"*"));break;case"feedbackSubmitted":this.callbackFunction&&this.callbackFunction(null,{action:"feedbackSubmitted",post:(w=(b=s==null?void 0:s.data)==null?void 0:b.data)==null?void 0:w.post});break;case"startScreenshot":this.screenshot?(this.screenshot.resetEverything(),(_=this.screenshot)==null||_.activate(),this==null||this.toggleWidget(),this.toggleWidgetFeedbackButton(!0)):Promise.all([de.e(753),de.e(3956),de.e(5347)]).then(de.bind(de,5347)).then(T=>{var S;this.screenshot=new T.default(this.config.locale,this.screenshotCallback.bind(this)),(S=this.screenshot)==null||S.activate(),this==null||this.toggleWidget(),this.toggleWidgetFeedbackButton(!0)}).catch(T=>console.error("Error loading screenshot module:",T));default:return}}handleClickEvent(s){if(!s||!s.target)return;if(s.target.matches(".fb-feedback-widget-feedback-button"))return this.toggleWidget();const l=document.querySelectorAll("button[data-featurebase-feedback]");for(var c=0;c<l.length;c++){var u=l[c];if(s.target===l[c]||u.contains(s.target))return this.toggleWidget()}}handleKeyPressEvent(s){var l,c;["0","1","2","3","4","5","6","7","8","9"].includes(s.key)&&this.overlayElement&&!this.overlayElement.classList.contains("fb-feedback-widget-overlay-hidden")&&((c=(l=this.iframeElement)==null?void 0:l.contentWindow)==null||c.postMessage({target:"FeaturebaseWidget",data:{action:"numberKeyPress",key:s.key}},"*")),s.key==="Escape"&&this.overlayElement&&!this.overlayElement.classList.contains("fb-feedback-widget-overlay-hidden")&&this.toggleWidget()}setupListeners(){const s=this;document.addEventListener("click",function(l){s.handleClickEvent(l)}),window.addEventListener("message",this.handleIframeMessage.bind(this),!1),window.addEventListener("keydown",function(l){s.handleKeyPressEvent(l)}),document.addEventListener("identifyAuthChange",l=>{const c=l;c.detail&&c.detail.jwtToken&&this.handleGlobalAuthChange(c.detail)})}handleGlobalAuthChange(s){this.iframeElement&&Go(s,this.config,[this.iframeElement])}trackFeedbackOpen(){var s;this.iframeElement&&((s=this.iframeElement.contentWindow)==null||s.postMessage({target:"FeaturebaseWidget",data:{action:"widgetOpened"}},"*"))}destroy(){document.removeEventListener("click",this.handleClickEvent),window.removeEventListener("message",this.handleIframeMessage.bind(this),!1),window.removeEventListener("keydown",this.handleKeyPressEvent),document.removeEventListener("identifyAuthChange",this.handleGlobalAuthChange),this.overlayElement&&(document.body.removeChild(this.overlayElement),this.overlayElement=null),this.feedbackButtonElement&&(document.body.removeChild(this.feedbackButtonElement),this.feedbackButtonElement=null),this.screenshot&&(this.screenshot.deactivate(),this.screenshot=null),this.callbackFunction=void 0}}function Ay(i,s){const l=new Ty(i,s);return l.initialize(),l}var Oy=de(570),Ny=de.n(Oy);class Dh extends EventTarget{constructor(s,l){super(),this.initialPath="",this.observer=null,this.debounceTimeout=null,this.isUpdating=!1,this.generateConfigQueryParams=()=>{var u;const d=new URLSearchParams;return this.config.hideLogo&&d.append("hideLogo","true"),this.config.hideMenu&&d.append("hideMenu","true"),this.config.theme&&d.append("theme",this.config.theme),this.config.jwtToken&&d.append("jwt",this.config.jwtToken),(u=this.config)!=null&&u.metadata&&d.append("metaData",JSON.stringify(this.config.metadata)),d.append("embed","true"),d},this.mergeQueryParams=(u,d)=>{if(!d)return u;if(typeof d=="string")try{d=new URLSearchParams(d)}catch(p){return console.error('[Featurebase SDK] Error with action: "embed". The filters you provided are not in a valid format. Skipping applying the filters. Error:',p.message),u}const h="https://featurebase.app",m=new URL(u,h);for(let[p,g]of d)m.searchParams.has(p)||m.searchParams.append(p,g);return`${m.pathname}${m.search}${m.hash}`},this.config=s,this.callbackFunction=l,this.config.basePath&&!this.config.basePath.startsWith("/")&&(this.config.basePath="/"+this.config.basePath),this.config.basePath&&this.config.basePath.endsWith("/")&&(this.config.basePath=this.config.basePath.substring(0,this.config.basePath.length-1)),this.config.filters&&this.config.filters.startsWith("/")&&(this.config.filters=this.config.filters.substring(1)),this.config.filters&&this.config.filters.startsWith("?")&&(this.config.filters=this.config.filters.substring(1));const c=window.location.pathname+window.location.search+window.location.hash;if(c&&(this.config.basePath&&c.startsWith(this.config.basePath)&&(this.initialPath=c.substring(this.config.basePath.length)),this.config.locale)){const u=`/${this.config.locale}`;this.initialPath.startsWith(u)&&(this.initialPath=this.initialPath.substring(u.length))}this.iframe=null}initialize(){this.setupMutationObserver();const s=document.querySelector("[data-featurebase-embed]");s?this.embedIframeIntoDiv(s):console.warn("No element with data-featurebase-embed found in the DOM. Please add the data-featurebase-embed attribute to the element you want to embed the widget into."),this.setupListeners()}setupIframeEmbed(s){if(this.iframe){if(s&&s.contains(this.iframe))return;this.iframe.parentElement&&this.iframe.parentElement.removeChild(this.iframe)}var l=this;if(this.iframe=document.createElement("iframe"),this.iframe.setAttribute("id","featurebase-embed-iframe"),this.iframe.setAttribute("class","featurebase-embed-iframe"),this.iframe.setAttribute("referrerPolicy","origin"),this.iframe.setAttribute("width","100%"),this.iframe.setAttribute("height","1px"),this.iframe.classList.add("featurebase-display-none"),this.iframe.setAttribute("sandbox","allow-scripts allow-forms allow-storage-access-by-user-activation allow-same-origin allow-popups allow-popups-to-escape-sandbox allow-top-navigation allow-top-navigation-by-user-activation allow-modals"),this.iframe.setAttribute("data-featurebase-widget",""),this.iframe.setAttribute("allow","fullscreen; clipboard-write"),this.iframe.setAttribute("frameborder","0"),this.iframe.setAttribute("allow","clipboard-write"),this.iframe.onload=function(){!l.iframe||!l.iframe.contentWindow||!l.config.jwtToken||l.iframe.contentWindow.postMessage({type:"auth",jwt:l.config.jwtToken},"*")},this.updateIframeSrc(),s)s.appendChild(this.iframe),this.adjustIframeHeight();else{const c=document.querySelector("[data-featurebase-embed]");c?(c.appendChild(this.iframe),this.adjustIframeHeight()):(document.body.appendChild(this.iframe),Ny()({log:!1,onInit:()=>{l.iframe&&(l.iframe.classList.remove("featurebase-display-none"),l.iframe.classList.add("featurebase-display-block"))},heightCalculationMethod:"lowestElement",checkOrigin:!1},this.iframe))}}adjustIframeHeight(){const s=document.querySelector("[data-featurebase-embed]");if(s){var l=s==null?void 0:s.getBoundingClientRect().top;this.iframe&&(this.iframe.style.display="block",this.iframe.style.height="calc(100dvh - "+l+"px)",this.iframe.style.minHeight="800px")}}setupListeners(){var s;window.addEventListener("message",this.handlePostMessage.bind(this)),window.addEventListener("resize",this.adjustIframeHeight.bind(this)),(s=this.iframe)==null||s.addEventListener("load",()=>{this.dispatchEvent(new Event("finishedLoading"))}),document.addEventListener("identifyAuthChange",l=>{const c=l;c.detail&&c.detail.jwtToken&&this.handleGlobalAuthChange(c.detail)}),this.setupUrlChangeListener()}setupUrlChangeListener(){const s=this.handleRouteChange.bind(this),l=history.pushState.bind(history),c=history.replaceState.bind(history);history.pushState=(...u)=>{const d=l.apply(history,u);return window.dispatchEvent(new Event("locationchange")),d},history.replaceState=(...u)=>{const d=c.apply(history,u);return window.dispatchEvent(new Event("locationchange")),d},window.addEventListener("popstate",()=>{window.dispatchEvent(new Event("locationchange"))}),window.addEventListener("hashchange",()=>{window.dispatchEvent(new Event("locationchange"))}),window.addEventListener("locationchange",s)}handleRouteChange(){var s;if(this.isUpdating)return;const l=window.location.pathname+window.location.search+window.location.hash;if(!this.config.basePath||!l.startsWith(this.config.basePath)){this.isUpdating=!1;return}this.isUpdating=!0;let c=l.substring(this.config.basePath.length);if(this.config.locale){const h=`/${this.config.locale}`;c.startsWith(h)&&(c=c.substring(h.length))}c=c||"/",c.startsWith("/")||(c="/"+c);const u=c.split(/[?#]/)[0],d=(s=this.iframe)!=null&&s.src?new URL(this.iframe.src).pathname.replace(/^.*\/[a-z-]+\.featurebase\.app/,"").replace(/^\/[a-z]{2}(?:\/|$)/,"/").split(/[?#]/)[0]:"";["/","/changelog","/roadmap","/help"].includes(u)&&u!==d&&(this.initialPath=c,this.updateIframeSrc()),setTimeout(()=>{this.isUpdating=!1},0)}updateIframeSrc(){if(this.iframe){const s=this.generateConfigQueryParams();let l=this.initialPath||"";if((l==="/feedback"||l==="feedback")&&(l="/"),(l===""||l==="/")&&this.config.initialPage){const d=this.mergeQueryParams("",this.config.filters);l={Board:d,Roadmap:`/roadmap${d}`,Changelog:`/changelog${d}`,Help:`/help${d}`}[this.config.initialPage]||l}const c=this.mergeQueryParams(l,s),u=this.buildUrl(c);this.iframe.getAttribute("src")!==u&&this.iframe.setAttribute("src",u)}}handleGlobalAuthChange(s){this.iframe&&Go(s,this.config,[this.iframe])}handlePostMessage(s){var l,c,u;s.preventDefault();const d=s.data;if(!(!d||d.target!=="FeaturebaseEmbed"))switch(d.action){case"routeChange":if(!this.config.basePath)return;let h=d.url||"";(h==="/"||h==="")&&(h="/feedback");const m=(this.config.basePath||"")+h;window.location.pathname+window.location.search!==m&&(this.isUpdating=!0,window.history.pushState({},"",m),setTimeout(()=>{this.isUpdating=!1},0));break;case"updateMetadata":const p=(c=(l=s.data)==null?void 0:l.data)==null?void 0:c.metadata;this.iframe&&((u=this.iframe.contentWindow)==null||u.postMessage({target:"FeaturebaseWidget",data:{action:"updateMetadata",metadata:p}},"*"));break;case"widgetReady":this.callbackFunction&&this.callbackFunction(null,{action:"widgetReady"});break;default:return}}getActivePage(){return this.config.initialPage}updateActivePage(s){if(this.iframe){const l=this.generateConfigQueryParams(),c=this.mergeQueryParams("",l),u=this.mergeQueryParams(c,this.config.filters),d={Board:u,Roadmap:`/roadmap${u}`,Changelog:`/changelog${u}`,Help:`/help${u}`}[s]||c,h=this.buildUrl(d);this.config.initialPage=s,this.iframe.setAttribute("src",h)}}shouldAddLocale(){return!!(this.config.locale&&this.config.locale.length>0)}getBaseUrl(){return ar()==="production"?`https://${this.config.organization}.featurebase.app`:`http://${this.config.organization}.localhost:3000`}buildUrl(s){const l=this.getBaseUrl(),c=this.shouldAddLocale();let u=c?`/${this.config.locale}`:"";const d=s.startsWith("/")?s.substring(1):s;return c&&(d.startsWith(`${this.config.locale}/`)||d===this.config.locale)&&(u=""),`${l}${u}${s}`}setupMutationObserver(){try{this.observer&&this.observer.disconnect();const s=document.querySelector("[data-featurebase-embed]");s instanceof HTMLElement&&this.embedIframeIntoDiv(s),this.observer=new MutationObserver(()=>{const l=document.querySelector("[data-featurebase-embed]");l instanceof HTMLElement&&(!this.iframe||!l.contains(this.iframe))&&this.embedIframeIntoDiv(l)}),this.observer.observe(document.documentElement,{childList:!0,subtree:!0})}catch(s){console.error("[Featurebase SDK] Error setting up MutationObserver:",s)}}embedIframeIntoDiv(s){(!this.iframe||!s.contains(this.iframe))&&this.setupIframeEmbed(s)}}function I7(i,s){const l=new Dh(i,s);return l.initialize(),l}const Ry=U.object({organization:U.string().nonempty(),basePath:U.string().nullable().default("").optional(),jwtToken:U.string().nullable().default("").optional(),hideMenu:U.boolean().default(!1).optional(),hideLogo:U.boolean().default(!1).optional(),initialPage:U.enum(["Board","Roadmap","Changelog","Help"]).default("Board"),filters:U.string().nullable().default("").optional(),theme:U.enum(["light","dark",""]).nullable().default("").optional(),metadata:qa.optional(),locale:Ia.default("en"),email:U.string().email().optional(),userId:U.string().optional(),userHash:U.string().optional()}),Py=U.object({organization:U.string(),user:U.object({jwt:U.string().nullable().default("").optional(),metadata:qa.optional()}).optional(),stylingOptions:U.object({hideMenu:U.boolean().default(!1).optional(),hideLogo:U.boolean().default(!1).optional(),theme:U.enum(["light","dark",""]).nullable().default("").optional()}).optional(),embedOptions:U.object({path:U.string().nullable().default("/").optional(),filters:U.string().nullable().default("").optional(),routeSyncingBasePath:U.string().nullable().default("").optional()}),locale:Ia.default("en")}),Iy=U.enum(["text","link","rating","multiple-choice"]),My=U.enum(["is","is not","is not null","is null","contains","does not contain"]),Ly=U.enum(["greater than","is","is not","is not null","is null","less than"]),Dy=U.enum(["is one of","is not in"]),jh=U.union([U.object({type:U.literal("page"),pageId:U.string().min(2,"pageId can't be empty")}),U.object({type:U.literal("end")}),U.object({type:U.literal("next")})]),Pu=i=>U.object({_id:U.string(),comparator:U.union([My,Ly,Dy]),value:U.union([i,U.string().max(0).optional()]),next:jh}).refine(s=>["is null","is not null"].includes(s.comparator)?s.value===void 0||s.value==="":i.safeParse(s.value).success,{message:"Please enter a value for the comparator, otherwise delete the logic.",path:["value"]}),zh=Pu(U.string().min(1,"Value can't be empty")),Fh=Pu(U.union([U.number().min(1,"Value must be greater than 0"),U.string().regex(/^\d+$/,"Value must be a valid number")])),Bh=Pu(U.array(U.string().min(1,"Value can't be empty")).nonempty("Array can't be empty")),jy=U.union([zh,Fh,Bh]),Kl=U.object({type:Iy,title:U.string().refine(i=>i.trim().length>0,{message:"Title must contain at least 1 character."}),description:U.string().optional(),_id:U.string().optional(),logic:U.array(jy).optional(),defaultAction:jh}),zy=U.object({segmentIds:U.array(U.string()).optional(),url:U.array(U.object({value:U.string(),matchType:U.enum(["exact","contains","regex"]).optional(),_id:U.string().optional()})).optional(),css:U.array(U.object({value:U.string(),_id:U.string().optional()})).optional(),loginRequired:U.boolean().optional()}),Fy=Kl.extend({type:U.literal("text"),placeholder:U.string().refine(i=>i.trim().length>0,{message:"Placeholder must contain at least 1 character."}),logic:U.array(zh).optional()}),By=Kl.extend({type:U.literal("link"),linkButtonText:U.string().refine(i=>i.trim().length>0,{message:"Link button text must contain at least 1 character."}),linkRedirectUrl:U.string().url(),linkTarget:U.string().refine(i=>["_blank","_self"].includes(i),{message:'Link target must be either "_blank" or "_self".'})}),Wy=Kl.extend({type:U.literal("rating"),subType:U.enum(["number","emoji","nps"]),scale:U.number(),lowLabel:U.string().refine(i=>i.trim().length>0,{message:"Low label must contain at least 1 character."}),highLabel:U.string().refine(i=>i.trim().length>0,{message:"High label must contain at least 1 character."}),logic:U.array(Fh).optional()}),Uy=U.enum(["generic","featurebase-posts"]),$y=Kl.extend({type:U.literal("multiple-choice"),subType:Uy,allowSelectMultiple:U.boolean().default(!1),choices:U.array(U.object({_id:U.string(),choice:U.string().nonempty()})),logic:U.array(Bh).optional()}),Hy=U.discriminatedUnion("type",[Fy,By,Wy,$y]),Vy=U.object({isActive:U.boolean(),organization:U.string(),_id:U.string(),title:U.string().refine(i=>i.trim().length>0,{message:"Title must contain at least 1 character."}),description:U.string().optional(),pages:U.array(Hy),targeting:zy}).passthrough(),M7=U.object({success:U.boolean(),surveys:U.array(Vy).default([]),message:U.string().optional()}).passthrough(),qy=U.enum(["bottom-left","bottom-right"]).default("bottom-right").nullish(),Gy=U.object({organization:U.string(),jwtToken:U.string().nullish(),featurebaseJwt:U.string().nullish(),placement:qy,theme:U.string().optional(),locale:Ia.default("en"),email:U.string().email().optional().nullish(),userId:U.string().optional().nullish(),userHash:U.string().optional().nullish()}),Ky=U.object({context:Gy,survey:U.any()}),Yy='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" /></svg>',Jy="black",Zy="white";class Xy{constructor(s){this.heightReceivedForTheFirstTime=!0,this.previousHeight=0,this.linkToOpenOnClose=null,this.surveyCloseCallback=()=>{},this.config=s,this.iframeElement=null,this.widgetWrapper=null,this.iframeWrapper=null,this.closeButton=null}initialize(){try{if(JSON.parse(localStorage.getItem("featurebaseRespondedSurveys")||"[]").includes(this.config.survey._id))return}catch(s){}this.setupListeners(),this.setupWidget()}closeWidget(s="dismiss"){if(this.widgetWrapper){if(s==="dismiss"){const l=ar()==="production"?`https://${this.config.context.organization}.featurebase.app/api/v1/organization/advancedSurvey/s`:`http://${this.config.context.organization}.localhost:3000/api/v1/organization/advancedSurvey/s`;fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({surveyId:this.config.survey._id,type:"dismiss",jwt:this.config.context.jwtToken})})}try{const l=JSON.parse(localStorage.getItem("featurebaseRespondedSurveys")||"[]");l.push(this.config.survey._id),localStorage.setItem("featurebaseRespondedSurveys",JSON.stringify(l))}catch(l){}this.linkToOpenOnClose&&window.open(this.linkToOpenOnClose,"_self"),this.widgetWrapper.style.opacity="0",setTimeout(()=>{var l;return(l=this.widgetWrapper)==null?void 0:l.remove()},1e3),this.surveyCloseCallback&&this.surveyCloseCallback()}}setupWidget(){var s;if(document.getElementById("fb-survey-widget-iframe")){console.warn("[Featurebase SDK] An instance of survey widget already exists.");return}this.widgetWrapper=document.createElement("fbdiv"),this.widgetWrapper.setAttribute("data-featurebase-widget",""),this.widgetWrapper.id="fb-survey-widget-wrapper",this.widgetWrapper.classList.add("fb-survey-widget-wrapper"),this.widgetWrapper.style.visibility="hidden",this.iframeWrapper=document.createElement("fbdiv"),this.iframeWrapper.id="fb-survey-widget-iframe-wrapper",this.iframeWrapper.classList.add("fb-survey-widget-iframe-wrapper"),this.closeButton=document.createElement("fbdiv"),this.closeButton.id="fb-survey-widget-close",this.closeButton.classList.add("fb-survey-widget-close"),this.closeButton.innerHTML=Yy,this.closeButton.addEventListener("click",()=>this.closeWidget()),this.iframeElement=document.createElement("iframe"),this.iframeElement.frameBorder="0";const l=ar()==="production"?new URL(`https://${this.config.context.organization}.featurebase.app/${this.config.context.locale||"en"}/widget/surveySSR`):new URL(`http://${this.config.context.organization}.localhost:3000/${this.config.context.locale||"en"}/widget/surveySSR`);this.config.context.jwtToken&&l.searchParams.append("jwt",this.config.context.jwtToken),this.config.context.theme&&(l.searchParams.append("theme",this.config.context.theme),document.documentElement.style.setProperty("--featurebase-survey-widget-close-btn-color",this.config.context.theme==="light"?Jy:Zy)),this.config.context.placement==="bottom-left"&&(document.documentElement.style.setProperty("--featurebase-survey-widget-wrapper-right","auto"),document.documentElement.style.setProperty("--featurebase-survey-widget-wrapper-left","var(--featurebase-survey-widget-horizontal-padding)"));const c=(s=this.config.survey)==null?void 0:s._id;l.searchParams.append("surveyId",c),this.iframeElement.src=l.toString(),this.iframeElement.id="fb-survey-widget-iframe",this.iframeElement.classList.add("fb-survey-widget-iframe"),this.iframeWrapper.appendChild(this.iframeElement),this.iframeWrapper.appendChild(this.closeButton),this.widgetWrapper.appendChild(this.iframeWrapper),document.body.appendChild(this.widgetWrapper)}handleIframeMessage(s){var l,c,u;if(s.preventDefault(),!(!s.data||s.data.target!=="FeaturebaseWidget"))switch(s.data.data.action){case"menuHeightChangedSurvey":if(this.iframeElement){if(this.heightReceivedForTheFirstTime&&this.widgetWrapper&&s.data.data.data>0){this.widgetWrapper.style.visibility="visible",this.widgetWrapper.style.opacity="1",this.heightReceivedForTheFirstTime=!1,document.documentElement.style.setProperty("--fb-survey-iframe-primary-color",(l=s.data.data)==null?void 0:l.primary),document.documentElement.style.setProperty("--fb-survey-iframe-foreground-color",(c=s.data.data)==null?void 0:c.foreground),document.documentElement.style.setProperty("--fb-survey-iframe-border-color",(u=s.data.data)==null?void 0:u.border);let d=this.config.context.theme;d||(d=s.data.data.theme==="custom"?"dark":s.data.data.theme==="client"?"light":s.data.data.theme),this.iframeElement.style.boxShadow=d==="dark"?" 0 25px 25px rgba(0, 0, 0, 0.3)":"0px 17px 17px rgba(0, 0, 0, 0.1)",this.iframeElement.style.border=d==="dark"?"1px solid rgba(var(--fb-survey-iframe-primary-color), 0.5)":"1px solid #DEE1EA"}this.previousHeight!==0&&this.previousHeight!==s.data.data.data&&(this.iframeElement.style.transition="height 0.95s ease, min-height 0.95s ease, opacity 0.2s ease"),this.iframeElement.style.height=`${s.data.data.data}px`,this.iframeElement.style.minHeight=`${s.data.data.data}px`,this.previousHeight=s.data.data.data}break;case"closeSurveyWidget":this.closeWidget(s.data.data.data);break;case"openLinkOnClose":{if(s.data.data.data)try{const d=new URL(s.data.data.data);if(d.protocol!=="http:"&&d.protocol!=="https:")throw new Error("Invalid URL");this.linkToOpenOnClose=d.toString()}catch(d){console.error("[Featurebase SDK] Invalid URL in link open.",s.data.data.data)}break}default:return}}setupListeners(){const s=this;window.addEventListener("message",this.handleIframeMessage.bind(this),!1),document.addEventListener("identifyAuthChange",l=>{const c=l;c.detail&&c.detail.jwtToken&&this.handleGlobalAuthChange(c.detail)})}handleGlobalAuthChange(s){var l,c;if(s!=null&&s.jwtToken&&this.iframeElement&&((c=(l=this.config)==null?void 0:l.context)==null?void 0:c.jwtToken)!==s.jwtToken){this.config.context.jwtToken=s.jwtToken;const u=new URL(this.iframeElement.src);u.searchParams.set("jwt",s.jwtToken),this.iframeElement.src=u.toString()}}}function Qy(i,s){var l,c,u;try{!((l=i==null?void 0:i.context)!=null&&l.jwtToken)&&(c=i==null?void 0:i.context)!=null&&c.featurebaseJwt&&(i.context.jwtToken=i.context.featurebaseJwt)}catch(m){}const d=Ky.safeParse(i);if(!d.success)throw new Error("[Featurebase SDK] Invalid survey widget config. Error: "+((u=d.error)==null?void 0:u.message));const h=new Xy(i);return h.initialize(),s&&(h.surveyCloseCallback=s),h}const Wh="3.7.7",ew=Wh,gi=typeof Buffer=="function",Uh=typeof TextDecoder=="function"?new TextDecoder:void 0,$h=typeof TextEncoder=="function"?new TextEncoder:void 0,Es=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),Yl=(i=>{let s={};return i.forEach((l,c)=>s[l]=c),s})(Es),tw=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Or=String.fromCharCode.bind(String),Hh=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):i=>new Uint8Array(Array.prototype.slice.call(i,0)),Vh=i=>i.replace(/=/g,"").replace(/[+\/]/g,s=>s=="+"?"-":"_"),qh=i=>i.replace(/[^A-Za-z0-9\+\/]/g,""),Gh=i=>{let s,l,c,u,d="";const h=i.length%3;for(let m=0;m<i.length;){if((l=i.charCodeAt(m++))>255||(c=i.charCodeAt(m++))>255||(u=i.charCodeAt(m++))>255)throw new TypeError("invalid character found");s=l<<16|c<<8|u,d+=Es[s>>18&63]+Es[s>>12&63]+Es[s>>6&63]+Es[s&63]}return h?d.slice(0,h-3)+"===".substring(h):d},Iu=typeof btoa=="function"?i=>btoa(i):gi?i=>Buffer.from(i,"binary").toString("base64"):Gh,Mu=gi?i=>Buffer.from(i).toString("base64"):i=>{let l=[];for(let c=0,u=i.length;c<u;c+=4096)l.push(Or.apply(null,i.subarray(c,c+4096)));return Iu(l.join(""))},Jl=(i,s=!1)=>s?Vh(Mu(i)):Mu(i),nw=i=>{if(i.length<2){var s=i.charCodeAt(0);return s<128?i:s<2048?Or(192|s>>>6)+Or(128|s&63):Or(224|s>>>12&15)+Or(128|s>>>6&63)+Or(128|s&63)}else{var s=65536+(i.charCodeAt(0)-55296)*1024+(i.charCodeAt(1)-56320);return Or(240|s>>>18&7)+Or(128|s>>>12&63)+Or(128|s>>>6&63)+Or(128|s&63)}},rw=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Kh=i=>i.replace(rw,nw),Yh=gi?i=>Buffer.from(i,"utf8").toString("base64"):$h?i=>Mu($h.encode(i)):i=>Iu(Kh(i)),bi=(i,s=!1)=>s?Vh(Yh(i)):Yh(i),Jh=i=>bi(i,!0),aw=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,ow=i=>{switch(i.length){case 4:var s=(7&i.charCodeAt(0))<<18|(63&i.charCodeAt(1))<<12|(63&i.charCodeAt(2))<<6|63&i.charCodeAt(3),l=s-65536;return Or((l>>>10)+55296)+Or((l&1023)+56320);case 3:return Or((15&i.charCodeAt(0))<<12|(63&i.charCodeAt(1))<<6|63&i.charCodeAt(2));default:return Or((31&i.charCodeAt(0))<<6|63&i.charCodeAt(1))}},Zh=i=>i.replace(aw,ow),Xh=i=>{if(i=i.replace(/\s+/g,""),!tw.test(i))throw new TypeError("malformed base64.");i+="==".slice(2-(i.length&3));let s,l="",c,u;for(let d=0;d<i.length;)s=Yl[i.charAt(d++)]<<18|Yl[i.charAt(d++)]<<12|(c=Yl[i.charAt(d++)])<<6|(u=Yl[i.charAt(d++)]),l+=c===64?Or(s>>16&255):u===64?Or(s>>16&255,s>>8&255):Or(s>>16&255,s>>8&255,s&255);return l},Lu=typeof atob=="function"?i=>atob(qh(i)):gi?i=>Buffer.from(i,"base64").toString("binary"):Xh,Qh=gi?i=>Hh(Buffer.from(i,"base64")):i=>Hh(Lu(i).split("").map(s=>s.charCodeAt(0))),em=i=>Qh(tm(i)),iw=gi?i=>Buffer.from(i,"base64").toString("utf8"):Uh?i=>Uh.decode(Qh(i)):i=>Zh(Lu(i)),tm=i=>qh(i.replace(/[-_]/g,s=>s=="-"?"+":"/")),Du=i=>iw(tm(i)),sw=i=>{if(typeof i!="string")return!1;const s=i.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(s)||!/[^\s0-9a-zA-Z\-_]/.test(s)},nm=i=>({value:i,enumerable:!1,writable:!0,configurable:!0}),rm=function(){const i=(s,l)=>Object.defineProperty(String.prototype,s,nm(l));i("fromBase64",function(){return Du(this)}),i("toBase64",function(s){return bi(this,s)}),i("toBase64URI",function(){return bi(this,!0)}),i("toBase64URL",function(){return bi(this,!0)}),i("toUint8Array",function(){return em(this)})},am=function(){const i=(s,l)=>Object.defineProperty(Uint8Array.prototype,s,nm(l));i("toBase64",function(s){return Jl(this,s)}),i("toBase64URI",function(){return Jl(this,!0)}),i("toBase64URL",function(){return Jl(this,!0)})},vi={version:Wh,VERSION:ew,atob:Lu,atobPolyfill:Xh,btoa:Iu,btoaPolyfill:Gh,fromBase64:Du,toBase64:bi,encode:bi,encodeURI:Jh,encodeURL:Jh,utob:Kh,btou:Zh,decode:Du,isValid:sw,fromUint8Array:Jl,toUint8Array:em,extendString:rm,extendUint8Array:am,extendBuiltins:()=>{rm(),am()}};function lw(i){return`[Featurebase SDK] Validation error: ${i.errors.map(s=>s.message).join("; ")}`}const om=U.object({appId:U.string({required_error:'"appId" is required',invalid_type_error:'"appId" must be a string'}),email:U.string({invalid_type_error:'"email" must be a string'}).optional(),userId:U.any().optional().transform(i=>i!==void 0?String(i):void 0),createdAt:U.any().optional().transform(i=>i!==void 0?String(i):void 0),theme:U.enum(["light","dark"],{invalid_type_error:'"theme" must be either "light" or "dark"'}).optional(),hideDefaultLauncher:U.boolean({invalid_type_error:'"hideDefaultLauncher" must be a boolean'}).optional(),alignment:U.enum(["left","right"],{invalid_type_error:'"alignment" must be either "left" or "right"'}).optional(),horizontalPadding:U.number({invalid_type_error:'"horizontalPadding" must be a number'}).optional(),verticalPadding:U.number({invalid_type_error:'"verticalPadding" must be a number'}).optional(),editorPreviewModeConfig:U.record(U.any()).optional(),userHash:U.string({invalid_type_error:'"userHash" must be a string'}).optional(),featurebaseJwt:U.string({invalid_type_error:'"featurebaseJwt" must be a string'}).optional()}).catchall(U.any());function cw(i){try{om.parse(i)}catch(s){throw s instanceof Ye?new Error(lw(s)):s}}var mn=de(172),uw=/["&<]/;function im(i){if(i.length===0||uw.test(i)===!1)return i;for(var s=0,l=0,c="",u="";l<i.length;l++){switch(i.charCodeAt(l)){case 34:u="&quot;";break;case 38:u="&amp;";break;case 60:u="&lt;";break;default:continue}l!==s&&(c+=i.slice(s,l)),c+=u,s=l+1}return l!==s&&(c+=i.slice(s,l)),c}var dw=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,fw=0,hw=Array.isArray;function y(i,s,l,c,u,d){s||(s={});var h,m,p=s;"ref"in s&&(h=s.ref,delete s.ref);var g={type:i,props:p,key:l,ref:h,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--fw,__i:-1,__u:0,__source:u,__self:d};if(typeof i=="function"&&(h=i.defaultProps))for(m in h)p[m]===void 0&&(p[m]=h[m]);return mn.options.vnode&&mn.options.vnode(g),g}function j7(i){var s=y(e,{tpl:i,exprs:[].slice.call(arguments,1)});return s.key=s.__v,s}var sm={},mw=/[A-Z]/g;function z7(i,s){if(r.attr){var l=r.attr(i,s);if(typeof l=="string")return l}if(i==="ref"||i==="key")return"";if(i==="style"&&typeof s=="object"){var c="";for(var u in s){var d=s[u];if(d!=null&&d!==""){var h=u[0]=="-"?u:sm[u]||(sm[u]=u.replace(mw,"-$&").toLowerCase()),m=";";typeof d!="number"||h.startsWith("--")||dw.test(h)||(m="px;"),c=c+h+":"+d+m}}return i+'="'+c+'"'}return s==null||s===!1||typeof s=="function"||typeof s=="object"?"":s===!0?i:i+'="'+im(s)+'"'}function pw(i){if(i==null||typeof i=="boolean"||typeof i=="function")return null;if(typeof i=="object"){if(i.constructor===void 0)return i;if(hw(i)){for(var s=0;s<i.length;s++)i[s]=pw(i[s]);return i}}return im(""+i)}var he=de(5994),j=de(7402),gw=Object.defineProperty,bw=Object.defineProperties,vw=Object.getOwnPropertyDescriptors,lm=Object.getOwnPropertySymbols,yw=Object.prototype.hasOwnProperty,ww=Object.prototype.propertyIsEnumerable,cm=(i,s,l)=>s in i?gw(i,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[s]=l,_w=(i,s)=>{for(var l in s||(s={}))yw.call(s,l)&&cm(i,l,s[l]);if(lm)for(var l of lm(s))ww.call(s,l)&&cm(i,l,s[l]);return i},kw=(i,s)=>bw(i,vw(s));function Lr(i,s,l,c="any"){const u=(0,j.useRef)([]);(0,j.useEffect)(()=>{l&&l()&&u.current.length>0&&(u.current.forEach(d=>s(d)),u.current=[])}),(0,j.useEffect)(()=>{const d=h=>{if(!(!h.data||typeof h.data.type=="undefined")&&h.data&&h.data.type===i){const m=h.source===window.parent&&window.parent!==window?"parent":"internal";if(h.data.source==="react-devtools-content-script"||c!=="any"&&c!==m)return;const p=kw(_w({},h.data),{_source:m});if(l&&!l()){u.current.push(p);return}s(p)}};return window.addEventListener("message",d),()=>{window.removeEventListener("message",d)}},[i,s,l,c])}var xw=Object.defineProperty,Ew=Object.defineProperties,Cw=Object.getOwnPropertyDescriptors,um=Object.getOwnPropertySymbols,Sw=Object.prototype.hasOwnProperty,Tw=Object.prototype.propertyIsEnumerable,dm=(i,s,l)=>s in i?xw(i,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[s]=l,fm=(i,s)=>{for(var l in s||(s={}))Sw.call(s,l)&&dm(i,l,s[l]);if(um)for(var l of um(s))Tw.call(s,l)&&dm(i,l,s[l]);return i},hm=(i,s)=>Ew(i,Cw(s));function Da(i,s,l){const[c,u]=(0,he.J0)(i);return Lr("CONFIG_CHANGED",d=>{const h=s?d.userConfig:d.messengerConfig;h&&(s?u(h):h.user?(u(h),l==null||l(h)):h&&h.messenger&&(u(c?hm(fm({},c),{messenger:h.messenger}):h),l&&l(c?hm(fm({},c),{messenger:h.messenger}):h)))},void 0),[c,u]}function Aw(i,s){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:s},i),j.createElement("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"}))}const mm=j.forwardRef(Aw),{min:Ow,max:Nw}=Math,Yo=(i,s=0,l=1)=>Ow(Nw(s,i),l),ju=i=>{i._clipped=!1,i._unclipped=i.slice(0);for(let s=0;s<=3;s++)s<3?((i[s]<0||i[s]>255)&&(i._clipped=!0),i[s]=Yo(i[s],0,255)):s===3&&(i[s]=Yo(i[s],0,1));return i},pm={};for(let i of["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"])pm[`[object ${i}]`]=i.toLowerCase();function Kt(i){return pm[Object.prototype.toString.call(i)]||"object"}const zt=(i,s=null)=>i.length>=3?Array.prototype.slice.call(i):Kt(i[0])=="object"&&s?s.split("").filter(l=>i[0][l]!==void 0).map(l=>i[0][l]):i[0].slice(0),yi=i=>{if(i.length<2)return null;const s=i.length-1;return Kt(i[s])=="string"?i[s].toLowerCase():null},{PI:Zl,min:gm,max:bm}=Math,ua=i=>Math.round(i*100)/100,zu=i=>Math.round(i*100)/100,Ka=Zl*2,Fu=Zl/3,Rw=Zl/180,Pw=180/Zl;function vm(i){return[...i.slice(0,3).reverse(),...i.slice(3)]}const jt={format:{},autodetect:[]};class Iw{constructor(...s){const l=this;if(Kt(s[0])==="object"&&s[0].constructor&&s[0].constructor===this.constructor)return s[0];let c=yi(s),u=!1;if(!c){u=!0,jt.sorted||(jt.autodetect=jt.autodetect.sort((d,h)=>h.p-d.p),jt.sorted=!0);for(let d of jt.autodetect)if(c=d.test(...s),c)break}if(jt.format[c]){const d=jt.format[c].apply(null,u?s:s.slice(0,-1));l._rgb=ju(d)}else throw new Error("unknown format: "+s);l._rgb.length===3&&l._rgb.push(1)}toString(){return Kt(this.hex)=="function"?this.hex():`[${this._rgb.join(",")}]`}}const Re=Iw,Mw="3.1.2",ym=(...i)=>new Re(...i);ym.version=Mw;const sn=ym,wi={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},Lw=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,Dw=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,wm=i=>{if(i.match(Lw)){(i.length===4||i.length===7)&&(i=i.substr(1)),i.length===3&&(i=i.split(""),i=i[0]+i[0]+i[1]+i[1]+i[2]+i[2]);const s=parseInt(i,16),l=s>>16,c=s>>8&255,u=s&255;return[l,c,u,1]}if(i.match(Dw)){(i.length===5||i.length===9)&&(i=i.substr(1)),i.length===4&&(i=i.split(""),i=i[0]+i[0]+i[1]+i[1]+i[2]+i[2]+i[3]+i[3]);const s=parseInt(i,16),l=s>>24&255,c=s>>16&255,u=s>>8&255,d=Math.round((s&255)/255*100)/100;return[l,c,u,d]}throw new Error(`unknown hex color: ${i}`)},{round:Xl}=Math,_m=(...i)=>{let[s,l,c,u]=zt(i,"rgba"),d=yi(i)||"auto";u===void 0&&(u=1),d==="auto"&&(d=u<1?"rgba":"rgb"),s=Xl(s),l=Xl(l),c=Xl(c);let m="000000"+(s<<16|l<<8|c).toString(16);m=m.substr(m.length-6);let p="0"+Xl(u*255).toString(16);switch(p=p.substr(p.length-2),d.toLowerCase()){case"rgba":return`#${m}${p}`;case"argb":return`#${p}${m}`;default:return`#${m}`}};Re.prototype.name=function(){const i=_m(this._rgb,"rgb");for(let s of Object.keys(wi))if(wi[s]===i)return s.toLowerCase();return i},jt.format.named=i=>{if(i=i.toLowerCase(),wi[i])return wm(wi[i]);throw new Error("unknown color name: "+i)},jt.autodetect.push({p:5,test:(i,...s)=>{if(!s.length&&Kt(i)==="string"&&wi[i.toLowerCase()])return"named"}}),Re.prototype.alpha=function(i,s=!1){return i!==void 0&&Kt(i)==="number"?s?(this._rgb[3]=i,this):new Re([this._rgb[0],this._rgb[1],this._rgb[2],i],"rgb"):this._rgb[3]},Re.prototype.clipped=function(){return this._rgb._clipped||!1};const Cs={Kn:18,labWhitePoint:"d65",Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452,kE:216/24389,kKE:8,kK:24389/27,RefWhiteRGB:{X:.95047,Y:1,Z:1.08883},MtxRGB2XYZ:{m00:.4124564390896922,m01:.21267285140562253,m02:.0193338955823293,m10:.357576077643909,m11:.715152155287818,m12:.11919202588130297,m20:.18043748326639894,m21:.07217499330655958,m22:.9503040785363679},MtxXYZ2RGB:{m00:3.2404541621141045,m01:-.9692660305051868,m02:.055643430959114726,m10:-1.5371385127977166,m11:1.8760108454466942,m12:-.2040259135167538,m20:-.498531409556016,m21:.041556017530349834,m22:1.0572251882231791},As:.9414285350000001,Bs:1.040417467,Cs:1.089532651,MtxAdaptMa:{m00:.8951,m01:-.7502,m02:.0389,m10:.2664,m11:1.7135,m12:-.0685,m20:-.1614,m21:.0367,m22:1.0296},MtxAdaptMaI:{m00:.9869929054667123,m01:.43230526972339456,m02:-.008528664575177328,m10:-.14705425642099013,m11:.5183602715367776,m12:.04004282165408487,m20:.15996265166373125,m21:.0492912282128556,m22:.9684866957875502}},_i=Cs,jw=new Map([["a",[1.0985,.35585]],["b",[1.0985,.35585]],["c",[.98074,1.18232]],["d50",[.96422,.82521]],["d55",[.95682,.92149]],["d65",[.95047,1.08883]],["e",[1,1,1]],["f2",[.99186,.67393]],["f7",[.95041,1.08747]],["f11",[1.00962,.6435]],["icc",[.96422,.82521]]]);function Ya(i){const s=jw.get(String(i).toLowerCase());if(!s)throw new Error("unknown Lab illuminant "+i);Cs.labWhitePoint=i,Cs.Xn=s[0],Cs.Zn=s[1]}function Ss(){return Cs.labWhitePoint}const zw=(...i)=>{i=zt(i,"lab");const[s,l,c]=i,[u,d,h]=Fw(s,l,c),[m,p,g]=km(u,d,h);return[m,p,g,i.length>3?i[3]:1]},Fw=(i,s,l)=>{const{kE:c,kK:u,kKE:d,Xn:h,Yn:m,Zn:p}=_i,g=(i+16)/116,b=.002*s+g,w=g-.005*l,_=b*b*b,k=w*w*w,E=_>c?_:(116*b-16)/u,T=i>d?Math.pow((i+16)/116,3):i/u,S=k>c?k:(116*w-16)/u,x=E*h,A=T*m,R=S*p;return[x,A,R]},Bu=i=>{const s=Math.sign(i);return i=Math.abs(i),(i<=.0031308?i*12.92:1.055*Math.pow(i,1/2.4)-.055)*s},km=(i,s,l)=>{const{MtxAdaptMa:c,MtxAdaptMaI:u,MtxXYZ2RGB:d,RefWhiteRGB:h,Xn:m,Yn:p,Zn:g}=_i,b=m*c.m00+p*c.m10+g*c.m20,w=m*c.m01+p*c.m11+g*c.m21,_=m*c.m02+p*c.m12+g*c.m22,k=h.X*c.m00+h.Y*c.m10+h.Z*c.m20,E=h.X*c.m01+h.Y*c.m11+h.Z*c.m21,T=h.X*c.m02+h.Y*c.m12+h.Z*c.m22,S=(i*c.m00+s*c.m10+l*c.m20)*(k/b),x=(i*c.m01+s*c.m11+l*c.m21)*(E/w),A=(i*c.m02+s*c.m12+l*c.m22)*(T/_),R=S*u.m00+x*u.m10+A*u.m20,N=S*u.m01+x*u.m11+A*u.m21,F=S*u.m02+x*u.m12+A*u.m22,P=Bu(R*d.m00+N*d.m10+F*d.m20),O=Bu(R*d.m01+N*d.m11+F*d.m21),C=Bu(R*d.m02+N*d.m12+F*d.m22);return[P*255,O*255,C*255]},Wu=zw,Bw=(...i)=>{const[s,l,c,...u]=zt(i,"rgb"),[d,h,m]=xm(s,l,c),[p,g,b]=Ww(d,h,m);return[p,g,b,...u.length>0&&u[0]<1?[u[0]]:[]]};function Ww(i,s,l){const{Xn:c,Yn:u,Zn:d,kE:h,kK:m}=_i,p=i/c,g=s/u,b=l/d,w=p>h?Math.pow(p,1/3):(m*p+16)/116,_=g>h?Math.pow(g,1/3):(m*g+16)/116,k=b>h?Math.pow(b,1/3):(m*b+16)/116;return[116*_-16,500*(w-_),200*(_-k)]}function Uu(i){const s=Math.sign(i);return i=Math.abs(i),(i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4))*s}const xm=(i,s,l)=>{i=Uu(i/255),s=Uu(s/255),l=Uu(l/255);const{MtxRGB2XYZ:c,MtxAdaptMa:u,MtxAdaptMaI:d,Xn:h,Yn:m,Zn:p,As:g,Bs:b,Cs:w}=_i;let _=i*c.m00+s*c.m10+l*c.m20,k=i*c.m01+s*c.m11+l*c.m21,E=i*c.m02+s*c.m12+l*c.m22;const T=h*u.m00+m*u.m10+p*u.m20,S=h*u.m01+m*u.m11+p*u.m21,x=h*u.m02+m*u.m12+p*u.m22;let A=_*u.m00+k*u.m10+E*u.m20,R=_*u.m01+k*u.m11+E*u.m21,N=_*u.m02+k*u.m12+E*u.m22;return A*=T/g,R*=S/b,N*=x/w,_=A*d.m00+R*d.m10+N*d.m20,k=A*d.m01+R*d.m11+N*d.m21,E=A*d.m02+R*d.m12+N*d.m22,[_,k,E]},$u=Bw;Re.prototype.lab=function(){return $u(this._rgb)},Object.assign(sn,{lab:(...i)=>new Re(...i,"lab"),getLabWhitePoint:Ss,setLabWhitePoint:Ya}),jt.format.lab=Wu,jt.autodetect.push({p:2,test:(...i)=>{if(i=zt(i,"lab"),Kt(i)==="array"&&i.length===3)return"lab"}}),Re.prototype.darken=function(i=1){const s=this,l=s.lab();return l[0]-=_i.Kn*i,new Re(l,"lab").alpha(s.alpha(),!0)},Re.prototype.brighten=function(i=1){return this.darken(-i)},Re.prototype.darker=Re.prototype.darken,Re.prototype.brighter=Re.prototype.brighten,Re.prototype.get=function(i){const[s,l]=i.split("."),c=this[s]();if(l){const u=s.indexOf(l)-(s.substr(0,2)==="ok"?2:0);if(u>-1)return c[u];throw new Error(`unknown channel ${l} in mode ${s}`)}else return c};const{pow:Uw}=Math,$w=1e-7,Hw=20;Re.prototype.luminance=function(i,s="rgb"){if(i!==void 0&&Kt(i)==="number"){if(i===0)return new Re([0,0,0,this._rgb[3]],"rgb");if(i===1)return new Re([255,255,255,this._rgb[3]],"rgb");let l=this.luminance(),c=Hw;const u=(h,m)=>{const p=h.interpolate(m,.5,s),g=p.luminance();return Math.abs(i-g)<$w||!c--?p:g>i?u(h,p):u(p,m)},d=(l>i?u(new Re([0,0,0]),this):u(this,new Re([255,255,255]))).rgb();return new Re([...d,this._rgb[3]])}return Vw(...this._rgb.slice(0,3))};const Vw=(i,s,l)=>(i=Hu(i),s=Hu(s),l=Hu(l),.2126*i+.7152*s+.0722*l),Hu=i=>(i/=255,i<=.03928?i/12.92:Uw((i+.055)/1.055,2.4)),Dr={},ki=(i,s,l=.5,...c)=>{let u=c[0]||"lrgb";if(!Dr[u]&&!c.length&&(u=Object.keys(Dr)[0]),!Dr[u])throw new Error(`interpolation mode ${u} is not defined`);return Kt(i)!=="object"&&(i=new Re(i)),Kt(s)!=="object"&&(s=new Re(s)),Dr[u](i,s,l).alpha(i.alpha()+l*(s.alpha()-i.alpha()))};Re.prototype.mix=Re.prototype.interpolate=function(i,s=.5,...l){return ki(this,i,s,...l)},Re.prototype.premultiply=function(i=!1){const s=this._rgb,l=s[3];return i?(this._rgb=[s[0]*l,s[1]*l,s[2]*l,l],this):new Re([s[0]*l,s[1]*l,s[2]*l,l],"rgb")};const{sin:qw,cos:Gw}=Math,Em=(...i)=>{let[s,l,c]=zt(i,"lch");return isNaN(c)&&(c=0),c=c*Rw,[s,Gw(c)*l,qw(c)*l]},Vu=(...i)=>{i=zt(i,"lch");const[s,l,c]=i,[u,d,h]=Em(s,l,c),[m,p,g]=Wu(u,d,h);return[m,p,g,i.length>3?i[3]:1]},Kw=(...i)=>{const s=vm(zt(i,"hcl"));return Vu(...s)},{sqrt:Yw,atan2:Jw,round:Zw}=Math,Cm=(...i)=>{const[s,l,c]=zt(i,"lab"),u=Yw(l*l+c*c);let d=(Jw(c,l)*Pw+360)%360;return Zw(u*1e4)===0&&(d=Number.NaN),[s,u,d]},qu=(...i)=>{const[s,l,c,...u]=zt(i,"rgb"),[d,h,m]=$u(s,l,c),[p,g,b]=Cm(d,h,m);return[p,g,b,...u.length>0&&u[0]<1?[u[0]]:[]]};Re.prototype.lch=function(){return qu(this._rgb)},Re.prototype.hcl=function(){return vm(qu(this._rgb))},Object.assign(sn,{lch:(...i)=>new Re(...i,"lch"),hcl:(...i)=>new Re(...i,"hcl")}),jt.format.lch=Vu,jt.format.hcl=Kw,["lch","hcl"].forEach(i=>jt.autodetect.push({p:2,test:(...s)=>{if(s=zt(s,i),Kt(s)==="array"&&s.length===3)return i}})),Re.prototype.saturate=function(i=1){const s=this,l=s.lch();return l[1]+=_i.Kn*i,l[1]<0&&(l[1]=0),new Re(l,"lch").alpha(s.alpha(),!0)},Re.prototype.desaturate=function(i=1){return this.saturate(-i)},Re.prototype.set=function(i,s,l=!1){const[c,u]=i.split("."),d=this[c]();if(u){const h=c.indexOf(u)-(c.substr(0,2)==="ok"?2:0);if(h>-1){if(Kt(s)=="string")switch(s.charAt(0)){case"+":d[h]+=+s;break;case"-":d[h]+=+s;break;case"*":d[h]*=+s.substr(1);break;case"/":d[h]/=+s.substr(1);break;default:d[h]=+s}else if(Kt(s)==="number")d[h]=s;else throw new Error("unsupported value for Color.set");const m=new Re(d,c);return l?(this._rgb=m._rgb,this):m}throw new Error(`unknown channel ${u} in mode ${c}`)}else return d},Re.prototype.tint=function(i=.5,...s){return ki(this,"white",i,...s)},Re.prototype.shade=function(i=.5,...s){return ki(this,"black",i,...s)};const Xw=(i,s,l)=>{const c=i._rgb,u=s._rgb;return new Re(c[0]+l*(u[0]-c[0]),c[1]+l*(u[1]-c[1]),c[2]+l*(u[2]-c[2]),"rgb")};Dr.rgb=Xw;const Z7=null,{sqrt:Gu,pow:xi}=Math,Qw=(i,s,l)=>{const[c,u,d]=i._rgb,[h,m,p]=s._rgb;return new Re(Gu(xi(c,2)*(1-l)+xi(h,2)*l),Gu(xi(u,2)*(1-l)+xi(m,2)*l),Gu(xi(d,2)*(1-l)+xi(p,2)*l),"rgb")};Dr.lrgb=Qw;const X7=null,e_=(i,s,l)=>{const c=i.lab(),u=s.lab();return new Re(c[0]+l*(u[0]-c[0]),c[1]+l*(u[1]-c[1]),c[2]+l*(u[2]-c[2]),"lab")};Dr.lab=e_;const Q7=null,Ei=(i,s,l,c)=>{let u,d;c==="hsl"?(u=i.hsl(),d=s.hsl()):c==="hsv"?(u=i.hsv(),d=s.hsv()):c==="hcg"?(u=i.hcg(),d=s.hcg()):c==="hsi"?(u=i.hsi(),d=s.hsi()):c==="lch"||c==="hcl"?(c="hcl",u=i.hcl(),d=s.hcl()):c==="oklch"&&(u=i.oklch().reverse(),d=s.oklch().reverse());let h,m,p,g,b,w;(c.substr(0,1)==="h"||c==="oklch")&&([h,p,b]=u,[m,g,w]=d);let _,k,E,T;return!isNaN(h)&&!isNaN(m)?(m>h&&m-h>180?T=m-(h+360):m<h&&h-m>180?T=m+360-h:T=m-h,k=h+l*T):isNaN(h)?isNaN(m)?k=Number.NaN:(k=m,(b==1||b==0)&&c!="hsv"&&(_=g)):(k=h,(w==1||w==0)&&c!="hsv"&&(_=p)),_===void 0&&(_=p+l*(g-p)),E=b+l*(w-b),c==="oklch"?new Re([E,_,k],c):new Re([k,_,E],c)},Sm=(i,s,l)=>Ei(i,s,l,"lch");Dr.lch=Sm,Dr.hcl=Sm;const eT=null,t_=i=>{if(Kt(i)=="number"&&i>=0&&i<=16777215){const s=i>>16,l=i>>8&255,c=i&255;return[s,l,c,1]}throw new Error("unknown num color: "+i)},n_=(...i)=>{const[s,l,c]=zt(i,"rgb");return(s<<16)+(l<<8)+c};Re.prototype.num=function(){return n_(this._rgb)},Object.assign(sn,{num:(...i)=>new Re(...i,"num")}),jt.format.num=t_,jt.autodetect.push({p:5,test:(...i)=>{if(i.length===1&&Kt(i[0])==="number"&&i[0]>=0&&i[0]<=16777215)return"num"}});const r_=(i,s,l)=>{const c=i.num(),u=s.num();return new Re(c+l*(u-c),"num")};Dr.num=r_;const aT=null,{floor:a_}=Math,o_=(...i)=>{i=zt(i,"hcg");let[s,l,c]=i,u,d,h;c=c*255;const m=l*255;if(l===0)u=d=h=c;else{s===360&&(s=0),s>360&&(s-=360),s<0&&(s+=360),s/=60;const p=a_(s),g=s-p,b=c*(1-l),w=b+m*(1-g),_=b+m*g,k=b+m;switch(p){case 0:[u,d,h]=[k,_,b];break;case 1:[u,d,h]=[w,k,b];break;case 2:[u,d,h]=[b,k,_];break;case 3:[u,d,h]=[b,w,k];break;case 4:[u,d,h]=[_,b,k];break;case 5:[u,d,h]=[k,b,w];break}}return[u,d,h,i.length>3?i[3]:1]},i_=(...i)=>{const[s,l,c]=zt(i,"rgb"),u=gm(s,l,c),d=bm(s,l,c),h=d-u,m=h*100/255,p=u/(255-h)*100;let g;return h===0?g=Number.NaN:(s===d&&(g=(l-c)/h),l===d&&(g=2+(c-s)/h),c===d&&(g=4+(s-l)/h),g*=60,g<0&&(g+=360)),[g,m,p]};Re.prototype.hcg=function(){return i_(this._rgb)};const s_=(...i)=>new Re(...i,"hcg");sn.hcg=s_,jt.format.hcg=o_,jt.autodetect.push({p:1,test:(...i)=>{if(i=zt(i,"hcg"),Kt(i)==="array"&&i.length===3)return"hcg"}});const l_=(i,s,l)=>Ei(i,s,l,"hcg");Dr.hcg=l_;const sT=null,{cos:Ci}=Math,c_=(...i)=>{i=zt(i,"hsi");let[s,l,c]=i,u,d,h;return isNaN(s)&&(s=0),isNaN(l)&&(l=0),s>360&&(s-=360),s<0&&(s+=360),s/=360,s<1/3?(h=(1-l)/3,u=(1+l*Ci(Ka*s)/Ci(Fu-Ka*s))/3,d=1-(h+u)):s<2/3?(s-=1/3,u=(1-l)/3,d=(1+l*Ci(Ka*s)/Ci(Fu-Ka*s))/3,h=1-(u+d)):(s-=2/3,d=(1-l)/3,h=(1+l*Ci(Ka*s)/Ci(Fu-Ka*s))/3,u=1-(d+h)),u=Yo(c*u*3),d=Yo(c*d*3),h=Yo(c*h*3),[u*255,d*255,h*255,i.length>3?i[3]:1]},{min:u_,sqrt:d_,acos:f_}=Math,h_=(...i)=>{let[s,l,c]=zt(i,"rgb");s/=255,l/=255,c/=255;let u;const d=u_(s,l,c),h=(s+l+c)/3,m=h>0?1-d/h:0;return m===0?u=NaN:(u=(s-l+(s-c))/2,u/=d_((s-l)*(s-l)+(s-c)*(l-c)),u=f_(u),c>l&&(u=Ka-u),u/=Ka),[u*360,m,h]};Re.prototype.hsi=function(){return h_(this._rgb)};const m_=(...i)=>new Re(...i,"hsi");sn.hsi=m_,jt.format.hsi=c_,jt.autodetect.push({p:2,test:(...i)=>{if(i=zt(i,"hsi"),Kt(i)==="array"&&i.length===3)return"hsi"}});const p_=(i,s,l)=>Ei(i,s,l,"hsi");Dr.hsi=p_;const uT=null,Ku=(...i)=>{i=zt(i,"hsl");const[s,l,c]=i;let u,d,h;if(l===0)u=d=h=c*255;else{const m=[0,0,0],p=[0,0,0],g=c<.5?c*(1+l):c+l-c*l,b=2*c-g,w=s/360;m[0]=w+1/3,m[1]=w,m[2]=w-1/3;for(let _=0;_<3;_++)m[_]<0&&(m[_]+=1),m[_]>1&&(m[_]-=1),6*m[_]<1?p[_]=b+(g-b)*6*m[_]:2*m[_]<1?p[_]=g:3*m[_]<2?p[_]=b+(g-b)*(2/3-m[_])*6:p[_]=b;[u,d,h]=[p[0]*255,p[1]*255,p[2]*255]}return i.length>3?[u,d,h,i[3]]:[u,d,h,1]},Tm=(...i)=>{i=zt(i,"rgba");let[s,l,c]=i;s/=255,l/=255,c/=255;const u=gm(s,l,c),d=bm(s,l,c),h=(d+u)/2;let m,p;return d===u?(m=0,p=Number.NaN):m=h<.5?(d-u)/(d+u):(d-u)/(2-d-u),s==d?p=(l-c)/(d-u):l==d?p=2+(c-s)/(d-u):c==d&&(p=4+(s-l)/(d-u)),p*=60,p<0&&(p+=360),i.length>3&&i[3]!==void 0?[p,m,h,i[3]]:[p,m,h]};Re.prototype.hsl=function(){return Tm(this._rgb)};const g_=(...i)=>new Re(...i,"hsl");sn.hsl=g_,jt.format.hsl=Ku,jt.autodetect.push({p:2,test:(...i)=>{if(i=zt(i,"hsl"),Kt(i)==="array"&&i.length===3)return"hsl"}});const b_=(i,s,l)=>Ei(i,s,l,"hsl");Dr.hsl=b_;const hT=null,{floor:v_}=Math,y_=(...i)=>{i=zt(i,"hsv");let[s,l,c]=i,u,d,h;if(c*=255,l===0)u=d=h=c;else{s===360&&(s=0),s>360&&(s-=360),s<0&&(s+=360),s/=60;const m=v_(s),p=s-m,g=c*(1-l),b=c*(1-l*p),w=c*(1-l*(1-p));switch(m){case 0:[u,d,h]=[c,w,g];break;case 1:[u,d,h]=[b,c,g];break;case 2:[u,d,h]=[g,c,w];break;case 3:[u,d,h]=[g,b,c];break;case 4:[u,d,h]=[w,g,c];break;case 5:[u,d,h]=[c,g,b];break}}return[u,d,h,i.length>3?i[3]:1]},{min:w_,max:__}=Math,k_=(...i)=>{i=zt(i,"rgb");let[s,l,c]=i;const u=w_(s,l,c),d=__(s,l,c),h=d-u;let m,p,g;return g=d/255,d===0?(m=Number.NaN,p=0):(p=h/d,s===d&&(m=(l-c)/h),l===d&&(m=2+(c-s)/h),c===d&&(m=4+(s-l)/h),m*=60,m<0&&(m+=360)),[m,p,g]};Re.prototype.hsv=function(){return k_(this._rgb)};const x_=(...i)=>new Re(...i,"hsv");sn.hsv=x_,jt.format.hsv=y_,jt.autodetect.push({p:2,test:(...i)=>{if(i=zt(i,"hsv"),Kt(i)==="array"&&i.length===3)return"hsv"}});const E_=(i,s,l)=>Ei(i,s,l,"hsv");Dr.hsv=E_;const gT=null;function Ql(i,s){let l=i.length;Array.isArray(i[0])||(i=[i]),Array.isArray(s[0])||(s=s.map(h=>[h]));let c=s[0].length,u=s[0].map((h,m)=>s.map(p=>p[m])),d=i.map(h=>u.map(m=>Array.isArray(h)?h.reduce((p,g,b)=>p+g*(m[b]||0),0):m.reduce((p,g)=>p+g*h,0)));return l===1&&(d=d[0]),c===1?d.map(h=>h[0]):d}const C_=(...i)=>{i=zt(i,"lab");const[s,l,c,...u]=i,[d,h,m]=S_([s,l,c]),[p,g,b]=km(d,h,m);return[p,g,b,...u.length>0&&u[0]<1?[u[0]]:[]]};function S_(i){var s=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],l=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],c=Ql(l,i);return Ql(s,c.map(u=>Ra(u,3)))}const Yu=C_,T_=(...i)=>{const[s,l,c,...u]=zt(i,"rgb"),d=xm(s,l,c);return[...A_(d),...u.length>0&&u[0]<1?[u[0]]:[]]};function A_(i){const s=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],l=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],c=Ql(s,i);return Ql(l,c.map(u=>Math.cbrt(u)))}const Ju=T_;Re.prototype.oklab=function(){return Ju(this._rgb)},Object.assign(sn,{oklab:(...i)=>new Re(...i,"oklab")}),jt.format.oklab=Yu,jt.autodetect.push({p:2,test:(...i)=>{if(i=zt(i,"oklab"),Kt(i)==="array"&&i.length===3)return"oklab"}});const O_=(i,s,l)=>{const c=i.oklab(),u=s.oklab();return new Re(c[0]+l*(u[0]-c[0]),c[1]+l*(u[1]-c[1]),c[2]+l*(u[2]-c[2]),"oklab")};Dr.oklab=O_;const vT=null,N_=(i,s,l)=>Ei(i,s,l,"oklch");Dr.oklch=N_;const yT=null,{pow:Zu,sqrt:Xu,PI:Qu,cos:Am,sin:Om,atan2:R_}=Math,P_=(i,s="lrgb",l=null)=>{const c=i.length;l||(l=Array.from(new Array(c)).map(()=>1));const u=c/l.reduce(function(w,_){return w+_});if(l.forEach((w,_)=>{l[_]*=u}),i=i.map(w=>new Re(w)),s==="lrgb")return I_(i,l);const d=i.shift(),h=d.get(s),m=[];let p=0,g=0;for(let w=0;w<h.length;w++)if(h[w]=(h[w]||0)*l[0],m.push(isNaN(h[w])?0:l[0]),s.charAt(w)==="h"&&!isNaN(h[w])){const _=h[w]/180*Qu;p+=Am(_)*l[0],g+=Om(_)*l[0]}let b=d.alpha()*l[0];i.forEach((w,_)=>{const k=w.get(s);b+=w.alpha()*l[_+1];for(let E=0;E<h.length;E++)if(!isNaN(k[E]))if(m[E]+=l[_+1],s.charAt(E)==="h"){const T=k[E]/180*Qu;p+=Am(T)*l[_+1],g+=Om(T)*l[_+1]}else h[E]+=k[E]*l[_+1]});for(let w=0;w<h.length;w++)if(s.charAt(w)==="h"){let _=R_(g/m[w],p/m[w])/Qu*180;for(;_<0;)_+=360;for(;_>=360;)_-=360;h[w]=_}else h[w]=h[w]/m[w];return b/=c,new Re(h,s).alpha(b>.99999?1:b,!0)},I_=(i,s)=>{const l=i.length,c=[0,0,0,0];for(let u=0;u<i.length;u++){const d=i[u],h=s[u]/l,m=d._rgb;c[0]+=Zu(m[0],2)*h,c[1]+=Zu(m[1],2)*h,c[2]+=Zu(m[2],2)*h,c[3]+=m[3]*h}return c[0]=Xu(c[0]),c[1]=Xu(c[1]),c[2]=Xu(c[2]),c[3]>.9999999&&(c[3]=1),new Re(ju(c))},{pow:M_}=Math;function ec(i){let s="rgb",l=sn("#ccc"),c=0,u=[0,1],d=[],h=[0,0],m=!1,p=[],g=!1,b=0,w=1,_=!1,k={},E=!0,T=1;const S=function(O){if(O=O||["#fff","#000"],O&&Kt(O)==="string"&&sn.brewer&&sn.brewer[O.toLowerCase()]&&(O=sn.brewer[O.toLowerCase()]),Kt(O)==="array"){O.length===1&&(O=[O[0],O[0]]),O=O.slice(0);for(let C=0;C<O.length;C++)O[C]=sn(O[C]);d.length=0;for(let C=0;C<O.length;C++)d.push(C/(O.length-1))}return F(),p=O},x=function(O){if(m!=null){const C=m.length-1;let D=0;for(;D<C&&O>=m[D];)D++;return D-1}return 0};let A=O=>O,R=O=>O;const N=function(O,C){let D,L;if(C==null&&(C=!1),isNaN(O)||O===null)return l;C?L=O:m&&m.length>2?L=x(O)/(m.length-2):w!==b?L=(O-b)/(w-b):L=1,L=R(L),C||(L=A(L)),T!==1&&(L=M_(L,T)),L=h[0]+L*(1-h[0]-h[1]),L=Yo(L,0,1);const M=Math.floor(L*1e4);if(E&&k[M])D=k[M];else{if(Kt(p)==="array")for(let z=0;z<d.length;z++){const I=d[z];if(L<=I){D=p[z];break}if(L>=I&&z===d.length-1){D=p[z];break}if(L>I&&L<d[z+1]){L=(L-I)/(d[z+1]-I),D=sn.interpolate(p[z],p[z+1],L,s);break}}else Kt(p)==="function"&&(D=p(L));E&&(k[M]=D)}return D};var F=()=>k={};S(i);const P=function(O){const C=sn(N(O));return g&&C[g]?C[g]():C};return P.classes=function(O){if(O!=null){if(Kt(O)==="array")m=O,u=[O[0],O[O.length-1]];else{const C=sn.analyze(u);O===0?m=[C.min,C.max]:m=sn.limits(C,"e",O)}return P}return m},P.domain=function(O){if(!arguments.length)return u;b=O[0],w=O[O.length-1],d=[];const C=p.length;if(O.length===C&&b!==w)for(let D of Array.from(O))d.push((D-b)/(w-b));else{for(let D=0;D<C;D++)d.push(D/(C-1));if(O.length>2){const D=O.map((M,z)=>z/(O.length-1)),L=O.map(M=>(M-b)/(w-b));L.every((M,z)=>D[z]===M)||(R=M=>{if(M<=0||M>=1)return M;let z=0;for(;M>=L[z+1];)z++;const I=(M-L[z])/(L[z+1]-L[z]);return D[z]+I*(D[z+1]-D[z])})}}return u=[b,w],P},P.mode=function(O){return arguments.length?(s=O,F(),P):s},P.range=function(O,C){return S(O,C),P},P.out=function(O){return g=O,P},P.spread=function(O){return arguments.length?(c=O,P):c},P.correctLightness=function(O){return O==null&&(O=!0),_=O,F(),_?A=function(C){const D=N(0,!0).lab()[0],L=N(1,!0).lab()[0],M=D>L;let z=N(C,!0).lab()[0];const I=D+(L-D)*C;let q=z-I,Z=0,ae=1,se=20;for(;Math.abs(q)>.01&&se-- >0;)(function(){return M&&(q*=-1),q<0?(Z=C,C+=(ae-C)*.5):(ae=C,C+=(Z-C)*.5),z=N(C,!0).lab()[0],q=z-I})();return C}:A=C=>C,P},P.padding=function(O){return O!=null?(Kt(O)==="number"&&(O=[O,O]),h=O,P):h},P.colors=function(O,C){arguments.length<2&&(C="hex");let D=[];if(arguments.length===0)D=p.slice(0);else if(O===1)D=[P(.5)];else if(O>1){const L=u[0],M=u[1]-L;D=L_(0,O,!1).map(z=>P(L+z/(O-1)*M))}else{i=[];let L=[];if(m&&m.length>2)for(let M=1,z=m.length,I=1<=z;I?M<z:M>z;I?M++:M--)L.push((m[M-1]+m[M])*.5);else L=u;D=L.map(M=>P(M))}return sn[C]&&(D=D.map(L=>L[C]())),D},P.cache=function(O){return O!=null?(E=O,P):E},P.gamma=function(O){return O!=null?(T=O,P):T},P.nodata=function(O){return O!=null?(l=sn(O),P):l},P}function L_(i,s,l){let c=[],u=i<s,d=l?u?s+1:s-1:s;for(let h=i;u?h<d:h>d;u?h++:h--)c.push(h);return c}const D_=function(i){let s=[1,1];for(let l=1;l<i;l++){let c=[1];for(let u=1;u<=s.length;u++)c[u]=(s[u]||0)+s[u-1];s=c}return s},j_=function(i){let s,l,c,u;if(i=i.map(d=>new Re(d)),i.length===2)[l,c]=i.map(d=>d.lab()),s=function(d){const h=[0,1,2].map(m=>l[m]+d*(c[m]-l[m]));return new Re(h,"lab")};else if(i.length===3)[l,c,u]=i.map(d=>d.lab()),s=function(d){const h=[0,1,2].map(m=>(1-d)*(1-d)*l[m]+2*(1-d)*d*c[m]+d*d*u[m]);return new Re(h,"lab")};else if(i.length===4){let d;[l,c,u,d]=i.map(h=>h.lab()),s=function(h){const m=[0,1,2].map(p=>(1-h)*(1-h)*(1-h)*l[p]+3*(1-h)*(1-h)*h*c[p]+3*(1-h)*h*h*u[p]+h*h*h*d[p]);return new Re(m,"lab")}}else if(i.length>=5){let d,h,m;d=i.map(p=>p.lab()),m=i.length-1,h=D_(m),s=function(p){const g=1-p,b=[0,1,2].map(w=>d.reduce((_,k,E)=>_+h[E]*Ra(g,m-E)*Ra(p,E)*k[w],0));return new Re(b,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return s},z_=i=>{const s=j_(i);return s.scale=()=>ec(s),s},{round:Nm}=Math;Re.prototype.rgb=function(i=!0){return i===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(Nm)},Re.prototype.rgba=function(i=!0){return this._rgb.slice(0,4).map((s,l)=>l<3?i===!1?s:Nm(s):s)},Object.assign(sn,{rgb:(...i)=>new Re(...i,"rgb")}),jt.format.rgb=(...i)=>{const s=zt(i,"rgba");return s[3]===void 0&&(s[3]=1),s},jt.autodetect.push({p:3,test:(...i)=>{if(i=zt(i,"rgba"),Kt(i)==="array"&&(i.length===3||i.length===4&&Kt(i[3])=="number"&&i[3]>=0&&i[3]<=1))return"rgb"}});const Ca=(i,s,l)=>{if(!Ca[l])throw new Error("unknown blend mode "+l);return Ca[l](i,s)},wo=i=>(s,l)=>{const c=sn(l).rgb(),u=sn(s).rgb();return sn.rgb(i(c,u))},_o=i=>(s,l)=>{const c=[];return c[0]=i(s[0],l[0]),c[1]=i(s[1],l[1]),c[2]=i(s[2],l[2]),c},F_=i=>i,B_=(i,s)=>i*s/255,W_=(i,s)=>i>s?s:i,U_=(i,s)=>i>s?i:s,$_=(i,s)=>255*(1-(1-i/255)*(1-s/255)),H_=(i,s)=>s<128?2*i*s/255:255*(1-2*(1-i/255)*(1-s/255)),V_=(i,s)=>255*(1-(1-s/255)/(i/255)),q_=(i,s)=>i===255?255:(i=255*(s/255)/(1-i/255),i>255?255:i);Ca.normal=wo(_o(F_)),Ca.multiply=wo(_o(B_)),Ca.screen=wo(_o($_)),Ca.overlay=wo(_o(H_)),Ca.darken=wo(_o(W_)),Ca.lighten=wo(_o(U_)),Ca.dodge=wo(_o(q_)),Ca.burn=wo(_o(V_));const G_=Ca,{pow:K_,sin:Y_,cos:J_}=Math;function Z_(i=300,s=-1.5,l=1,c=1,u=[0,1]){let d=0,h;Kt(u)==="array"?h=u[1]-u[0]:(h=0,u=[u,u]);const m=function(p){const g=Ka*((i+120)/360+s*p),b=K_(u[0]+h*p,c),_=(d!==0?l[0]+p*d:l)*b*(1-b)/2,k=J_(g),E=Y_(g),T=b+_*(-.14861*k+1.78277*E),S=b+_*(-.29227*k-.90649*E),x=b+_*(1.97294*k);return sn(ju([T*255,S*255,x*255,1]))};return m.start=function(p){return p==null?i:(i=p,m)},m.rotations=function(p){return p==null?s:(s=p,m)},m.gamma=function(p){return p==null?c:(c=p,m)},m.hue=function(p){return p==null?l:(l=p,Kt(l)==="array"?(d=l[1]-l[0],d===0&&(l=l[1])):d=0,m)},m.lightness=function(p){return p==null?u:(Kt(p)==="array"?(u=p,h=p[1]-p[0]):(u=[p,p],h=0),m)},m.scale=()=>sn.scale(m),m.hue(l),m}const X_="0123456789abcdef",{floor:Q_,random:e2}=Math,t2=()=>{let i="#";for(let s=0;s<6;s++)i+=X_.charAt(Q_(e2()*16));return new Re(i,"hex")},{log:Rm,pow:n2,floor:r2,abs:a2}=Math;function Pm(i,s=null){const l={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return Kt(i)==="object"&&(i=Object.values(i)),i.forEach(c=>{s&&Kt(c)==="object"&&(c=c[s]),c!=null&&!isNaN(c)&&(l.values.push(c),l.sum+=c,c<l.min&&(l.min=c),c>l.max&&(l.max=c),l.count+=1)}),l.domain=[l.min,l.max],l.limits=(c,u)=>Im(l,c,u),l}function Im(i,s="equal",l=7){Kt(i)=="array"&&(i=Pm(i));const{min:c,max:u}=i,d=i.values.sort((m,p)=>m-p);if(l===1)return[c,u];const h=[];if(s.substr(0,1)==="c"&&(h.push(c),h.push(u)),s.substr(0,1)==="e"){h.push(c);for(let m=1;m<l;m++)h.push(c+m/l*(u-c));h.push(u)}else if(s.substr(0,1)==="l"){if(c<=0)throw new Error("Logarithmic scales are only possible for values > 0");const m=Math.LOG10E*Rm(c),p=Math.LOG10E*Rm(u);h.push(c);for(let g=1;g<l;g++)h.push(n2(10,m+g/l*(p-m)));h.push(u)}else if(s.substr(0,1)==="q"){h.push(c);for(let m=1;m<l;m++){const p=(d.length-1)*m/l,g=r2(p);if(g===p)h.push(d[g]);else{const b=p-g;h.push(d[g]*(1-b)+d[g+1]*b)}}h.push(u)}else if(s.substr(0,1)==="k"){let m;const p=d.length,g=new Array(p),b=new Array(l);let w=!0,_=0,k=null;k=[],k.push(c);for(let S=1;S<l;S++)k.push(c+S/l*(u-c));for(k.push(u);w;){for(let x=0;x<l;x++)b[x]=0;for(let x=0;x<p;x++){const A=d[x];let R=Number.MAX_VALUE,N;for(let F=0;F<l;F++){const P=a2(k[F]-A);P<R&&(R=P,N=F),b[N]++,g[x]=N}}const S=new Array(l);for(let x=0;x<l;x++)S[x]=null;for(let x=0;x<p;x++)m=g[x],S[m]===null?S[m]=d[x]:S[m]+=d[x];for(let x=0;x<l;x++)S[x]*=1/b[x];w=!1;for(let x=0;x<l;x++)if(S[x]!==k[x]){w=!0;break}k=S,_++,_>200&&(w=!1)}const E={};for(let S=0;S<l;S++)E[S]=[];for(let S=0;S<p;S++)m=g[S],E[m].push(d[S]);let T=[];for(let S=0;S<l;S++)T.push(E[S][0]),T.push(E[S][E[S].length-1]);T=T.sort((S,x)=>S-x),h.push(T[0]);for(let S=1;S<T.length;S+=2){const x=T[S];!isNaN(x)&&h.indexOf(x)===-1&&h.push(x)}}return h}const o2=(i,s)=>{i=new Re(i),s=new Re(s);const l=i.luminance(),c=s.luminance();return l>c?(l+.05)/(c+.05):(c+.05)/(l+.05)};const Mm=.027,i2=5e-4,s2=.1,Lm=1.14,tc=.022,Dm=1.414,l2=(i,s)=>{i=new Re(i),s=new Re(s),i.alpha()<1&&(i=ki(s,i,i.alpha(),"rgb"));const l=jm(...i.rgb()),c=jm(...s.rgb()),u=l>=tc?l:l+Math.pow(tc-l,Dm),d=c>=tc?c:c+Math.pow(tc-c,Dm),h=Math.pow(d,.56)-Math.pow(u,.57),m=Math.pow(d,.65)-Math.pow(u,.62),p=Math.abs(d-u)<i2?0:u<d?h*Lm:m*Lm;return(Math.abs(p)<s2?0:p>0?p-Mm:p+Mm)*100};function jm(i,s,l){return .2126729*Math.pow(i/255,2.4)+.7151522*Math.pow(s/255,2.4)+.072175*Math.pow(l/255,2.4)}const{sqrt:Ja,pow:ur,min:c2,max:u2,atan2:zm,abs:Fm,cos:nc,sin:Bm,exp:d2,PI:Wm}=Math;function f2(i,s,l=1,c=1,u=1){var d=function(te){return 360*te/(2*Wm)},h=function(te){return 2*Wm*te/360};i=new Re(i),s=new Re(s);const[m,p,g]=Array.from(i.lab()),[b,w,_]=Array.from(s.lab()),k=(m+b)/2,E=Ja(ur(p,2)+ur(g,2)),T=Ja(ur(w,2)+ur(_,2)),S=(E+T)/2,x=.5*(1-Ja(ur(S,7)/(ur(S,7)+ur(25,7)))),A=p*(1+x),R=w*(1+x),N=Ja(ur(A,2)+ur(g,2)),F=Ja(ur(R,2)+ur(_,2)),P=(N+F)/2,O=d(zm(g,A)),C=d(zm(_,R)),D=O>=0?O:O+360,L=C>=0?C:C+360,M=Fm(D-L)>180?(D+L+360)/2:(D+L)/2,z=1-.17*nc(h(M-30))+.24*nc(h(2*M))+.32*nc(h(3*M+6))-.2*nc(h(4*M-63));let I=L-D;I=Fm(I)<=180?I:L<=D?I+360:I-360,I=2*Ja(N*F)*Bm(h(I)/2);const q=b-m,Z=F-N,ae=1+.015*ur(k-50,2)/Ja(20+ur(k-50,2)),se=1+.045*P,Ae=1+.015*P*z,be=30*d2(-ur((M-275)/25,2)),B=-(2*Ja(ur(P,7)/(ur(P,7)+ur(25,7))))*Bm(2*h(be)),G=Ja(ur(q/(l*ae),2)+ur(Z/(c*se),2)+ur(I/(u*Ae),2)+B*(Z/(c*se))*(I/(u*Ae)));return u2(0,c2(100,G))}function h2(i,s,l="lab"){i=new Re(i),s=new Re(s);const c=i.get(l),u=s.get(l);let d=0;for(let h in c){const m=(c[h]||0)-(u[h]||0);d+=m*m}return Math.sqrt(d)}const m2=(...i)=>{try{return new Re(...i),!0}catch(s){return!1}},p2={cool(){return ec([sn.hsl(180,1,.9),sn.hsl(250,.7,.4)])},hot(){return ec(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")}},ed={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Um=Object.keys(ed),$m=new Map(Um.map(i=>[i.toLowerCase(),i])),g2=typeof Proxy=="function"?new Proxy(ed,{get(i,s){const l=s.toLowerCase();if($m.has(l))return i[$m.get(l)]},getOwnPropertyNames(){return Object.getOwnPropertyNames(Um)}}):ed,b2=(...i)=>{i=zt(i,"cmyk");const[s,l,c,u]=i,d=i.length>4?i[4]:1;return u===1?[0,0,0,d]:[s>=1?0:255*(1-s)*(1-u),l>=1?0:255*(1-l)*(1-u),c>=1?0:255*(1-c)*(1-u),d]},{max:Hm}=Math,v2=(...i)=>{let[s,l,c]=zt(i,"rgb");s=s/255,l=l/255,c=c/255;const u=1-Hm(s,Hm(l,c)),d=u<1?1/(1-u):0,h=(1-s-u)*d,m=(1-l-u)*d,p=(1-c-u)*d;return[h,m,p,u]};Re.prototype.cmyk=function(){return v2(this._rgb)},Object.assign(sn,{cmyk:(...i)=>new Re(...i,"cmyk")}),jt.format.cmyk=b2,jt.autodetect.push({p:2,test:(...i)=>{if(i=zt(i,"cmyk"),Kt(i)==="array"&&i.length===4)return"cmyk"}});const y2=(...i)=>{const s=zt(i,"hsla");let l=yi(i)||"lsa";return s[0]=ua(s[0]||0)+"deg",s[1]=ua(s[1]*100)+"%",s[2]=ua(s[2]*100)+"%",l==="hsla"||s.length>3&&s[3]<1?(s[3]="/ "+(s.length>3?s[3]:1),l="hsla"):s.length=3,`${l.substr(0,3)}(${s.join(" ")})`},w2=(...i)=>{const s=zt(i,"lab");let l=yi(i)||"lab";return s[0]=ua(s[0])+"%",s[1]=ua(s[1]),s[2]=ua(s[2]),l==="laba"||s.length>3&&s[3]<1?s[3]="/ "+(s.length>3?s[3]:1):s.length=3,`lab(${s.join(" ")})`},_2=(...i)=>{const s=zt(i,"lch");let l=yi(i)||"lab";return s[0]=ua(s[0])+"%",s[1]=ua(s[1]),s[2]=isNaN(s[2])?"none":ua(s[2])+"deg",l==="lcha"||s.length>3&&s[3]<1?s[3]="/ "+(s.length>3?s[3]:1):s.length=3,`lch(${s.join(" ")})`},k2=(...i)=>{const s=zt(i,"lab");return s[0]=ua(s[0]*100)+"%",s[1]=zu(s[1]),s[2]=zu(s[2]),s.length>3&&s[3]<1?s[3]="/ "+(s.length>3?s[3]:1):s.length=3,`oklab(${s.join(" ")})`},Vm=(...i)=>{const[s,l,c,...u]=zt(i,"rgb"),[d,h,m]=Ju(s,l,c),[p,g,b]=Cm(d,h,m);return[p,g,b,...u.length>0&&u[0]<1?[u[0]]:[]]},x2=(...i)=>{const s=zt(i,"lch");return s[0]=ua(s[0]*100)+"%",s[1]=zu(s[1]),s[2]=isNaN(s[2])?"none":ua(s[2])+"deg",s.length>3&&s[3]<1?s[3]="/ "+(s.length>3?s[3]:1):s.length=3,`oklch(${s.join(" ")})`},{round:td}=Math,E2=(...i)=>{const s=zt(i,"rgba");let l=yi(i)||"rgb";if(l.substr(0,3)==="hsl")return y2(Tm(s),l);if(l.substr(0,3)==="lab"){const c=Ss();Ya("d50");const u=w2($u(s),l);return Ya(c),u}if(l.substr(0,3)==="lch"){const c=Ss();Ya("d50");const u=_2(qu(s),l);return Ya(c),u}return l.substr(0,5)==="oklab"?k2(Ju(s)):l.substr(0,5)==="oklch"?x2(Vm(s)):(s[0]=td(s[0]),s[1]=td(s[1]),s[2]=td(s[2]),(l==="rgba"||s.length>3&&s[3]<1)&&(s[3]="/ "+(s.length>3?s[3]:1),l="rgba"),`${l.substr(0,3)}(${s.slice(0,l==="rgb"?3:4).join(" ")})`)},qm=(...i)=>{i=zt(i,"lch");const[s,l,c,...u]=i,[d,h,m]=Em(s,l,c),[p,g,b]=Yu(d,h,m);return[p,g,b,...u.length>0&&u[0]<1?[u[0]]:[]]},Za=/((?:-?\d+)|(?:-?\d+(?:\.\d+)?)%|none)/.source,Sa=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%?)|none)/.source,rc=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%)|none)/.source,da=/\s*/.source,Si=/\s+/.source,nd=/\s*,\s*/.source,ac=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)(?:deg)?)|none)/.source,Ti=/\s*(?:\/\s*((?:[01]|[01]?\.\d+)|\d+(?:\.\d+)?%))?/.source,Gm=new RegExp("^rgba?\\("+da+[Za,Za,Za].join(Si)+Ti+"\\)$"),Km=new RegExp("^rgb\\("+da+[Za,Za,Za].join(nd)+da+"\\)$"),Ym=new RegExp("^rgba\\("+da+[Za,Za,Za,Sa].join(nd)+da+"\\)$"),Jm=new RegExp("^hsla?\\("+da+[ac,rc,rc].join(Si)+Ti+"\\)$"),Zm=new RegExp("^hsl?\\("+da+[ac,rc,rc].join(nd)+da+"\\)$"),Xm=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Qm=new RegExp("^lab\\("+da+[Sa,Sa,Sa].join(Si)+Ti+"\\)$"),ep=new RegExp("^lch\\("+da+[Sa,Sa,ac].join(Si)+Ti+"\\)$"),tp=new RegExp("^oklab\\("+da+[Sa,Sa,Sa].join(Si)+Ti+"\\)$"),np=new RegExp("^oklch\\("+da+[Sa,Sa,ac].join(Si)+Ti+"\\)$"),{round:rp}=Math,Ai=i=>i.map((s,l)=>l<=2?Yo(rp(s),0,255):s),dr=(i,s=0,l=100,c=!1)=>(typeof i=="string"&&i.endsWith("%")&&(i=parseFloat(i.substring(0,i.length-1))/100,c?i=s+(i+1)*.5*(l-s):i=s+i*(l-s)),+i),Gr=(i,s)=>i==="none"?s:i,ap=i=>{if(i=i.toLowerCase().trim(),i==="transparent")return[0,0,0,0];let s;if(jt.format.named)try{return jt.format.named(i)}catch(l){}if((s=i.match(Gm))||(s=i.match(Km))){let l=s.slice(1,4);for(let u=0;u<3;u++)l[u]=+dr(Gr(l[u],0),0,255);l=Ai(l);const c=s[4]!==void 0?+dr(s[4],0,1):1;return l[3]=c,l}if(s=i.match(Ym)){const l=s.slice(1,5);for(let c=0;c<4;c++)l[c]=+dr(l[c],0,255);return l}if((s=i.match(Jm))||(s=i.match(Zm))){const l=s.slice(1,4);l[0]=+Gr(l[0].replace("deg",""),0),l[1]=+dr(Gr(l[1],0),0,100)*.01,l[2]=+dr(Gr(l[2],0),0,100)*.01;const c=Ai(Ku(l)),u=s[4]!==void 0?+dr(s[4],0,1):1;return c[3]=u,c}if(s=i.match(Xm)){const l=s.slice(1,4);l[1]*=.01,l[2]*=.01;const c=Ku(l);for(let u=0;u<3;u++)c[u]=rp(c[u]);return c[3]=+s[4],c}if(s=i.match(Qm)){const l=s.slice(1,4);l[0]=dr(Gr(l[0],0),0,100),l[1]=dr(Gr(l[1],0),-125,125,!0),l[2]=dr(Gr(l[2],0),-125,125,!0);const c=Ss();Ya("d50");const u=Ai(Wu(l));Ya(c);const d=s[4]!==void 0?+dr(s[4],0,1):1;return u[3]=d,u}if(s=i.match(ep)){const l=s.slice(1,4);l[0]=dr(l[0],0,100),l[1]=dr(Gr(l[1],0),0,150,!1),l[2]=+Gr(l[2].replace("deg",""),0);const c=Ss();Ya("d50");const u=Ai(Vu(l));Ya(c);const d=s[4]!==void 0?+dr(s[4],0,1):1;return u[3]=d,u}if(s=i.match(tp)){const l=s.slice(1,4);l[0]=dr(Gr(l[0],0),0,1),l[1]=dr(Gr(l[1],0),-.4,.4,!0),l[2]=dr(Gr(l[2],0),-.4,.4,!0);const c=Ai(Yu(l)),u=s[4]!==void 0?+dr(s[4],0,1):1;return c[3]=u,c}if(s=i.match(np)){const l=s.slice(1,4);l[0]=dr(Gr(l[0],0),0,1),l[1]=dr(Gr(l[1],0),0,.4,!1),l[2]=+Gr(l[2].replace("deg",""),0);const c=Ai(qm(l)),u=s[4]!==void 0?+dr(s[4],0,1):1;return c[3]=u,c}};ap.test=i=>Gm.test(i)||Jm.test(i)||Qm.test(i)||ep.test(i)||tp.test(i)||np.test(i)||Km.test(i)||Ym.test(i)||Zm.test(i)||Xm.test(i)||i==="transparent";const op=ap;Re.prototype.css=function(i){return E2(this._rgb,i)};const C2=(...i)=>new Re(...i,"css");sn.css=C2,jt.format.css=op,jt.autodetect.push({p:5,test:(i,...s)=>{if(!s.length&&Kt(i)==="string"&&op.test(i))return"css"}}),jt.format.gl=(...i)=>{const s=zt(i,"rgba");return s[0]*=255,s[1]*=255,s[2]*=255,s};const S2=(...i)=>new Re(...i,"gl");sn.gl=S2,Re.prototype.gl=function(){const i=this._rgb;return[i[0]/255,i[1]/255,i[2]/255,i[3]]},Re.prototype.hex=function(i){return _m(this._rgb,i)};const T2=(...i)=>new Re(...i,"hex");sn.hex=T2,jt.format.hex=wm,jt.autodetect.push({p:4,test:(i,...s)=>{if(!s.length&&Kt(i)==="string"&&[3,4,5,6,7,8,9].indexOf(i.length)>=0)return"hex"}});const{log:oc}=Math,ip=i=>{const s=i/100;let l,c,u;return s<66?(l=255,c=s<6?0:-155.25485562709179-.44596950469579133*(c=s-2)+104.49216199393888*oc(c),u=s<20?0:-254.76935184120902+.8274096064007395*(u=s-10)+115.67994401066147*oc(u)):(l=351.97690566805693+.114206453784165*(l=s-55)-40.25366309332127*oc(l),c=325.4494125711974+.07943456536662342*(c=s-50)-28.0852963507957*oc(c),u=255),[l,c,u,1]},{round:A2}=Math,O2=(...i)=>{const s=zt(i,"rgb"),l=s[0],c=s[2];let u=1e3,d=4e4;const h=.4;let m;for(;d-u>h;){m=(d+u)*.5;const p=ip(m);p[2]/p[0]>=c/l?d=m:u=m}return A2(m)};Re.prototype.temp=Re.prototype.kelvin=Re.prototype.temperature=function(){return O2(this._rgb)};const rd=(...i)=>new Re(...i,"temp");Object.assign(sn,{temp:rd,kelvin:rd,temperature:rd}),jt.format.temp=jt.format.kelvin=jt.format.temperature=ip,Re.prototype.oklch=function(){return Vm(this._rgb)},Object.assign(sn,{oklch:(...i)=>new Re(...i,"oklch")}),jt.format.oklch=qm,jt.autodetect.push({p:2,test:(...i)=>{if(i=zt(i,"oklch"),Kt(i)==="array"&&i.length===3)return"oklch"}}),Object.assign(sn,{analyze:Pm,average:P_,bezier:z_,blend:G_,brewer:g2,Color:Re,colors:wi,contrast:o2,contrastAPCA:l2,cubehelix:Z_,deltaE:f2,distance:h2,input:jt,interpolate:ki,limits:Im,mix:ki,random:t2,scale:ec,scales:p2,valid:m2});const Ts=sn;let N2=0;function Hn(i,s){const l=`atom${++N2}`,c={toString(){return this.debugLabel?l+":"+this.debugLabel:l}};return typeof i=="function"?c.read=i:(c.init=i,c.read=R2,c.write=P2),s&&(c.write=s),c}function R2(i){return i(this)}function P2(i,s,l){return s(this,typeof l=="function"?l(i(this)):l)}const sp=(i,s)=>i.unstable_is?i.unstable_is(s):s===i,ad=i=>"init"in i,od=i=>!!i.write,ic=new WeakMap,id=i=>{var s;return sd(i)&&!((s=ic.get(i))!=null&&s[1])},I2=(i,s)=>{const l=ic.get(i);if(l)l[1]=!0,l[0].forEach(c=>c(s));else throw new Error("[Bug] cancelable promise not found")},M2=i=>{if(ic.has(i))return;const s=[new Set,!1];ic.set(i,s);const l=()=>{s[1]=!0};i.then(l,l),i.onCancel=c=>{s[0].add(c)}},sd=i=>typeof(i==null?void 0:i.then)=="function",lp=i=>"v"in i||"e"in i,sc=i=>{if("e"in i)throw i.e;if(!("v"in i))throw new Error("[Bug] atom state is not initialized");return i.v},cp=(i,s,l)=>{l.p.has(i)||(l.p.add(i),s.then(()=>{l.p.delete(i)},()=>{l.p.delete(i)}))},up=(i,s,l,c,u)=>{var d;if(c===s)throw new Error("[Bug] atom cannot depend on itself");l.d.set(c,u.n),id(l.v)&&cp(s,l.v,u),(d=u.m)==null||d.t.add(s),i&&L2(i,c,s)},As=()=>({D:new Map,H:new Set,M:new Set,L:new Set}),Os=(i,s,l)=>{i[s].add(l)},dp=(i,s,l)=>{i.D.has(s)||(i.D.set(s,new Set),Os(i,"M",()=>{var c;(c=l.m)==null||c.l.forEach(u=>Os(i,"M",u))}))},L2=(i,s,l)=>{const c=i.D.get(s);c&&c.add(l)},D2=(i,s)=>i.D.get(s),Jo=i=>{let s,l=!1;const c=u=>{try{u()}catch(d){l||(s=d,l=!0)}};for(;i.H.size||i.M.size||i.L.size;)i.D.clear(),i.H.forEach(c),i.H.clear(),i.M.forEach(c),i.M.clear(),i.L.forEach(c),i.L.clear();if(l)throw s},fp=(...[i,s,l,c])=>{const u=(x,A,R)=>{const N="v"in A,F=A.v,P=id(A.v)?A.v:null;if(sd(R)){M2(R);for(const O of A.d.keys())cp(x,R,i(O));A.v=R}else A.v=R;delete A.e,delete A.x,(!N||!Object.is(F,A.v))&&(++A.n,P&&I2(P,R))},d=(x,A)=>{var R;const N=i(A);if(lp(N)&&(N.m&&!N.x||Array.from(N.d).every(([L,M])=>d(x,L).n===M)))return N;N.d.clear();let F=!0;const P=L=>{if(sp(A,L)){const z=i(L);if(!lp(z))if(ad(L))u(L,z,L.init);else throw new Error("no atom init");return sc(z)}const M=d(x,L);try{return sc(M)}finally{if(F)up(x,A,N,L,M);else{const z=As();up(z,A,N,L,M),w(z,A,N),Jo(z)}}};let O,C;const D={get signal(){return O||(O=new AbortController),O.signal},get setSelf(){return od(A)||console.warn("setSelf function cannot be used with read-only atom"),!C&&od(A)&&(C=(...L)=>{if(F&&console.warn("setSelf function cannot be called in sync"),!F)return b(A,...L)}),C}};try{const L=s(A,P,D);if(u(A,N,L),sd(L)){(R=L.onCancel)==null||R.call(L,()=>O==null?void 0:O.abort());const M=()=>{if(N.m){const z=As();w(z,A,N),Jo(z)}};L.then(M,M)}return N}catch(L){return delete N.v,N.e=L,delete N.x,++N.n,N}finally{F=!1}},h=x=>sc(d(void 0,x)),m=(x,A,R)=>{var N,F;const P=new Map;for(const O of((N=R.m)==null?void 0:N.t)||[]){const C=i(O);C.m&&P.set(O,C)}for(const O of R.p)P.set(O,i(O));return(F=D2(x,A))==null||F.forEach(O=>{P.set(O,i(O))}),P},p=(x,A,R)=>{const N=[],F=new Set,P=new Set,O=[[A,R]];for(;O.length>0;){const[C,D]=O[O.length-1];if(P.has(C)){O.pop();continue}if(F.has(C)){N.push([C,D,D.n]),P.add(C),D.x=!0,O.pop();continue}F.add(C);for(const[L,M]of m(x,C,D))C!==L&&!F.has(L)&&O.push([L,M])}Os(x,"H",()=>{const C=new Set([A]);for(let D=N.length-1;D>=0;--D){const[L,M,z]=N[D];let I=!1;for(const q of M.d.keys())if(q!==L&&C.has(q)){I=!0;break}I&&(d(x,L),w(x,L,M),z!==M.n&&(dp(x,L,M),C.add(L))),delete M.x}})},g=(x,A,...R)=>{let N=!0;const F=O=>sc(d(x,O)),P=(O,...C)=>{const D=i(O);try{if(sp(A,O)){if(!ad(O))throw new Error("atom not writable");const L=D.n,M=C[0];u(O,D,M),w(x,O,D),L!==D.n&&(dp(x,O,D),p(x,O,D));return}else return g(x,O,...C)}finally{N||Jo(x)}};try{return l(A,F,P,...R)}finally{N=!1}},b=(x,...A)=>{const R=As();try{return g(R,x,...A)}finally{Jo(R)}},w=(x,A,R)=>{if(R.m&&!id(R.v)){for(const N of R.d.keys())R.m.d.has(N)||(_(x,N,i(N)).t.add(A),R.m.d.add(N));for(const N of R.m.d||[])if(!R.d.has(N)){R.m.d.delete(N);const F=k(x,N,i(N));F==null||F.t.delete(A)}}},_=(x,A,R)=>{if(!R.m){d(x,A);for(const N of R.d.keys())_(x,N,i(N)).t.add(A);if(R.m={l:new Set,d:new Set(R.d.keys()),t:new Set},od(A)){const N=R.m;let F;const P=(O,C)=>{let D=!0;F=(...L)=>{try{return g(O,A,...L)}finally{D||Jo(O)}};try{return C()}finally{D=!1}};Os(x,"L",()=>{const O=P(x,()=>c(A,(...C)=>F(...C)));O&&(N.u=C=>P(C,O))})}}return R.m},k=(x,A,R)=>{if(R.m&&!R.m.l.size&&!Array.from(R.m.t).some(N=>{var F;return(F=i(N).m)==null?void 0:F.d.has(A)})){const N=R.m.u;N&&Os(x,"L",()=>N(x)),delete R.m;for(const F of R.d.keys()){const P=k(x,F,i(F));P==null||P.t.delete(A)}return}return R.m};return{get:h,set:b,sub:(x,A)=>{const R=As(),N=i(x),P=_(R,x,N).l;return P.add(A),Jo(R),()=>{P.delete(A);const O=As();k(O,x,N),Jo(O)}},unstable_derive:x=>fp(...x(i,s,l,c))}},j2=i=>{const s=new WeakMap,l=new Set;let c,u=0;const d=i.unstable_derive((p,g,b,w)=>(c=p,[_=>{let k=s.get(_);if(!k){const E=p(_);k=new Proxy(E,{set(T,S,x){return S==="m"&&l.add(_),Reflect.set(T,S,x)},deleteProperty(T,S){return S==="m"&&l.delete(_),Reflect.deleteProperty(T,S)}}),s.set(_,k)}return k},g,(_,k,E,...T)=>u?E(_,...T):b(_,k,E,...T),w])),h=d.set;return Object.assign(d,{dev4_get_internal_weak_map:()=>({get:p=>{const g=c(p);if(g.n!==0)return g}}),dev4_get_mounted_atoms:()=>l,dev4_restore_atoms:p=>{h({read:()=>null,write:(b,w)=>{++u;try{for(const[_,k]of p)ad(_)&&w(_,k)}finally{--u}}})}})},z2=()=>{const i=new WeakMap,l=fp(c=>{if(!c)throw new Error("Atom is undefined or null");let u=i.get(c);return u||(u={d:new Map,p:new Set,n:0},i.set(c,u)),u},(c,...u)=>c.read(...u),(c,...u)=>c.write(...u),(c,...u)=>{var d;return(d=c.onMount)==null?void 0:d.call(c,...u)});return j2(l)};let Ns;const Oi=()=>(Ns||(Ns=z2(),globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=Ns),globalThis.__JOTAI_DEFAULT_STORE__!==Ns&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044")),Ns),ld=Symbol("RESET");function DT(i){const s=atom(i,(l,c,u)=>{const d=typeof u=="function"?u(l(s)):u;c(s,d===ld?i:d)});return s}function jT(i,s){return atom(i,function(l,c,u){c(this,s(l(this),u))})}function zT(i,s){let l=null;const c=new Map,u=new Set,d=m=>{let p;if(s===void 0)p=c.get(m);else for(const[b,w]of c)if(s(b,m)){p=w;break}if(p!==void 0)if(l!=null&&l(p[1],m))d.remove(m);else return p[0];const g=i(m);return c.set(m,[g,Date.now()]),h("CREATE",m,g),g};function h(m,p,g){for(const b of u)b({type:m,param:p,atom:g})}return d.unstable_listen=m=>(u.add(m),()=>{u.delete(m)}),d.getParams=()=>c.keys(),d.remove=m=>{if(s===void 0){if(!c.has(m))return;const[p]=c.get(m);c.delete(m),h("REMOVE",m,p)}else for(const[p,[g]]of c)if(s(p,m)){c.delete(p),h("REMOVE",p,g);break}},d.setShouldRemove=m=>{if(l=m,!!l)for(const[p,[g,b]]of c)l(b,p)&&(c.delete(p),h("REMOVE",p,g))},d}const cd=(i,s,l)=>(s.has(l)?s:s.set(l,i())).get(l),F2=new WeakMap,B2=(i,s,l,c)=>{const u=cd(()=>new WeakMap,F2,s),d=cd(()=>new WeakMap,u,l);return cd(i,d,c)};function FT(i,s,l=Object.is){return B2(()=>{const c=Symbol(),u=([h,m])=>{if(m===c)return s(h);const p=s(h,m);return l(m,p)?m:p},d=atom(h=>{const m=h(d),p=h(i);return u([p,m])});return d.init=c,d},i,s,l)}const hp=new WeakSet,ud=i=>{if(typeof i!="object"||i===null)return;Object.freeze(i);const s=Object.getOwnPropertyNames(i);for(const l of s){const c=i[l];ud(c)}return i};function W2(i){if(hp.has(i))return i;hp.add(i);const s=i.read;if(i.read=function(l,c){return ud(s.call(this,l,c))},"write"in i){const l=i.write;i.write=function(c,u,...d){return l.call(this,c,(...h)=>(h[0]===i&&(h[1]=ud(h[1])),u(...h)),...d)}}return i}function BT(i){return console.warn("[DEPRECATED] freezeAtomCreator is deprecated, define it on users end"),(...s)=>W2(i(...s))}const mp=(i,s,l)=>(s.has(l)?s:s.set(l,i())).get(l),U2=new WeakMap,$2=(i,s,l)=>{const c=mp(()=>new WeakMap,U2,s);return mp(i,c,l)},H2={},pp=i=>!!i.write,V2=i=>typeof i=="function";function WT(i,s){return $2(()=>{const l=new WeakMap,c=(h,m)=>{let p=l.get(h);if(p)return p;const g=m&&l.get(m),b=[],w=[];return h.forEach((_,k)=>{const E=s?s(_):k;w[k]=E;const T=g&&g.atomList[g.keyList.indexOf(E)];if(T){b[k]=T;return}const S=A=>{const R=A(u),N=A(i),P=c(N,R==null?void 0:R.arr).keyList.indexOf(E);if(P<0||P>=N.length){const O=h[c(h).keyList.indexOf(E)];if(O)return O;throw new Error("splitAtom: index out of bounds for read")}return N[P]},x=(A,R,N)=>{const F=A(u),P=A(i),C=c(P,F==null?void 0:F.arr).keyList.indexOf(E);if(C<0||C>=P.length)throw new Error("splitAtom: index out of bounds for write");const D=V2(N)?N(P[C]):N;Object.is(P[C],D)||R(i,[...P.slice(0,C),D,...P.slice(C+1)])};b[k]=pp(i)?atom(S,x):atom(S)}),g&&g.keyList.length===w.length&&g.keyList.every((_,k)=>_===w[k])?p=g:p={arr:h,atomList:b,keyList:w},l.set(h,p),p},u=atom(h=>{const m=h(u),p=h(i);return c(p,m==null?void 0:m.arr)});u.debugPrivate=!0,u.init=void 0;const d=pp(i)?atom(h=>h(u).atomList,(h,m,p)=>{switch(p.type){case"remove":{const g=h(d).indexOf(p.atom);if(g>=0){const b=h(i);m(i,[...b.slice(0,g),...b.slice(g+1)])}break}case"insert":{const g=p.before?h(d).indexOf(p.before):h(d).length;if(g>=0){const b=h(i);m(i,[...b.slice(0,g),p.value,...b.slice(g)])}break}case"move":{const g=h(d).indexOf(p.atom),b=p.before?h(d).indexOf(p.before):h(d).length;if(g>=0&&b>=0){const w=h(i);g<b?m(i,[...w.slice(0,g),...w.slice(g+1,b),w[g],...w.slice(b)]):m(i,[...w.slice(0,b),w[g],...w.slice(b,g),...w.slice(g+1)])}break}}}):atom(h=>h(u).atomList);return d},i,s||H2)}function UT(i){const s=Symbol(),l=atom(s);l.debugPrivate=!0;const c=atom((u,d)=>{const h=u(l);return h!==s?h:i(u,d)},(u,d,h)=>{if(h===ld)d(l,s);else if(typeof h=="function"){const m=u(c);d(l,h(m))}else d(l,h)});return c}const gp=i=>typeof(i==null?void 0:i.then)=="function";function $T(i){return s=>Te(W({},s),{getItem:(c,u)=>{const d=m=>i(m)?m:u,h=s.getItem(c,u);return gp(h)?h.then(d):d(h)}})}function q2(i=()=>{try{return window.localStorage}catch(l){typeof window!="undefined"&&console.warn(l);return}},s){var l;let c,u;const d={getItem:(p,g)=>{var b,w;const _=E=>{if(E=E||"",c!==E){try{u=JSON.parse(E,s==null?void 0:s.reviver)}catch(T){return g}c=E}return u},k=(w=(b=i())==null?void 0:b.getItem(p))!=null?w:null;return gp(k)?k.then(_):_(k)},setItem:(p,g)=>{var b;return(b=i())==null?void 0:b.setItem(p,JSON.stringify(g,s==null?void 0:s.replacer))},removeItem:p=>{var g;return(g=i())==null?void 0:g.removeItem(p)}},h=p=>(g,b,w)=>p(g,_=>{let k;try{k=JSON.parse(_||"")}catch(E){k=w}b(k)});let m;try{m=(l=i())==null?void 0:l.subscribe}catch(p){}return!m&&typeof window!="undefined"&&typeof window.addEventListener=="function"&&window.Storage&&(m=(p,g)=>{if(!(i()instanceof window.Storage))return()=>{};const b=w=>{w.storageArea===i()&&w.key===p&&g(w.newValue)};return window.addEventListener("storage",b),()=>{window.removeEventListener("storage",b)}}),m&&(d.subscribe=h(m)),d}const G2=q2();function dd(i,s,l=G2,c){const u=c==null?void 0:c.getOnInit,d=Hn(u?l.getItem(i,s):s);return d.debugPrivate=!0,d.onMount=m=>{m(l.getItem(i,s));let p;return l.subscribe&&(p=l.subscribe(i,m,s)),p},Hn(m=>m(d),(m,p,g)=>{const b=typeof g=="function"?g(m(d)):g;return b===ld?(p(d,s),l.removeItem(i)):b instanceof Promise?b.then(w=>(p(d,w),l.setItem(i,w))):(p(d,b),l.setItem(i,b))})}function HT(i,s){const l=d=>{if("e"in d)throw d.e;return d.d},c=atom(d=>{var h;let m=i(d);const p=(h=m[Symbol.observable])==null?void 0:h.call(m);p&&(m=p);let g;const b=()=>new Promise(N=>{g=N}),w=s&&"initialValue"in s?{d:typeof s.initialValue=="function"?s.initialValue():s.initialValue}:b();let _,k;const E=N=>{k=N,g==null||g(N),_==null||_(N)};let T,S;const x=()=>!_,A=()=>{T&&(clearTimeout(S),T.unsubscribe()),T=m.subscribe({next:N=>E({d:N}),error:N=>E({e:N}),complete:()=>{}}),x()&&(s!=null&&s.unstable_timeout)&&(S=setTimeout(()=>{T&&(T.unsubscribe(),T=void 0)},s.unstable_timeout))};A();const R=atom(k||w);return R.debugPrivate=!0,R.onMount=N=>(_=N,k&&N(k),T?clearTimeout(S):A(),()=>{_=void 0,T&&(T.unsubscribe(),T=void 0)}),[R,m,b,A,x]});return c.debugPrivate=!0,atom(d=>{const[h]=d(c),m=d(h);return m instanceof Promise?m.then(l):l(m)},(d,h,m)=>{const[p,g,b,w,_]=d(c);if("next"in g)_()&&(h(p,b()),w()),g.next(m);else throw new Error("observable is not subject")})}const fd=new WeakMap,K2=(i,s)=>(fd.has(s)?fd:fd.set(s,i())).get(s),Y2=i=>i instanceof Promise,bp={state:"loading"};function VT(i){return K2(()=>{const s=new WeakMap,l=atom(0);l.debugPrivate=!0;const c=atom((u,{setSelf:d})=>{u(l);let h;try{h=u(i)}catch(b){return{state:"hasError",error:b}}if(!Y2(h))return{state:"hasData",data:h};const m=h,p=s.get(m);if(p)return p;m.then(b=>{s.set(m,{state:"hasData",data:b}),d()},b=>{s.set(m,{state:"hasError",error:b}),d()});const g=s.get(m);return g||(s.set(m,bp),bp)},(u,d)=>{d(l,h=>h+1)});return c.debugPrivate=!0,atom(u=>u(c))},i)}const vp=(i,s,l)=>(s.has(l)?s:s.set(l,i())).get(l),J2=new WeakMap,Z2=(i,s,l)=>{const c=vp(()=>new WeakMap,J2,s);return vp(i,c,l)},X2=i=>i instanceof Promise,Q2=()=>{};function qT(i,s=Q2){return Z2(()=>{const l=new WeakMap,c=new WeakMap,u=atom(0);u.debugPrivate=!0;const d=atom((h,{setSelf:m})=>{h(u);const p=h(d),g=h(i);if(!X2(g))return{v:g};if(g!==(p==null?void 0:p.p)&&g.then(b=>{c.set(g,b),m()},b=>{l.set(g,b),m()}),l.has(g))throw l.get(g);return c.has(g)?{p:g,v:c.get(g)}:p&&"v"in p?{p:g,f:s(p.v),v:p.v}:{p:g,f:s()}},(h,m)=>{m(u,p=>p+1)});return d.init=void 0,d.debugPrivate=!0,atom(h=>{const m=h(d);return"f"in m?m.f:m.v},(h,m,...p)=>m(i,...p))},i,s)}function GT(i,s){const l=atom(0);return l.debugPrivate=!0,atom((c,u)=>(c(l),i(c,u)),(c,u,...d)=>{if(d.length===0)u(l,h=>h+1);else if(s)return s(c,u,...d)})}function KT(i){const s=atom(void 0);return delete s.init,Object.defineProperty(s,"init",{get(){return i()}}),s}const hd=Hn("home"),lc=Hn(!1),yp=Hn({}),md=Hn(""),ek=Hn([]),pd=Hn(null),wp=Hn(null),YT=Hn(!1),_p=Hn(!1),On=Hn({}),Rs=Hn("light"),Zo=Hn(!1),kp=Hn(!1),tk=Hn(null),JT=Hn("en"),nk=dd("fb-messenger-hide-privacy-policy-notice-for-hash",""),rk=Hn(0),Ni=dd("fb-messenger-active-chat-id",null),gd=dd("fb-messenger-chat-page-shown",!1),Ps=Hn(null),ea=Hn({header:{},background:"#030310",transparencyPercentage:80,primary:"#533C91",keepSecondaryWhiteTreshold:!1,isDarkerTheme:!0}),ak=Hn(null),xp=Hn({parser:null,domToReact:null,lowlight:null,toHtml:null}),Ep=Hn(""),Cp=Hn(null);function Sp(i){var s,l,c="";if(typeof i=="string"||typeof i=="number")c+=i;else if(typeof i=="object")if(Array.isArray(i)){var u=i.length;for(s=0;s<u;s++)i[s]&&(l=Sp(i[s]))&&(c&&(c+=" "),c+=l)}else for(l in i)i[l]&&(c&&(c+=" "),c+=l);return c}function ok(){for(var i,s,l=0,c="",u=arguments.length;l<u;l++)(i=arguments[l])&&(s=Sp(i))&&(c&&(c+=" "),c+=s);return c}const ZT=null,bd="-",ik=i=>{const s=lk(i),{conflictingClassGroups:l,conflictingClassGroupModifiers:c}=i;return{getClassGroupId:h=>{const m=h.split(bd);return m[0]===""&&m.length!==1&&m.shift(),Tp(m,s)||sk(h)},getConflictingClassGroupIds:(h,m)=>{const p=l[h]||[];return m&&c[h]?[...p,...c[h]]:p}}},Tp=(i,s)=>{var h;if(i.length===0)return s.classGroupId;const l=i[0],c=s.nextPart.get(l),u=c?Tp(i.slice(1),c):void 0;if(u)return u;if(s.validators.length===0)return;const d=i.join(bd);return(h=s.validators.find(({validator:m})=>m(d)))==null?void 0:h.classGroupId},Ap=/^\[(.+)\]$/,sk=i=>{if(Ap.test(i)){const s=Ap.exec(i)[1],l=s==null?void 0:s.substring(0,s.indexOf(":"));if(l)return"arbitrary.."+l}},lk=i=>{const{theme:s,prefix:l}=i,c={nextPart:new Map,validators:[]};return uk(Object.entries(i.classGroups),l).forEach(([d,h])=>{vd(h,c,d,s)}),c},vd=(i,s,l,c)=>{i.forEach(u=>{if(typeof u=="string"){const d=u===""?s:Op(s,u);d.classGroupId=l;return}if(typeof u=="function"){if(ck(u)){vd(u(c),s,l,c);return}s.validators.push({validator:u,classGroupId:l});return}Object.entries(u).forEach(([d,h])=>{vd(h,Op(s,d),l,c)})})},Op=(i,s)=>{let l=i;return s.split(bd).forEach(c=>{l.nextPart.has(c)||l.nextPart.set(c,{nextPart:new Map,validators:[]}),l=l.nextPart.get(c)}),l},ck=i=>i.isThemeGetter,uk=(i,s)=>s?i.map(([l,c])=>{const u=c.map(d=>typeof d=="string"?s+d:typeof d=="object"?Object.fromEntries(Object.entries(d).map(([h,m])=>[s+h,m])):d);return[l,u]}):i,dk=i=>{if(i<1)return{get:()=>{},set:()=>{}};let s=0,l=new Map,c=new Map;const u=(d,h)=>{l.set(d,h),s++,s>i&&(s=0,c=l,l=new Map)};return{get(d){let h=l.get(d);if(h!==void 0)return h;if((h=c.get(d))!==void 0)return u(d,h),h},set(d,h){l.has(d)?l.set(d,h):u(d,h)}}},Np="!",fk=i=>{const{separator:s,experimentalParseClassName:l}=i,c=s.length===1,u=s[0],d=s.length,h=m=>{const p=[];let g=0,b=0,w;for(let S=0;S<m.length;S++){let x=m[S];if(g===0){if(x===u&&(c||m.slice(S,S+d)===s)){p.push(m.slice(b,S)),b=S+d;continue}if(x==="/"){w=S;continue}}x==="["?g++:x==="]"&&g--}const _=p.length===0?m:m.substring(b),k=_.startsWith(Np),E=k?_.substring(1):_,T=w&&w>b?w-b:void 0;return{modifiers:p,hasImportantModifier:k,baseClassName:E,maybePostfixModifierPosition:T}};return l?m=>l({className:m,parseClassName:h}):h},hk=i=>{if(i.length<=1)return i;const s=[];let l=[];return i.forEach(c=>{c[0]==="["?(s.push(...l.sort(),c),l=[]):l.push(c)}),s.push(...l.sort()),s},mk=i=>W({cache:dk(i.cacheSize),parseClassName:fk(i)},ik(i)),pk=/\s+/,gk=(i,s)=>{const{parseClassName:l,getClassGroupId:c,getConflictingClassGroupIds:u}=s,d=[],h=i.trim().split(pk);let m="";for(let p=h.length-1;p>=0;p-=1){const g=h[p],{modifiers:b,hasImportantModifier:w,baseClassName:_,maybePostfixModifierPosition:k}=l(g);let E=!!k,T=c(E?_.substring(0,k):_);if(!T){if(!E){m=g+(m.length>0?" "+m:m);continue}if(T=c(_),!T){m=g+(m.length>0?" "+m:m);continue}E=!1}const S=hk(b).join(":"),x=w?S+Np:S,A=x+T;if(d.includes(A))continue;d.push(A);const R=u(T,E);for(let N=0;N<R.length;++N){const F=R[N];d.push(x+F)}m=g+(m.length>0?" "+m:m)}return m};function bk(){let i=0,s,l,c="";for(;i<arguments.length;)(s=arguments[i++])&&(l=Rp(s))&&(c&&(c+=" "),c+=l);return c}const Rp=i=>{if(typeof i=="string")return i;let s,l="";for(let c=0;c<i.length;c++)i[c]&&(s=Rp(i[c]))&&(l&&(l+=" "),l+=s);return l};function yd(i,...s){let l,c,u,d=h;function h(p){const g=s.reduce((b,w)=>w(b),i());return l=mk(g),c=l.cache.get,u=l.cache.set,d=m,m(p)}function m(p){const g=c(p);if(g)return g;const b=gk(p,l);return u(p,b),b}return function(){return d(bk.apply(null,arguments))}}const zn=i=>{const s=l=>l[i]||[];return s.isThemeGetter=!0,s},Pp=/^\[(?:([a-z-]+):)?(.+)\]$/i,vk=/^\d+\/\d+$/,yk=new Set(["px","full","screen"]),wk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_k=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,kk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,xk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Ek=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ja=i=>Xo(i)||yk.has(i)||vk.test(i),Xa=i=>Ii(i,"length",Tk),Xo=i=>!!i&&!Number.isNaN(Number(i)),cc=i=>Ii(i,"number",Xo),Ri=i=>!!i&&Number.isInteger(Number(i)),Ip=i=>i.endsWith("%")&&Xo(i.slice(0,-1)),Ft=i=>Pp.test(i),Qa=i=>wk.test(i),Ck=new Set(["length","size","percentage"]),Mp=i=>Ii(i,Ck,zp),Lp=i=>Ii(i,"position",zp),Sk=new Set(["image","url"]),Dp=i=>Ii(i,Sk,Ok),jp=i=>Ii(i,"",Ak),Pi=()=>!0,Ii=(i,s,l)=>{const c=Pp.exec(i);return c?c[1]?typeof s=="string"?c[1]===s:s.has(c[1]):l(c[2]):!1},Tk=i=>_k.test(i)&&!kk.test(i),zp=()=>!1,Ak=i=>xk.test(i),Ok=i=>Ek.test(i),XT=Object.defineProperty({__proto__:null,isAny:Pi,isArbitraryImage:Dp,isArbitraryLength:Xa,isArbitraryNumber:cc,isArbitraryPosition:Lp,isArbitraryShadow:jp,isArbitrarySize:Mp,isArbitraryValue:Ft,isInteger:Ri,isLength:ja,isNumber:Xo,isPercent:Ip,isTshirtSize:Qa},Symbol.toStringTag,{value:"Module"}),wd=()=>{const i=zn("colors"),s=zn("spacing"),l=zn("blur"),c=zn("brightness"),u=zn("borderColor"),d=zn("borderRadius"),h=zn("borderSpacing"),m=zn("borderWidth"),p=zn("contrast"),g=zn("grayscale"),b=zn("hueRotate"),w=zn("invert"),_=zn("gap"),k=zn("gradientColorStops"),E=zn("gradientColorStopPositions"),T=zn("inset"),S=zn("margin"),x=zn("opacity"),A=zn("padding"),R=zn("saturate"),N=zn("scale"),F=zn("sepia"),P=zn("skew"),O=zn("space"),C=zn("translate"),D=()=>["auto","contain","none"],L=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",Ft,s],z=()=>[Ft,s],I=()=>["",ja,Xa],q=()=>["auto",Xo,Ft],Z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ae=()=>["solid","dashed","dotted","double","none"],se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ae=()=>["start","end","center","between","around","evenly","stretch"],be=()=>["","0",Ft],Le=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[Xo,Ft];return{cacheSize:500,separator:":",theme:{colors:[Pi],spacing:[ja,Xa],blur:["none","",Qa,Ft],brightness:B(),borderColor:[i],borderRadius:["none","","full",Qa,Ft],borderSpacing:z(),borderWidth:I(),contrast:B(),grayscale:be(),hueRotate:B(),invert:be(),gap:z(),gradientColorStops:[i],gradientColorStopPositions:[Ip,Xa],inset:M(),margin:M(),opacity:B(),padding:z(),saturate:B(),scale:B(),sepia:be(),skew:B(),space:z(),translate:z()},classGroups:{aspect:[{aspect:["auto","square","video",Ft]}],container:["container"],columns:[{columns:[Qa]}],"break-after":[{"break-after":Le()}],"break-before":[{"break-before":Le()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Z(),Ft]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[T]}],"inset-x":[{"inset-x":[T]}],"inset-y":[{"inset-y":[T]}],start:[{start:[T]}],end:[{end:[T]}],top:[{top:[T]}],right:[{right:[T]}],bottom:[{bottom:[T]}],left:[{left:[T]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ri,Ft]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ft]}],grow:[{grow:be()}],shrink:[{shrink:be()}],order:[{order:["first","last","none",Ri,Ft]}],"grid-cols":[{"grid-cols":[Pi]}],"col-start-end":[{col:["auto",{span:["full",Ri,Ft]},Ft]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[Pi]}],"row-start-end":[{row:["auto",{span:[Ri,Ft]},Ft]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ft]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ft]}],gap:[{gap:[_]}],"gap-x":[{"gap-x":[_]}],"gap-y":[{"gap-y":[_]}],"justify-content":[{justify:["normal",...Ae()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Ae(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Ae(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[A]}],px:[{px:[A]}],py:[{py:[A]}],ps:[{ps:[A]}],pe:[{pe:[A]}],pt:[{pt:[A]}],pr:[{pr:[A]}],pb:[{pb:[A]}],pl:[{pl:[A]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[O]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[O]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ft,s]}],"min-w":[{"min-w":[Ft,s,"min","max","fit"]}],"max-w":[{"max-w":[Ft,s,"none","full","min","max","fit","prose",{screen:[Qa]},Qa]}],h:[{h:[Ft,s,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ft,s,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ft,s,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ft,s,"auto","min","max","fit"]}],"font-size":[{text:["base",Qa,Xa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",cc]}],"font-family":[{font:[Pi]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ft]}],"line-clamp":[{"line-clamp":["none",Xo,cc]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ja,Ft]}],"list-image":[{"list-image":["none",Ft]}],"list-style-type":[{list:["none","disc","decimal",Ft]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[i]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[i]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ae(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ja,Xa]}],"underline-offset":[{"underline-offset":["auto",ja,Ft]}],"text-decoration-color":[{decoration:[i]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ft]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ft]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Z(),Lp]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Mp]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Dp]}],"bg-color":[{bg:[i]}],"gradient-from-pos":[{from:[E]}],"gradient-via-pos":[{via:[E]}],"gradient-to-pos":[{to:[E]}],"gradient-from":[{from:[k]}],"gradient-via":[{via:[k]}],"gradient-to":[{to:[k]}],rounded:[{rounded:[d]}],"rounded-s":[{"rounded-s":[d]}],"rounded-e":[{"rounded-e":[d]}],"rounded-t":[{"rounded-t":[d]}],"rounded-r":[{"rounded-r":[d]}],"rounded-b":[{"rounded-b":[d]}],"rounded-l":[{"rounded-l":[d]}],"rounded-ss":[{"rounded-ss":[d]}],"rounded-se":[{"rounded-se":[d]}],"rounded-ee":[{"rounded-ee":[d]}],"rounded-es":[{"rounded-es":[d]}],"rounded-tl":[{"rounded-tl":[d]}],"rounded-tr":[{"rounded-tr":[d]}],"rounded-br":[{"rounded-br":[d]}],"rounded-bl":[{"rounded-bl":[d]}],"border-w":[{border:[m]}],"border-w-x":[{"border-x":[m]}],"border-w-y":[{"border-y":[m]}],"border-w-s":[{"border-s":[m]}],"border-w-e":[{"border-e":[m]}],"border-w-t":[{"border-t":[m]}],"border-w-r":[{"border-r":[m]}],"border-w-b":[{"border-b":[m]}],"border-w-l":[{"border-l":[m]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...ae(),"hidden"]}],"divide-x":[{"divide-x":[m]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[m]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:ae()}],"border-color":[{border:[u]}],"border-color-x":[{"border-x":[u]}],"border-color-y":[{"border-y":[u]}],"border-color-s":[{"border-s":[u]}],"border-color-e":[{"border-e":[u]}],"border-color-t":[{"border-t":[u]}],"border-color-r":[{"border-r":[u]}],"border-color-b":[{"border-b":[u]}],"border-color-l":[{"border-l":[u]}],"divide-color":[{divide:[u]}],"outline-style":[{outline:["",...ae()]}],"outline-offset":[{"outline-offset":[ja,Ft]}],"outline-w":[{outline:[ja,Xa]}],"outline-color":[{outline:[i]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[i]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[ja,Xa]}],"ring-offset-color":[{"ring-offset":[i]}],shadow:[{shadow:["","inner","none",Qa,jp]}],"shadow-color":[{shadow:[Pi]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...se(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":se()}],filter:[{filter:["","none"]}],blur:[{blur:[l]}],brightness:[{brightness:[c]}],contrast:[{contrast:[p]}],"drop-shadow":[{"drop-shadow":["","none",Qa,Ft]}],grayscale:[{grayscale:[g]}],"hue-rotate":[{"hue-rotate":[b]}],invert:[{invert:[w]}],saturate:[{saturate:[R]}],sepia:[{sepia:[F]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[l]}],"backdrop-brightness":[{"backdrop-brightness":[c]}],"backdrop-contrast":[{"backdrop-contrast":[p]}],"backdrop-grayscale":[{"backdrop-grayscale":[g]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[b]}],"backdrop-invert":[{"backdrop-invert":[w]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[R]}],"backdrop-sepia":[{"backdrop-sepia":[F]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[h]}],"border-spacing-x":[{"border-spacing-x":[h]}],"border-spacing-y":[{"border-spacing-y":[h]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ft]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",Ft]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ft]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Ri,Ft]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ft]}],accent:[{accent:["auto",i]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ft]}],"caret-color":[{caret:[i]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ft]}],fill:[{fill:[i,"none"]}],"stroke-w":[{stroke:[ja,Xa,cc]}],stroke:[{stroke:[i,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Nk=(i,{cacheSize:s,prefix:l,separator:c,experimentalParseClassName:u,extend:d={},override:h={}})=>{Is(i,"cacheSize",s),Is(i,"prefix",l),Is(i,"separator",c),Is(i,"experimentalParseClassName",u);for(const m in h)Rk(i[m],h[m]);for(const m in d)Pk(i[m],d[m]);return i},Is=(i,s,l)=>{l!==void 0&&(i[s]=l)},Rk=(i,s)=>{if(s)for(const l in s)Is(i,l,s[l])},Pk=(i,s)=>{if(s)for(const l in s){const c=s[l];c!==void 0&&(i[l]=(i[l]||[]).concat(c))}},QT=(i,...s)=>typeof i=="function"?yd(wd,i,...s):yd(()=>Nk(wd(),i),...s),Ik=yd(wd);const{entries:Fp,setPrototypeOf:Bp,isFrozen:Mk,getPrototypeOf:Lk,getOwnPropertyDescriptor:Dk}=Object;let{freeze:Kr,seal:fa,create:Wp}=Object,{apply:_d,construct:kd}=typeof Reflect!="undefined"&&Reflect;Kr||(Kr=function(s){return s}),fa||(fa=function(s){return s}),_d||(_d=function(s,l,c){return s.apply(l,c)}),kd||(kd=function(s,l){return new s(...l)});const uc=oa(Array.prototype.forEach),Up=oa(Array.prototype.pop),Ms=oa(Array.prototype.push),dc=oa(String.prototype.toLowerCase),xd=oa(String.prototype.toString),$p=oa(String.prototype.match),Ls=oa(String.prototype.replace),jk=oa(String.prototype.indexOf),zk=oa(String.prototype.trim),Ta=oa(Object.prototype.hasOwnProperty),Yr=oa(RegExp.prototype.test),Ds=Fk(TypeError);function oa(i){return function(s){for(var l=arguments.length,c=new Array(l>1?l-1:0),u=1;u<l;u++)c[u-1]=arguments[u];return _d(i,s,c)}}function Fk(i){return function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];return kd(i,l)}}function Xt(i,s){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:dc;Bp&&Bp(i,null);let c=s.length;for(;c--;){let u=s[c];if(typeof u=="string"){const d=l(u);d!==u&&(Mk(s)||(s[c]=d),u=d)}i[u]=!0}return i}function Bk(i){for(let s=0;s<i.length;s++)Ta(i,s)||(i[s]=null);return i}function Qo(i){const s=Wp(null);for(const[l,c]of Fp(i))Ta(i,l)&&(Array.isArray(c)?s[l]=Bk(c):c&&typeof c=="object"&&c.constructor===Object?s[l]=Qo(c):s[l]=c);return s}function js(i,s){for(;i!==null;){const c=Dk(i,s);if(c){if(c.get)return oa(c.get);if(typeof c.value=="function")return oa(c.value)}i=Lk(i)}function l(){return null}return l}const Hp=Kr(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ed=Kr(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Cd=Kr(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Wk=Kr(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Sd=Kr(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Uk=Kr(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Vp=Kr(["#text"]),qp=Kr(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Td=Kr(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Gp=Kr(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),fc=Kr(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),$k=fa(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Hk=fa(/<%[\w\W]*|[\w\W]*%>/gm),Vk=fa(/\$\{[\w\W]*}/gm),qk=fa(/^data-[\-\w.\u00B7-\uFFFF]+$/),Gk=fa(/^aria-[\-\w]+$/),Kp=fa(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Kk=fa(/^(?:\w+script|data):/i),Yk=fa(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Yp=fa(/^html$/i),Jk=fa(/^[a-z][.\w]*(-[.\w]+)+$/i);var Jp=Object.freeze({__proto__:null,ARIA_ATTR:Gk,ATTR_WHITESPACE:Yk,CUSTOM_ELEMENT:Jk,DATA_ATTR:qk,DOCTYPE_NAME:Yp,ERB_EXPR:Hk,IS_ALLOWED_URI:Kp,IS_SCRIPT_OR_DATA:Kk,MUSTACHE_EXPR:$k,TMPLIT_EXPR:Vk});const zs={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},Zk=function(){return typeof window=="undefined"?null:window},Xk=function(s,l){if(typeof s!="object"||typeof s.createPolicy!="function")return null;let c=null;const u="data-tt-policy-suffix";l&&l.hasAttribute(u)&&(c=l.getAttribute(u));const d="dompurify"+(c?"#"+c:"");try{return s.createPolicy(d,{createHTML(h){return h},createScriptURL(h){return h}})}catch(h){return console.warn("TrustedTypes policy "+d+" could not be created."),null}},Zp=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Xp(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Zk();const s=St=>Xp(St);if(s.version="3.2.3",s.removed=[],!i||!i.document||i.document.nodeType!==zs.document)return s.isSupported=!1,s;let{document:l}=i;const c=l,u=c.currentScript,{DocumentFragment:d,HTMLTemplateElement:h,Node:m,Element:p,NodeFilter:g,NamedNodeMap:b=i.NamedNodeMap||i.MozNamedAttrMap,HTMLFormElement:w,DOMParser:_,trustedTypes:k}=i,E=p.prototype,T=js(E,"cloneNode"),S=js(E,"remove"),x=js(E,"nextSibling"),A=js(E,"childNodes"),R=js(E,"parentNode");if(typeof h=="function"){const St=l.createElement("template");St.content&&St.content.ownerDocument&&(l=St.content.ownerDocument)}let N,F="";const{implementation:P,createNodeIterator:O,createDocumentFragment:C,getElementsByTagName:D}=l,{importNode:L}=c;let M=Zp();s.isSupported=typeof Fp=="function"&&typeof R=="function"&&P&&P.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:z,ERB_EXPR:I,TMPLIT_EXPR:q,DATA_ATTR:Z,ARIA_ATTR:ae,IS_SCRIPT_OR_DATA:se,ATTR_WHITESPACE:Ae,CUSTOM_ELEMENT:be}=Jp;let{IS_ALLOWED_URI:Le}=Jp,B=null;const G=Xt({},[...Hp,...Ed,...Cd,...Sd,...Vp]);let te=null;const ye=Xt({},[...qp,...Td,...Gp,...fc]);let Pe=Object.seal(Wp(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Lt=null,Dt=null,cn=!0,Nt=!0,Bt=!1,De=!0,Ie=!1,nt=!0,Rt=!1,ge=!1,qe=!1,pt=!1,lt=!1,kt=!1,ut=!0,tt=!1;const ve="user-content-";let et=!0,it=!1,rt={},Je=null;const Wt=Xt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ot=null;const Qt=Xt({},["audio","video","img","source","image","track"]);let pn=null;const xn=Xt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),dt="http://www.w3.org/1998/Math/MathML",Sr="http://www.w3.org/2000/svg",Ee="http://www.w3.org/1999/xhtml";let ot=Ee,Et=!1,en=null;const Ut=Xt({},[dt,Sr,Ee],xd);let Zn=Xt({},["mi","mo","mn","ms","mtext"]),ta=Xt({},["annotation-xml"]);const ii=Xt({},["title","style","font","a","script"]);let mr=null;const as=["application/xhtml+xml","text/html"],pr="text/html";let nn=null,Tr=null;const lo=l.createElement("form"),Uo=function(Q){return Q instanceof RegExp||Q instanceof Function},co=function(){let Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Tr&&Tr===Q)){if((!Q||typeof Q!="object")&&(Q={}),Q=Qo(Q),mr=as.indexOf(Q.PARSER_MEDIA_TYPE)===-1?pr:Q.PARSER_MEDIA_TYPE,nn=mr==="application/xhtml+xml"?xd:dc,B=Ta(Q,"ALLOWED_TAGS")?Xt({},Q.ALLOWED_TAGS,nn):G,te=Ta(Q,"ALLOWED_ATTR")?Xt({},Q.ALLOWED_ATTR,nn):ye,en=Ta(Q,"ALLOWED_NAMESPACES")?Xt({},Q.ALLOWED_NAMESPACES,xd):Ut,pn=Ta(Q,"ADD_URI_SAFE_ATTR")?Xt(Qo(xn),Q.ADD_URI_SAFE_ATTR,nn):xn,Ot=Ta(Q,"ADD_DATA_URI_TAGS")?Xt(Qo(Qt),Q.ADD_DATA_URI_TAGS,nn):Qt,Je=Ta(Q,"FORBID_CONTENTS")?Xt({},Q.FORBID_CONTENTS,nn):Wt,Lt=Ta(Q,"FORBID_TAGS")?Xt({},Q.FORBID_TAGS,nn):{},Dt=Ta(Q,"FORBID_ATTR")?Xt({},Q.FORBID_ATTR,nn):{},rt=Ta(Q,"USE_PROFILES")?Q.USE_PROFILES:!1,cn=Q.ALLOW_ARIA_ATTR!==!1,Nt=Q.ALLOW_DATA_ATTR!==!1,Bt=Q.ALLOW_UNKNOWN_PROTOCOLS||!1,De=Q.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ie=Q.SAFE_FOR_TEMPLATES||!1,nt=Q.SAFE_FOR_XML!==!1,Rt=Q.WHOLE_DOCUMENT||!1,pt=Q.RETURN_DOM||!1,lt=Q.RETURN_DOM_FRAGMENT||!1,kt=Q.RETURN_TRUSTED_TYPE||!1,qe=Q.FORCE_BODY||!1,ut=Q.SANITIZE_DOM!==!1,tt=Q.SANITIZE_NAMED_PROPS||!1,et=Q.KEEP_CONTENT!==!1,it=Q.IN_PLACE||!1,Le=Q.ALLOWED_URI_REGEXP||Kp,ot=Q.NAMESPACE||Ee,Zn=Q.MATHML_TEXT_INTEGRATION_POINTS||Zn,ta=Q.HTML_INTEGRATION_POINTS||ta,Pe=Q.CUSTOM_ELEMENT_HANDLING||{},Q.CUSTOM_ELEMENT_HANDLING&&Uo(Q.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Pe.tagNameCheck=Q.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Q.CUSTOM_ELEMENT_HANDLING&&Uo(Q.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Pe.attributeNameCheck=Q.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Q.CUSTOM_ELEMENT_HANDLING&&typeof Q.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Pe.allowCustomizedBuiltInElements=Q.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ie&&(Nt=!1),lt&&(pt=!0),rt&&(B=Xt({},Vp),te=[],rt.html===!0&&(Xt(B,Hp),Xt(te,qp)),rt.svg===!0&&(Xt(B,Ed),Xt(te,Td),Xt(te,fc)),rt.svgFilters===!0&&(Xt(B,Cd),Xt(te,Td),Xt(te,fc)),rt.mathMl===!0&&(Xt(B,Sd),Xt(te,Gp),Xt(te,fc))),Q.ADD_TAGS&&(B===G&&(B=Qo(B)),Xt(B,Q.ADD_TAGS,nn)),Q.ADD_ATTR&&(te===ye&&(te=Qo(te)),Xt(te,Q.ADD_ATTR,nn)),Q.ADD_URI_SAFE_ATTR&&Xt(pn,Q.ADD_URI_SAFE_ATTR,nn),Q.FORBID_CONTENTS&&(Je===Wt&&(Je=Qo(Je)),Xt(Je,Q.FORBID_CONTENTS,nn)),et&&(B["#text"]=!0),Rt&&Xt(B,["html","head","body"]),B.table&&(Xt(B,["tbody"]),delete Lt.tbody),Q.TRUSTED_TYPES_POLICY){if(typeof Q.TRUSTED_TYPES_POLICY.createHTML!="function")throw Ds('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Q.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Ds('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');N=Q.TRUSTED_TYPES_POLICY,F=N.createHTML("")}else N===void 0&&(N=Xk(k,u)),N!==null&&typeof F=="string"&&(F=N.createHTML(""));Kr&&Kr(Q),Tr=Q}},$o=Xt({},[...Ed,...Cd,...Wk]),Rn=Xt({},[...Sd,...Uk]),xr=function(Q){let ze=R(Q);(!ze||!ze.tagName)&&(ze={namespaceURI:ot,tagName:"template"});const ft=dc(Q.tagName),Kn=dc(ze.tagName);return en[Q.namespaceURI]?Q.namespaceURI===Sr?ze.namespaceURI===Ee?ft==="svg":ze.namespaceURI===dt?ft==="svg"&&(Kn==="annotation-xml"||Zn[Kn]):!!$o[ft]:Q.namespaceURI===dt?ze.namespaceURI===Ee?ft==="math":ze.namespaceURI===Sr?ft==="math"&&ta[Kn]:!!Rn[ft]:Q.namespaceURI===Ee?ze.namespaceURI===Sr&&!ta[Kn]||ze.namespaceURI===dt&&!Zn[Kn]?!1:!Rn[ft]&&(ii[ft]||!$o[ft]):!!(mr==="application/xhtml+xml"&&en[Q.namespaceURI]):!1},Ht=function(Q){Ms(s.removed,{element:Q});try{R(Q).removeChild(Q)}catch(ze){S(Q)}},Wn=function(Q,ze){try{Ms(s.removed,{attribute:ze.getAttributeNode(Q),from:ze})}catch(ft){Ms(s.removed,{attribute:null,from:ze})}if(ze.removeAttribute(Q),Q==="is")if(pt||lt)try{Ht(ze)}catch(ft){}else try{ze.setAttribute(Q,"")}catch(ft){}},gr=function(Q){let ze=null,ft=null;if(qe)Q="<remove></remove>"+Q;else{const Rr=$p(Q,/^[\r\n\t ]+/);ft=Rr&&Rr[0]}mr==="application/xhtml+xml"&&ot===Ee&&(Q='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Q+"</body></html>");const Kn=N?N.createHTML(Q):Q;if(ot===Ee)try{ze=new _().parseFromString(Kn,mr)}catch(Rr){}if(!ze||!ze.documentElement){ze=P.createDocument(ot,"template",null);try{ze.documentElement.innerHTML=Et?F:Kn}catch(Rr){}}const zr=ze.body||ze.documentElement;return Q&&ft&&zr.insertBefore(l.createTextNode(ft),zr.childNodes[0]||null),ot===Ee?D.call(ze,Rt?"html":"body")[0]:Rt?ze.documentElement:zr},Xn=function(Q){return O.call(Q.ownerDocument||Q,Q,g.SHOW_ELEMENT|g.SHOW_COMMENT|g.SHOW_TEXT|g.SHOW_PROCESSING_INSTRUCTION|g.SHOW_CDATA_SECTION,null)},ya=function(Q){return Q instanceof w&&(typeof Q.nodeName!="string"||typeof Q.textContent!="string"||typeof Q.removeChild!="function"||!(Q.attributes instanceof b)||typeof Q.removeAttribute!="function"||typeof Q.setAttribute!="function"||typeof Q.namespaceURI!="string"||typeof Q.insertBefore!="function"||typeof Q.hasChildNodes!="function")},_l=function(Q){return typeof m=="function"&&Q instanceof m};function Un(St,Q,ze){uc(St,ft=>{ft.call(s,Q,ze,Tr)})}const kl=function(Q){let ze=null;if(Un(M.beforeSanitizeElements,Q,null),ya(Q))return Ht(Q),!0;const ft=nn(Q.nodeName);if(Un(M.uponSanitizeElement,Q,{tagName:ft,allowedTags:B}),Q.hasChildNodes()&&!_l(Q.firstElementChild)&&Yr(/<[/\w]/g,Q.innerHTML)&&Yr(/<[/\w]/g,Q.textContent)||Q.nodeType===zs.progressingInstruction||nt&&Q.nodeType===zs.comment&&Yr(/<[/\w]/g,Q.data))return Ht(Q),!0;if(!B[ft]||Lt[ft]){if(!Lt[ft]&&xl(ft)&&(Pe.tagNameCheck instanceof RegExp&&Yr(Pe.tagNameCheck,ft)||Pe.tagNameCheck instanceof Function&&Pe.tagNameCheck(ft)))return!1;if(et&&!Je[ft]){const Kn=R(Q)||Q.parentNode,zr=A(Q)||Q.childNodes;if(zr&&Kn){const Rr=zr.length;for(let na=Rr-1;na>=0;--na){const Ha=T(zr[na],!0);Ha.__removalCount=(Q.__removalCount||0)+1,Kn.insertBefore(Ha,x(Q))}}}return Ht(Q),!0}return Q instanceof p&&!xr(Q)||(ft==="noscript"||ft==="noembed"||ft==="noframes")&&Yr(/<\/no(script|embed|frames)/i,Q.innerHTML)?(Ht(Q),!0):(Ie&&Q.nodeType===zs.text&&(ze=Q.textContent,uc([z,I,q],Kn=>{ze=Ls(ze,Kn," ")}),Q.textContent!==ze&&(Ms(s.removed,{element:Q.cloneNode()}),Q.textContent=ze)),Un(M.afterSanitizeElements,Q,null),!1)},wu=function(Q,ze,ft){if(ut&&(ze==="id"||ze==="name")&&(ft in l||ft in lo))return!1;if(!(Nt&&!Dt[ze]&&Yr(Z,ze))){if(!(cn&&Yr(ae,ze))){if(!te[ze]||Dt[ze]){if(!(xl(Q)&&(Pe.tagNameCheck instanceof RegExp&&Yr(Pe.tagNameCheck,Q)||Pe.tagNameCheck instanceof Function&&Pe.tagNameCheck(Q))&&(Pe.attributeNameCheck instanceof RegExp&&Yr(Pe.attributeNameCheck,ze)||Pe.attributeNameCheck instanceof Function&&Pe.attributeNameCheck(ze))||ze==="is"&&Pe.allowCustomizedBuiltInElements&&(Pe.tagNameCheck instanceof RegExp&&Yr(Pe.tagNameCheck,ft)||Pe.tagNameCheck instanceof Function&&Pe.tagNameCheck(ft))))return!1}else if(!pn[ze]){if(!Yr(Le,Ls(ft,Ae,""))){if(!((ze==="src"||ze==="xlink:href"||ze==="href")&&Q!=="script"&&jk(ft,"data:")===0&&Ot[Q])){if(!(Bt&&!Yr(se,Ls(ft,Ae,"")))){if(ft)return!1}}}}}}return!0},xl=function(Q){return Q!=="annotation-xml"&&$p(Q,be)},j1=function(Q){Un(M.beforeSanitizeAttributes,Q,null);const{attributes:ze}=Q;if(!ze||ya(Q))return;const ft={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:te,forceKeepAttr:void 0};let Kn=ze.length;for(;Kn--;){const zr=ze[Kn],{name:Rr,namespaceURI:na,value:Ha}=zr,El=nn(Rr);let Xr=Rr==="value"?Ha:zk(Ha);if(ft.attrName=El,ft.attrValue=Xr,ft.keepAttr=!0,ft.forceKeepAttr=void 0,Un(M.uponSanitizeAttribute,Q,ft),Xr=ft.attrValue,tt&&(El==="id"||El==="name")&&(Wn(Rr,Q),Xr=ve+Xr),nt&&Yr(/((--!?|])>)|<\/(style|title)/i,Xr)){Wn(Rr,Q);continue}if(ft.forceKeepAttr||(Wn(Rr,Q),!ft.keepAttr))continue;if(!De&&Yr(/\/>/i,Xr)){Wn(Rr,Q);continue}Ie&&uc([z,I,q],F1=>{Xr=Ls(Xr,F1," ")});const z1=nn(Q.nodeName);if(wu(z1,El,Xr)){if(N&&typeof k=="object"&&typeof k.getAttributeType=="function"&&!na)switch(k.getAttributeType(z1,El)){case"TrustedHTML":{Xr=N.createHTML(Xr);break}case"TrustedScriptURL":{Xr=N.createScriptURL(Xr);break}}try{na?Q.setAttributeNS(na,Rr,Xr):Q.setAttribute(Rr,Xr),ya(Q)?Ht(Q):Up(s.removed)}catch(F1){}}}Un(M.afterSanitizeAttributes,Q,null)},w7=function St(Q){let ze=null;const ft=Xn(Q);for(Un(M.beforeSanitizeShadowDOM,Q,null);ze=ft.nextNode();)Un(M.uponSanitizeShadowNode,ze,null),kl(ze),j1(ze),ze.content instanceof d&&St(ze.content);Un(M.afterSanitizeShadowDOM,Q,null)};return s.sanitize=function(St){let Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ze=null,ft=null,Kn=null,zr=null;if(Et=!St,Et&&(St="<!-->"),typeof St!="string"&&!_l(St))if(typeof St.toString=="function"){if(St=St.toString(),typeof St!="string")throw Ds("dirty is not a string, aborting")}else throw Ds("toString is not a function");if(!s.isSupported)return St;if(ge||co(Q),s.removed=[],typeof St=="string"&&(it=!1),it){if(St.nodeName){const Ha=nn(St.nodeName);if(!B[Ha]||Lt[Ha])throw Ds("root node is forbidden and cannot be sanitized in-place")}}else if(St instanceof m)ze=gr("<!---->"),ft=ze.ownerDocument.importNode(St,!0),ft.nodeType===zs.element&&ft.nodeName==="BODY"||ft.nodeName==="HTML"?ze=ft:ze.appendChild(ft);else{if(!pt&&!Ie&&!Rt&&St.indexOf("<")===-1)return N&&kt?N.createHTML(St):St;if(ze=gr(St),!ze)return pt?null:kt?F:""}ze&&qe&&Ht(ze.firstChild);const Rr=Xn(it?St:ze);for(;Kn=Rr.nextNode();)kl(Kn),j1(Kn),Kn.content instanceof d&&w7(Kn.content);if(it)return St;if(pt){if(lt)for(zr=C.call(ze.ownerDocument);ze.firstChild;)zr.appendChild(ze.firstChild);else zr=ze;return(te.shadowroot||te.shadowrootmode)&&(zr=L.call(c,zr,!0)),zr}let na=Rt?ze.outerHTML:ze.innerHTML;return Rt&&B["!doctype"]&&ze.ownerDocument&&ze.ownerDocument.doctype&&ze.ownerDocument.doctype.name&&Yr(Yp,ze.ownerDocument.doctype.name)&&(na="<!DOCTYPE "+ze.ownerDocument.doctype.name+`>
`+na),Ie&&uc([z,I,q],Ha=>{na=Ls(na,Ha," ")}),N&&kt?N.createHTML(na):na},s.setConfig=function(){let St=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};co(St),ge=!0},s.clearConfig=function(){Tr=null,ge=!1},s.isValidAttribute=function(St,Q,ze){Tr||co({});const ft=nn(St),Kn=nn(Q);return wu(ft,Kn,ze)},s.addHook=function(St,Q){typeof Q=="function"&&Ms(M[St],Q)},s.removeHook=function(St){return Up(M[St])},s.removeHooks=function(St){M[St]=[]},s.removeAllHooks=function(){M=Zp()},s}var Qp=Xp(),ei=(i=>(i.Image="image",i.Video="video",i.Audio="audio",i.Archive="archive",i.Document="document",i.Spreadsheet="spreadsheet",i.Presentation="presentation",i.Font="font",i.Text="text",i.Application="application",i.Unknown="unknown",i))(ei||{});const Qk={"audio/aac":{extensions:[".aac"],label:"AAC audio",kind:"audio"},"application/x-abiword":{extensions:[".abw"],label:"AbiWord document",kind:"document"},"application/x-freearc":{extensions:[".arc"],label:"Archive document (multiple files embedded)",kind:"archive"},"video/x-msvideo":{extensions:[".avi"],label:"AVI: Audio Video Interleave",kind:"video"},"application/vnd.amazon.ebook":{extensions:[".azw"],label:"Amazon Kindle eBook format	application/vnd.amazon.ebook",kind:"document"},"application/octet-stream":{extensions:[".bin",".exe",".dll",".so",".dmg"],label:"Any kind of binary data",kind:"application"},"image/bmp":{extensions:[".bmp"],label:"Bitmap Graphics",kind:"image"},"application/x-bzip":{extensions:[".bz"],label:"BZip archive",kind:"archive"},"application/x-bzip2":{extensions:[".bz2"],label:"BZip2 archive",kind:"archive"},"application/x-cdf":{extensions:[".cda"],label:"CD audio",kind:"audio"},"application/x-csh":{extensions:[".csh"],label:"C-Shell script",kind:"text"},"text/css":{extensions:[".css"],label:"Cascading Style Sheets (CSS)",kind:"text"},"text/csv":{extensions:[".csv"],label:"Comma/column-separated values",kind:"spreadsheet"},"text/tsv":{extensions:[".tsv"],label:"Tab-separated values",kind:"spreadsheet"},"application/msword":{extensions:[".doc"],label:"Microsoft Word",kind:"document"},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{extensions:[".docx"],label:"Microsoft Word (OpenXML)",kind:"document"},"application/vnd.ms-fontobject":{extensions:[".eot"],label:"MS Embedded OpenType fonts",kind:"font"},"application/epub+zip":{extensions:[".epub"],label:"Electronic publication (EPUB)",kind:"document"},"application/gzip":{extensions:[".gz",".gzip"],label:"GZip Compressed Archive",kind:"archive"},"image/gif":{extensions:[".gif"],label:"Graphics Interchange Format (GIF)",kind:"image"},"text/html":{extensions:[".htm",".html"],label:".html	HyperText Markup Language (HTML)",kind:"text"},"image/vnd.microsoft.icon":{extensions:[".ico"],label:"Icon format	image/vnd.microsoft.icon",kind:"image"},"text/calendar":{extensions:[".ics"],label:"iCalendar format",kind:"text"},"application/java-archive":{extensions:[".jar"],label:"Java Archive (JAR)	application/java-archive",kind:"application"},"image/jpeg":{extensions:[".jpeg",".jpg"],label:"JPEG image",kind:"image"},"text/javascript":{extensions:[".js",".mjs",".jsx",".ts",".tsx"],label:"JavaScript",kind:"text"},"application/json":{extensions:[".json"],label:"JSON",kind:"text"},"application/ld+json":{extensions:[".jsonld"],label:"JSON-LD format	application/ld+json",kind:"text"},"audio/midi":{extensions:[".mid",".midi"],label:".midi	Musical Instrument Digital Interface (MIDI)",kind:"audio"},"audio/x-midi":{extensions:[".mid",".midi"],label:".midi	Musical Instrument Digital Interface (MIDI)",kind:"audio"},"audio/mpeg":{extensions:[".mp3"],label:"MP3 audio",kind:"audio"},"video/mp4":{extensions:[".mp4"],label:"MP4 video",kind:"video"},"video/mpeg":{extensions:[".mpeg"],label:"MPEG Video",kind:"video"},"application/vnd.apple.installer+xml":{extensions:[".mpkg"],label:"Apple Installer Package",kind:"application"},"application/vnd.oasis.opendocument.presentation":{extensions:[".odp"],label:"OpenDocument presentation document",kind:"presentation"},"application/vnd.oasis.opendocument.spreadsheet":{extensions:[".ods"],label:"OpenDocument spreadsheet document",kind:"spreadsheet"},"application/vnd.oasis.opendocument.text":{extensions:[".odt"],label:"OpenDocument text document",kind:"document"},"audio/ogg":{extensions:[".oga",".ogg"],label:"OGG audio",kind:"audio"},"video/ogg":{extensions:[".ogv"],label:"OGG video",kind:"video"},"application/ogg":{extensions:[".ogx"],label:"OGG",kind:"video"},"audio/opus":{extensions:[".opus"],label:"Opus audio",kind:"audio"},"font/otf":{extensions:[".otf"],label:"OpenType font",kind:"font"},"image/png":{extensions:[".png"],label:"Portable Network Graphics",kind:"image"},"application/pdf":{extensions:[".pdf"],label:"Adobe Portable Document Format (PDF)",kind:"document"},"application/x-httpd-php":{extensions:[".php"],label:"Hypertext Preprocessor (Personal Home Page)",kind:"text"},"application/vnd.ms-powerpoint":{extensions:[".ppt"],label:"Microsoft PowerPoint",kind:"presentation"},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{extensions:[".pptx"],label:"Microsoft PowerPoint (OpenXML)",kind:"presentation"},"application/vnd.rar":{extensions:[".rar"],label:"RAR archive",kind:"archive"},"application/rtf":{extensions:[".rtf"],label:"Rich Text Format (RTF)",kind:"document"},"application/x-sh":{extensions:[".sh"],label:"Bourne shell script",kind:"text"},"image/svg+xml":{extensions:[".svg"],label:"Scalable Vector Graphics (SVG)",kind:"image"},"image/svg":{extensions:[".svg"],label:"Scalable Vector Graphics (SVG)",kind:"image"},"application/x-shockwave-flash":{extensions:[".swf"],label:"Adobe Flash document",kind:"application"},"application/x-tar":{extensions:[".tar"],label:"Tape Archive (TAR)	application/x-tar",kind:"archive"},"image/tiff":{extensions:[".tif"],label:".tiff File Format (TIFF)",kind:"image"},"video/mp2t":{extensions:[".ts"],label:"MPEG transport stream",kind:"video"},"font/ttf":{extensions:[".ttf"],label:"TrueType Font	font/ttf",kind:"font"},"text/plain":{extensions:[".txt"],label:"Plain Text",kind:"text"},"application/vnd.visio":{extensions:[".vsd"],label:"Microsoft Visio",kind:"image"},"audio/wav":{extensions:[".wav"],label:"Waveform Audio Format",kind:"audio"},"audio/webm":{extensions:[".weba"],label:"WEBM audio",kind:"audio"},"video/webm":{extensions:[".webm"],label:"WEBM video",kind:"video"},"image/webp":{extensions:[".webp"],label:"WEBP image",kind:"image"},"image/heic":{extensions:[".heic",".heif"],label:"HEIC (High-Efficiency Image Container) image",kind:"image"},"font/woff":{extensions:[".woff"],label:"Web Open Font Format (WOFF)",kind:"font"},"font/woff2":{extensions:[".woff2"],label:"Web Open Font Format (WOFF)",kind:"font"},"application/xhtml+xml":{extensions:[".xhtml"],label:"XHTML",kind:"text"},"application/vnd.ms-excel":{extensions:[".xls"],label:"Microsoft Excel",kind:"spreadsheet"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{extensions:[".xlsx"],label:"Microsoft Excel (OpenXML)",kind:"spreadsheet"},"application/xml":{extensions:[".xml"],label:"XML",kind:"text"},"text/xml":{extensions:[".xml"],label:"XML",kind:"text"},"application/zip":{extensions:[".zip"],label:"ZIP archive",kind:"archive"},"video/3gpp":{extensions:[".3gp"],label:"3GPP audio/video container",kind:"video"},"audio/3gpp":{extensions:[".3gp"],label:"3GPP audio/video container",kind:"audio"},"video/3gpp2":{extensions:[".3g2"],label:"3GPP2 audio/video container",kind:"video"},"audio/3gpp2":{extensions:[".3g2"],label:"3GPP2 audio/video container",kind:"audio"},"application/x-7z-compressed":{extensions:[".7z"],label:"7-zip archive	application/x-7z-compressed",kind:"archive"}},Mt=i=>typeof i=="string",Fs=()=>{let i,s;const l=new Promise((c,u)=>{i=c,s=u});return l.resolve=i,l.reject=s,l},eg=i=>i==null?"":""+i,ex=(i,s,l)=>{i.forEach(c=>{s[c]&&(l[c]=s[c])})},tx=/###/g,tg=i=>i&&i.indexOf("###")>-1?i.replace(tx,"."):i,ng=i=>!i||Mt(i),Bs=(i,s,l)=>{const c=Mt(s)?s.split("."):s;let u=0;for(;u<c.length-1;){if(ng(i))return{};const d=tg(c[u]);!i[d]&&l&&(i[d]=new l),Object.prototype.hasOwnProperty.call(i,d)?i=i[d]:i={},++u}return ng(i)?{}:{obj:i,k:tg(c[u])}},rg=(i,s,l)=>{const{obj:c,k:u}=Bs(i,s,Object);if(c!==void 0||s.length===1){c[u]=l;return}let d=s[s.length-1],h=s.slice(0,s.length-1),m=Bs(i,h,Object);for(;m.obj===void 0&&h.length;)d=`${h[h.length-1]}.${d}`,h=h.slice(0,h.length-1),m=Bs(i,h,Object),m!=null&&m.obj&&typeof m.obj[`${m.k}.${d}`]!="undefined"&&(m.obj=void 0);m.obj[`${m.k}.${d}`]=l},nx=(i,s,l,c)=>{const{obj:u,k:d}=Bs(i,s,Object);u[d]=u[d]||[],u[d].push(l)},hc=(i,s)=>{const{obj:l,k:c}=Bs(i,s);if(l&&Object.prototype.hasOwnProperty.call(l,c))return l[c]},rx=(i,s,l)=>{const c=hc(i,l);return c!==void 0?c:hc(s,l)},ag=(i,s,l)=>{for(const c in s)c!=="__proto__"&&c!=="constructor"&&(c in i?Mt(i[c])||i[c]instanceof String||Mt(s[c])||s[c]instanceof String?l&&(i[c]=s[c]):ag(i[c],s[c],l):i[c]=s[c]);return i},Mi=i=>i.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var ax={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const ox=i=>Mt(i)?i.replace(/[&<>"'\/]/g,s=>ax[s]):i;class ix{constructor(s){this.capacity=s,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(s){const l=this.regExpMap.get(s);if(l!==void 0)return l;const c=new RegExp(s);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(s,c),this.regExpQueue.push(s),c}}const sx=[" ",",","?","!",";"],lx=new ix(20),cx=(i,s,l)=>{s=s||"",l=l||"";const c=sx.filter(h=>s.indexOf(h)<0&&l.indexOf(h)<0);if(c.length===0)return!0;const u=lx.getRegExp(`(${c.map(h=>h==="?"?"\\?":h).join("|")})`);let d=!u.test(i);if(!d){const h=i.indexOf(l);h>0&&!u.test(i.substring(0,h))&&(d=!0)}return d},Ad=function(i,s){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!i)return;if(i[s])return Object.prototype.hasOwnProperty.call(i,s)?i[s]:void 0;const c=s.split(l);let u=i;for(let d=0;d<c.length;){if(!u||typeof u!="object")return;let h,m="";for(let p=d;p<c.length;++p)if(p!==d&&(m+=l),m+=c[p],h=u[m],h!==void 0){if(["string","number","boolean"].indexOf(typeof h)>-1&&p<c.length-1)continue;d+=p-d+1;break}u=h}return u},mc=i=>i==null?void 0:i.replace("_","-"),ux={type:"logger",log(i){this.output("log",i)},warn(i){this.output("warn",i)},error(i){this.output("error",i)},output(i,s){var l,c;(c=(l=console==null?void 0:console[i])==null?void 0:l.apply)==null||c.call(l,console,s)}};class pc{constructor(s){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(s,l)}init(s){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=l.prefix||"i18next:",this.logger=s||ux,this.options=l,this.debug=l.debug}log(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];return this.forward(l,"log","",!0)}warn(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];return this.forward(l,"warn","",!0)}error(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];return this.forward(l,"error","")}deprecate(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];return this.forward(l,"warn","WARNING DEPRECATED: ",!0)}forward(s,l,c,u){return u&&!this.debug?null:(Mt(s[0])&&(s[0]=`${c}${this.prefix} ${s[0]}`),this.logger[l](s))}create(s){return new pc(this.logger,W({prefix:`${this.prefix}:${s}:`},this.options))}clone(s){return s=s||this.options,s.prefix=s.prefix||this.prefix,new pc(this.logger,s)}}var za=new pc;class gc{constructor(){this.observers={}}on(s,l){return s.split(" ").forEach(c=>{this.observers[c]||(this.observers[c]=new Map);const u=this.observers[c].get(l)||0;this.observers[c].set(l,u+1)}),this}off(s,l){if(this.observers[s]){if(!l){delete this.observers[s];return}this.observers[s].delete(l)}}emit(s){for(var l=arguments.length,c=new Array(l>1?l-1:0),u=1;u<l;u++)c[u-1]=arguments[u];this.observers[s]&&Array.from(this.observers[s].entries()).forEach(h=>{let[m,p]=h;for(let g=0;g<p;g++)m(...c)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(h=>{let[m,p]=h;for(let g=0;g<p;g++)m.apply(m,[s,...c])})}}class og extends gc{constructor(s){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=s||{},this.options=l,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(s){this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}removeNamespaces(s){const l=this.options.ns.indexOf(s);l>-1&&this.options.ns.splice(l,1)}getResource(s,l,c){var g,b;let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const d=u.keySeparator!==void 0?u.keySeparator:this.options.keySeparator,h=u.ignoreJSONStructure!==void 0?u.ignoreJSONStructure:this.options.ignoreJSONStructure;let m;s.indexOf(".")>-1?m=s.split("."):(m=[s,l],c&&(Array.isArray(c)?m.push(...c):Mt(c)&&d?m.push(...c.split(d)):m.push(c)));const p=hc(this.data,m);return!p&&!l&&!c&&s.indexOf(".")>-1&&(s=m[0],l=m[1],c=m.slice(2).join(".")),p||!h||!Mt(c)?p:Ad((b=(g=this.data)==null?void 0:g[s])==null?void 0:b[l],c,d)}addResource(s,l,c,u){let d=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const h=d.keySeparator!==void 0?d.keySeparator:this.options.keySeparator;let m=[s,l];c&&(m=m.concat(h?c.split(h):c)),s.indexOf(".")>-1&&(m=s.split("."),u=l,l=m[1]),this.addNamespaces(l),rg(this.data,m,u),d.silent||this.emit("added",s,l,c,u)}addResources(s,l,c){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const d in c)(Mt(c[d])||Array.isArray(c[d]))&&this.addResource(s,l,d,c[d],{silent:!0});u.silent||this.emit("added",s,l,c)}addResourceBundle(s,l,c,u,d){let h=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},m=[s,l];s.indexOf(".")>-1&&(m=s.split("."),u=c,c=l,l=m[1]),this.addNamespaces(l);let p=hc(this.data,m)||{};h.skipCopy||(c=JSON.parse(JSON.stringify(c))),u?ag(p,c,d):p=W(W({},p),c),rg(this.data,m,p),h.silent||this.emit("added",s,l,c)}removeResourceBundle(s,l){this.hasResourceBundle(s,l)&&delete this.data[s][l],this.removeNamespaces(l),this.emit("removed",s,l)}hasResourceBundle(s,l){return this.getResource(s,l)!==void 0}getResourceBundle(s,l){return l||(l=this.options.defaultNS),this.getResource(s,l)}getDataByLanguage(s){return this.data[s]}hasLanguageSomeTranslations(s){const l=this.getDataByLanguage(s);return!!(l&&Object.keys(l)||[]).find(u=>l[u]&&Object.keys(l[u]).length>0)}toJSON(){return this.data}}var ig={processors:{},addPostProcessor(i){this.processors[i.name]=i},handle(i,s,l,c,u){return i.forEach(d=>{var h,m;s=(m=(h=this.processors[d])==null?void 0:h.process(s,l,c,u))!=null?m:s}),s}};const sg={},lg=i=>!Mt(i)&&typeof i!="boolean"&&typeof i!="number";class bc extends gc{constructor(s){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),ex(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],s,this),this.options=l,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=za.create("translator")}changeLanguage(s){s&&(this.language=s)}exists(s){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(s==null)return!1;const c=this.resolve(s,l);return(c==null?void 0:c.res)!==void 0}extractFromKey(s,l){let c=l.nsSeparator!==void 0?l.nsSeparator:this.options.nsSeparator;c===void 0&&(c=":");const u=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator;let d=l.ns||this.options.defaultNS||[];const h=c&&s.indexOf(c)>-1,m=!this.options.userDefinedKeySeparator&&!l.keySeparator&&!this.options.userDefinedNsSeparator&&!l.nsSeparator&&!cx(s,c,u);if(h&&!m){const p=s.match(this.interpolator.nestingRegexp);if(p&&p.length>0)return{key:s,namespaces:Mt(d)?[d]:d};const g=s.split(c);(c!==u||c===u&&this.options.ns.indexOf(g[0])>-1)&&(d=g.shift()),s=g.join(u)}return{key:s,namespaces:Mt(d)?[d]:d}}translate(s,l,c){if(typeof l!="object"&&this.options.overloadTranslationOptionHandler&&(l=this.options.overloadTranslationOptionHandler(arguments)),typeof l=="object"&&(l=W({},l)),l||(l={}),s==null)return"";Array.isArray(s)||(s=[String(s)]);const u=l.returnDetails!==void 0?l.returnDetails:this.options.returnDetails,d=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator,{key:h,namespaces:m}=this.extractFromKey(s[s.length-1],l),p=m[m.length-1],g=l.lng||this.language,b=l.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((g==null?void 0:g.toLowerCase())==="cimode"){if(b){const M=l.nsSeparator||this.options.nsSeparator;return u?{res:`${p}${M}${h}`,usedKey:h,exactUsedKey:h,usedLng:g,usedNS:p,usedParams:this.getUsedParamsDetails(l)}:`${p}${M}${h}`}return u?{res:h,usedKey:h,exactUsedKey:h,usedLng:g,usedNS:p,usedParams:this.getUsedParamsDetails(l)}:h}const w=this.resolve(s,l);let _=w==null?void 0:w.res;const k=(w==null?void 0:w.usedKey)||h,E=(w==null?void 0:w.exactUsedKey)||h,T=["[object Number]","[object Function]","[object RegExp]"],S=l.joinArrays!==void 0?l.joinArrays:this.options.joinArrays,x=!this.i18nFormat||this.i18nFormat.handleAsObject,A=l.count!==void 0&&!Mt(l.count),R=bc.hasDefaultValue(l),N=A?this.pluralResolver.getSuffix(g,l.count,l):"",F=l.ordinal&&A?this.pluralResolver.getSuffix(g,l.count,{ordinal:!1}):"",P=A&&!l.ordinal&&l.count===0,O=P&&l[`defaultValue${this.options.pluralSeparator}zero`]||l[`defaultValue${N}`]||l[`defaultValue${F}`]||l.defaultValue;let C=_;x&&!_&&R&&(C=O);const D=lg(C),L=Object.prototype.toString.apply(C);if(x&&C&&D&&T.indexOf(L)<0&&!(Mt(S)&&Array.isArray(C))){if(!l.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const M=this.options.returnedObjectHandler?this.options.returnedObjectHandler(k,C,Te(W({},l),{ns:m})):`key '${h} (${this.language})' returned an object instead of string.`;return u?(w.res=M,w.usedParams=this.getUsedParamsDetails(l),w):M}if(d){const M=Array.isArray(C),z=M?[]:{},I=M?E:k;for(const q in C)if(Object.prototype.hasOwnProperty.call(C,q)){const Z=`${I}${d}${q}`;R&&!_?z[q]=this.translate(Z,Te(W({},l),{defaultValue:lg(O)?O[q]:void 0,joinArrays:!1,ns:m})):z[q]=this.translate(Z,Te(W({},l),{joinArrays:!1,ns:m})),z[q]===Z&&(z[q]=C[q])}_=z}}else if(x&&Mt(S)&&Array.isArray(_))_=_.join(S),_&&(_=this.extendTranslation(_,s,l,c));else{let M=!1,z=!1;!this.isValidLookup(_)&&R&&(M=!0,_=O),this.isValidLookup(_)||(z=!0,_=h);const q=(l.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&z?void 0:_,Z=R&&O!==_&&this.options.updateMissing;if(z||M||Z){if(this.logger.log(Z?"updateKey":"missingKey",g,p,h,Z?O:_),d){const be=this.resolve(h,Te(W({},l),{keySeparator:!1}));be&&be.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ae=[];const se=this.languageUtils.getFallbackCodes(this.options.fallbackLng,l.lng||this.language);if(this.options.saveMissingTo==="fallback"&&se&&se[0])for(let be=0;be<se.length;be++)ae.push(se[be]);else this.options.saveMissingTo==="all"?ae=this.languageUtils.toResolveHierarchy(l.lng||this.language):ae.push(l.lng||this.language);const Ae=(be,Le,B)=>{var te;const G=R&&B!==_?B:q;this.options.missingKeyHandler?this.options.missingKeyHandler(be,p,Le,G,Z,l):(te=this.backendConnector)!=null&&te.saveMissing&&this.backendConnector.saveMissing(be,p,Le,G,Z,l),this.emit("missingKey",be,p,Le,_)};this.options.saveMissing&&(this.options.saveMissingPlurals&&A?ae.forEach(be=>{const Le=this.pluralResolver.getSuffixes(be,l);P&&l[`defaultValue${this.options.pluralSeparator}zero`]&&Le.indexOf(`${this.options.pluralSeparator}zero`)<0&&Le.push(`${this.options.pluralSeparator}zero`),Le.forEach(B=>{Ae([be],h+B,l[`defaultValue${B}`]||O)})}):Ae(ae,h,O))}_=this.extendTranslation(_,s,l,w,c),z&&_===h&&this.options.appendNamespaceToMissingKey&&(_=`${p}:${h}`),(z||M)&&this.options.parseMissingKeyHandler&&(_=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${p}:${h}`:h,M?_:void 0))}return u?(w.res=_,w.usedParams=this.getUsedParamsDetails(l),w):_}extendTranslation(s,l,c,u,d){var g,b;var h=this;if((g=this.i18nFormat)!=null&&g.parse)s=this.i18nFormat.parse(s,W(W({},this.options.interpolation.defaultVariables),c),c.lng||this.language||u.usedLng,u.usedNS,u.usedKey,{resolved:u});else if(!c.skipInterpolation){c.interpolation&&this.interpolator.init(Te(W({},c),{interpolation:W(W({},this.options.interpolation),c.interpolation)}));const w=Mt(s)&&(((b=c==null?void 0:c.interpolation)==null?void 0:b.skipOnVariables)!==void 0?c.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let _;if(w){const E=s.match(this.interpolator.nestingRegexp);_=E&&E.length}let k=c.replace&&!Mt(c.replace)?c.replace:c;if(this.options.interpolation.defaultVariables&&(k=W(W({},this.options.interpolation.defaultVariables),k)),s=this.interpolator.interpolate(s,k,c.lng||this.language||u.usedLng,c),w){const E=s.match(this.interpolator.nestingRegexp),T=E&&E.length;_<T&&(c.nest=!1)}!c.lng&&u&&u.res&&(c.lng=this.language||u.usedLng),c.nest!==!1&&(s=this.interpolator.nest(s,function(){for(var E=arguments.length,T=new Array(E),S=0;S<E;S++)T[S]=arguments[S];return(d==null?void 0:d[0])===T[0]&&!c.context?(h.logger.warn(`It seems you are nesting recursively key: ${T[0]} in key: ${l[0]}`),null):h.translate(...T,l)},c)),c.interpolation&&this.interpolator.reset()}const m=c.postProcess||this.options.postProcess,p=Mt(m)?[m]:m;return s!=null&&(p!=null&&p.length)&&c.applyPostProcessor!==!1&&(s=ig.handle(p,s,l,this.options&&this.options.postProcessPassResolved?W({i18nResolved:Te(W({},u),{usedParams:this.getUsedParamsDetails(c)})},c):c,this)),s}resolve(s){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c,u,d,h,m;return Mt(s)&&(s=[s]),s.forEach(p=>{if(this.isValidLookup(c))return;const g=this.extractFromKey(p,l),b=g.key;u=b;let w=g.namespaces;this.options.fallbackNS&&(w=w.concat(this.options.fallbackNS));const _=l.count!==void 0&&!Mt(l.count),k=_&&!l.ordinal&&l.count===0,E=l.context!==void 0&&(Mt(l.context)||typeof l.context=="number")&&l.context!=="",T=l.lngs?l.lngs:this.languageUtils.toResolveHierarchy(l.lng||this.language,l.fallbackLng);w.forEach(S=>{var x,A;this.isValidLookup(c)||(m=S,!sg[`${T[0]}-${S}`]&&((x=this.utils)!=null&&x.hasLoadedNamespace)&&!((A=this.utils)!=null&&A.hasLoadedNamespace(m))&&(sg[`${T[0]}-${S}`]=!0,this.logger.warn(`key "${u}" for languages "${T.join(", ")}" won't get resolved as namespace "${m}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),T.forEach(R=>{var P;if(this.isValidLookup(c))return;h=R;const N=[b];if((P=this.i18nFormat)!=null&&P.addLookupKeys)this.i18nFormat.addLookupKeys(N,b,R,S,l);else{let O;_&&(O=this.pluralResolver.getSuffix(R,l.count,l));const C=`${this.options.pluralSeparator}zero`,D=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(_&&(N.push(b+O),l.ordinal&&O.indexOf(D)===0&&N.push(b+O.replace(D,this.options.pluralSeparator)),k&&N.push(b+C)),E){const L=`${b}${this.options.contextSeparator}${l.context}`;N.push(L),_&&(N.push(L+O),l.ordinal&&O.indexOf(D)===0&&N.push(L+O.replace(D,this.options.pluralSeparator)),k&&N.push(L+C))}}let F;for(;F=N.pop();)this.isValidLookup(c)||(d=F,c=this.getResource(R,S,F,l))}))})}),{res:c,usedKey:u,exactUsedKey:d,usedLng:h,usedNS:m}}isValidLookup(s){return s!==void 0&&!(!this.options.returnNull&&s===null)&&!(!this.options.returnEmptyString&&s==="")}getResource(s,l,c){var d;let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return(d=this.i18nFormat)!=null&&d.getResource?this.i18nFormat.getResource(s,l,c,u):this.resourceStore.getResource(s,l,c,u)}getUsedParamsDetails(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const l=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],c=s.replace&&!Mt(s.replace);let u=c?s.replace:s;if(c&&typeof s.count!="undefined"&&(u.count=s.count),this.options.interpolation.defaultVariables&&(u=W(W({},this.options.interpolation.defaultVariables),u)),!c){u=W({},u);for(const d of l)delete u[d]}return u}static hasDefaultValue(s){const l="defaultValue";for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)&&l===c.substring(0,l.length)&&s[c]!==void 0)return!0;return!1}}class cg{constructor(s){this.options=s,this.supportedLngs=this.options.supportedLngs||!1,this.logger=za.create("languageUtils")}getScriptPartFromCode(s){if(s=mc(s),!s||s.indexOf("-")<0)return null;const l=s.split("-");return l.length===2||(l.pop(),l[l.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(l.join("-"))}getLanguagePartFromCode(s){if(s=mc(s),!s||s.indexOf("-")<0)return s;const l=s.split("-");return this.formatLanguageCode(l[0])}formatLanguageCode(s){if(Mt(s)&&s.indexOf("-")>-1){let l;try{l=Intl.getCanonicalLocales(s)[0]}catch(c){}return l&&this.options.lowerCaseLng&&(l=l.toLowerCase()),l||(this.options.lowerCaseLng?s.toLowerCase():s)}return this.options.cleanCode||this.options.lowerCaseLng?s.toLowerCase():s}isSupportedCode(s){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(s=this.getLanguagePartFromCode(s)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(s)>-1}getBestMatchFromCodes(s){if(!s)return null;let l;return s.forEach(c=>{if(l)return;const u=this.formatLanguageCode(c);(!this.options.supportedLngs||this.isSupportedCode(u))&&(l=u)}),!l&&this.options.supportedLngs&&s.forEach(c=>{if(l)return;const u=this.getLanguagePartFromCode(c);if(this.isSupportedCode(u))return l=u;l=this.options.supportedLngs.find(d=>{if(d===u)return d;if(!(d.indexOf("-")<0&&u.indexOf("-")<0)&&(d.indexOf("-")>0&&u.indexOf("-")<0&&d.substring(0,d.indexOf("-"))===u||d.indexOf(u)===0&&u.length>1))return d})}),l||(l=this.getFallbackCodes(this.options.fallbackLng)[0]),l}getFallbackCodes(s,l){if(!s)return[];if(typeof s=="function"&&(s=s(l)),Mt(s)&&(s=[s]),Array.isArray(s))return s;if(!l)return s.default||[];let c=s[l];return c||(c=s[this.getScriptPartFromCode(l)]),c||(c=s[this.formatLanguageCode(l)]),c||(c=s[this.getLanguagePartFromCode(l)]),c||(c=s.default),c||[]}toResolveHierarchy(s,l){const c=this.getFallbackCodes(l||this.options.fallbackLng||[],s),u=[],d=h=>{h&&(this.isSupportedCode(h)?u.push(h):this.logger.warn(`rejecting language code not found in supportedLngs: ${h}`))};return Mt(s)&&(s.indexOf("-")>-1||s.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&d(this.formatLanguageCode(s)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&d(this.getScriptPartFromCode(s)),this.options.load!=="currentOnly"&&d(this.getLanguagePartFromCode(s))):Mt(s)&&d(this.formatLanguageCode(s)),c.forEach(h=>{u.indexOf(h)<0&&d(this.formatLanguageCode(h))}),u}}const ug={zero:0,one:1,two:2,few:3,many:4,other:5},dg={select:i=>i===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class dx{constructor(s){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=s,this.options=l,this.logger=za.create("pluralResolver"),this.pluralRulesCache={}}addRule(s,l){this.rules[s]=l}clearCache(){this.pluralRulesCache={}}getRule(s){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const c=mc(s==="dev"?"en":s),u=l.ordinal?"ordinal":"cardinal",d=JSON.stringify({cleanedCode:c,type:u});if(d in this.pluralRulesCache)return this.pluralRulesCache[d];let h;try{h=new Intl.PluralRules(c,{type:u})}catch(m){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),dg;if(!s.match(/-|_/))return dg;const p=this.languageUtils.getLanguagePartFromCode(s);h=this.getRule(p,l)}return this.pluralRulesCache[d]=h,h}needsPlural(s){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=this.getRule(s,l);return c||(c=this.getRule("dev",l)),(c==null?void 0:c.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(s,l){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(s,c).map(u=>`${l}${u}`)}getSuffixes(s){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=this.getRule(s,l);return c||(c=this.getRule("dev",l)),c?c.resolvedOptions().pluralCategories.sort((u,d)=>ug[u]-ug[d]).map(u=>`${this.options.prepend}${l.ordinal?`ordinal${this.options.prepend}`:""}${u}`):[]}getSuffix(s,l){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const u=this.getRule(s,c);return u?`${this.options.prepend}${c.ordinal?`ordinal${this.options.prepend}`:""}${u.select(l)}`:(this.logger.warn(`no plural rule found for: ${s}`),this.getSuffix("dev",l,c))}}const fg=function(i,s,l){let c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,d=rx(i,s,l);return!d&&u&&Mt(l)&&(d=Ad(i,l,c),d===void 0&&(d=Ad(s,l,c))),d},Od=i=>i.replace(/\$/g,"$$$$");class fx{constructor(){var l;let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=za.create("interpolator"),this.options=s,this.format=((l=s==null?void 0:s.interpolation)==null?void 0:l.format)||(c=>c),this.init(s)}init(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};s.interpolation||(s.interpolation={escapeValue:!0});const{escape:l,escapeValue:c,useRawValueToEscape:u,prefix:d,prefixEscaped:h,suffix:m,suffixEscaped:p,formatSeparator:g,unescapeSuffix:b,unescapePrefix:w,nestingPrefix:_,nestingPrefixEscaped:k,nestingSuffix:E,nestingSuffixEscaped:T,nestingOptionsSeparator:S,maxReplaces:x,alwaysFormat:A}=s.interpolation;this.escape=l!==void 0?l:ox,this.escapeValue=c!==void 0?c:!0,this.useRawValueToEscape=u!==void 0?u:!1,this.prefix=d?Mi(d):h||"{{",this.suffix=m?Mi(m):p||"}}",this.formatSeparator=g||",",this.unescapePrefix=b?"":w||"-",this.unescapeSuffix=this.unescapePrefix?"":b||"",this.nestingPrefix=_?Mi(_):k||Mi("$t("),this.nestingSuffix=E?Mi(E):T||Mi(")"),this.nestingOptionsSeparator=S||",",this.maxReplaces=x||1e3,this.alwaysFormat=A!==void 0?A:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const s=(l,c)=>(l==null?void 0:l.source)===c?(l.lastIndex=0,l):new RegExp(c,"g");this.regexp=s(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=s(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=s(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(s,l,c,u){var k;let d,h,m;const p=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},g=E=>{if(E.indexOf(this.formatSeparator)<0){const A=fg(l,p,E,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(A,void 0,c,Te(W(W({},u),l),{interpolationkey:E})):A}const T=E.split(this.formatSeparator),S=T.shift().trim(),x=T.join(this.formatSeparator).trim();return this.format(fg(l,p,S,this.options.keySeparator,this.options.ignoreJSONStructure),x,c,Te(W(W({},u),l),{interpolationkey:S}))};this.resetRegExp();const b=(u==null?void 0:u.missingInterpolationHandler)||this.options.missingInterpolationHandler,w=((k=u==null?void 0:u.interpolation)==null?void 0:k.skipOnVariables)!==void 0?u.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:E=>Od(E)},{regex:this.regexp,safeValue:E=>this.escapeValue?Od(this.escape(E)):Od(E)}].forEach(E=>{for(m=0;d=E.regex.exec(s);){const T=d[1].trim();if(h=g(T),h===void 0)if(typeof b=="function"){const x=b(s,d,u);h=Mt(x)?x:""}else if(u&&Object.prototype.hasOwnProperty.call(u,T))h="";else if(w){h=d[0];continue}else this.logger.warn(`missed to pass in variable ${T} for interpolating ${s}`),h="";else!Mt(h)&&!this.useRawValueToEscape&&(h=eg(h));const S=E.safeValue(h);if(s=s.replace(d[0],S),w?(E.regex.lastIndex+=h.length,E.regex.lastIndex-=d[0].length):E.regex.lastIndex=0,m++,m>=this.maxReplaces)break}}),s}nest(s,l){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u,d,h;const m=(p,g)=>{var T;const b=this.nestingOptionsSeparator;if(p.indexOf(b)<0)return p;const w=p.split(new RegExp(`${b}[ ]*{`));let _=`{${w[1]}`;p=w[0],_=this.interpolate(_,h);const k=_.match(/'/g),E=_.match(/"/g);(((T=k==null?void 0:k.length)!=null?T:0)%2===0&&!E||E.length%2!==0)&&(_=_.replace(/'/g,'"'));try{h=JSON.parse(_),g&&(h=W(W({},g),h))}catch(S){return this.logger.warn(`failed parsing options string in nesting for key ${p}`,S),`${p}${b}${_}`}return h.defaultValue&&h.defaultValue.indexOf(this.prefix)>-1&&delete h.defaultValue,p};for(;u=this.nestingRegexp.exec(s);){let p=[];h=W({},c),h=h.replace&&!Mt(h.replace)?h.replace:h,h.applyPostProcessor=!1,delete h.defaultValue;let g=!1;if(u[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(u[1])){const b=u[1].split(this.formatSeparator).map(w=>w.trim());u[1]=b.shift(),p=b,g=!0}if(d=l(m.call(this,u[1].trim(),h),h),d&&u[0]===s&&!Mt(d))return d;Mt(d)||(d=eg(d)),d||(this.logger.warn(`missed to resolve ${u[1]} for nesting ${s}`),d=""),g&&(d=p.reduce((b,w)=>this.format(b,w,c.lng,Te(W({},c),{interpolationkey:u[1].trim()})),d.trim())),s=s.replace(u[0],d),this.regexp.lastIndex=0}return s}}const hx=i=>{let s=i.toLowerCase().trim();const l={};if(i.indexOf("(")>-1){const c=i.split("(");s=c[0].toLowerCase().trim();const u=c[1].substring(0,c[1].length-1);s==="currency"&&u.indexOf(":")<0?l.currency||(l.currency=u.trim()):s==="relativetime"&&u.indexOf(":")<0?l.range||(l.range=u.trim()):u.split(";").forEach(h=>{if(h){const[m,...p]=h.split(":"),g=p.join(":").trim().replace(/^'+|'+$/g,""),b=m.trim();l[b]||(l[b]=g),g==="false"&&(l[b]=!1),g==="true"&&(l[b]=!0),isNaN(g)||(l[b]=parseInt(g,10))}})}return{formatName:s,formatOptions:l}},Li=i=>{const s={};return(l,c,u)=>{let d=u;u&&u.interpolationkey&&u.formatParams&&u.formatParams[u.interpolationkey]&&u[u.interpolationkey]&&(d=Te(W({},d),{[u.interpolationkey]:void 0}));const h=c+JSON.stringify(d);let m=s[h];return m||(m=i(mc(c),u),s[h]=m),m(l)}};class mx{constructor(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=za.create("formatter"),this.options=s,this.formats={number:Li((l,c)=>{const u=new Intl.NumberFormat(l,W({},c));return d=>u.format(d)}),currency:Li((l,c)=>{const u=new Intl.NumberFormat(l,Te(W({},c),{style:"currency"}));return d=>u.format(d)}),datetime:Li((l,c)=>{const u=new Intl.DateTimeFormat(l,W({},c));return d=>u.format(d)}),relativetime:Li((l,c)=>{const u=new Intl.RelativeTimeFormat(l,W({},c));return d=>u.format(d,c.range||"day")}),list:Li((l,c)=>{const u=new Intl.ListFormat(l,W({},c));return d=>u.format(d)})},this.init(s)}init(s){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=l.interpolation.formatSeparator||","}add(s,l){this.formats[s.toLowerCase().trim()]=l}addCached(s,l){this.formats[s.toLowerCase().trim()]=Li(l)}format(s,l,c){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const d=l.split(this.formatSeparator);if(d.length>1&&d[0].indexOf("(")>1&&d[0].indexOf(")")<0&&d.find(m=>m.indexOf(")")>-1)){const m=d.findIndex(p=>p.indexOf(")")>-1);d[0]=[d[0],...d.splice(1,m)].join(this.formatSeparator)}return d.reduce((m,p)=>{var w;const{formatName:g,formatOptions:b}=hx(p);if(this.formats[g]){let _=m;try{const k=((w=u==null?void 0:u.formatParams)==null?void 0:w[u.interpolationkey])||{},E=k.locale||k.lng||u.locale||u.lng||c;_=this.formats[g](m,E,W(W(W({},b),u),k))}catch(k){this.logger.warn(k)}return _}else this.logger.warn(`there was no format function for ${g}`);return m},s)}}const px=(i,s)=>{i.pending[s]!==void 0&&(delete i.pending[s],i.pendingCount--)};class gx extends gc{constructor(s,l,c){var d,h;let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=s,this.store=l,this.services=c,this.languageUtils=c.languageUtils,this.options=u,this.logger=za.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=u.maxParallelReads||10,this.readingCalls=0,this.maxRetries=u.maxRetries>=0?u.maxRetries:5,this.retryTimeout=u.retryTimeout>=1?u.retryTimeout:350,this.state={},this.queue=[],(h=(d=this.backend)==null?void 0:d.init)==null||h.call(d,c,u.backend,u)}queueLoad(s,l,c,u){const d={},h={},m={},p={};return s.forEach(g=>{let b=!0;l.forEach(w=>{const _=`${g}|${w}`;!c.reload&&this.store.hasResourceBundle(g,w)?this.state[_]=2:this.state[_]<0||(this.state[_]===1?h[_]===void 0&&(h[_]=!0):(this.state[_]=1,b=!1,h[_]===void 0&&(h[_]=!0),d[_]===void 0&&(d[_]=!0),p[w]===void 0&&(p[w]=!0)))}),b||(m[g]=!0)}),(Object.keys(d).length||Object.keys(h).length)&&this.queue.push({pending:h,pendingCount:Object.keys(h).length,loaded:{},errors:[],callback:u}),{toLoad:Object.keys(d),pending:Object.keys(h),toLoadLanguages:Object.keys(m),toLoadNamespaces:Object.keys(p)}}loaded(s,l,c){const u=s.split("|"),d=u[0],h=u[1];l&&this.emit("failedLoading",d,h,l),!l&&c&&this.store.addResourceBundle(d,h,c,void 0,void 0,{skipCopy:!0}),this.state[s]=l?-1:2,l&&c&&(this.state[s]=0);const m={};this.queue.forEach(p=>{nx(p.loaded,[d],h),px(p,s),l&&p.errors.push(l),p.pendingCount===0&&!p.done&&(Object.keys(p.loaded).forEach(g=>{m[g]||(m[g]={});const b=p.loaded[g];b.length&&b.forEach(w=>{m[g][w]===void 0&&(m[g][w]=!0)})}),p.done=!0,p.errors.length?p.callback(p.errors):p.callback())}),this.emit("loaded",m),this.queue=this.queue.filter(p=>!p.done)}read(s,l,c){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,d=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,h=arguments.length>5?arguments[5]:void 0;if(!s.length)return h(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:s,ns:l,fcName:c,tried:u,wait:d,callback:h});return}this.readingCalls++;const m=(g,b)=>{if(this.readingCalls--,this.waitingReads.length>0){const w=this.waitingReads.shift();this.read(w.lng,w.ns,w.fcName,w.tried,w.wait,w.callback)}if(g&&b&&u<this.maxRetries){setTimeout(()=>{this.read.call(this,s,l,c,u+1,d*2,h)},d);return}h(g,b)},p=this.backend[c].bind(this.backend);if(p.length===2){try{const g=p(s,l);g&&typeof g.then=="function"?g.then(b=>m(null,b)).catch(m):m(null,g)}catch(g){m(g)}return}return p(s,l,m)}prepareLoading(s,l){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),u&&u();Mt(s)&&(s=this.languageUtils.toResolveHierarchy(s)),Mt(l)&&(l=[l]);const d=this.queueLoad(s,l,c,u);if(!d.toLoad.length)return d.pending.length||u(),null;d.toLoad.forEach(h=>{this.loadOne(h)})}load(s,l,c){this.prepareLoading(s,l,{},c)}reload(s,l,c){this.prepareLoading(s,l,{reload:!0},c)}loadOne(s){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const c=s.split("|"),u=c[0],d=c[1];this.read(u,d,"read",void 0,void 0,(h,m)=>{h&&this.logger.warn(`${l}loading namespace ${d} for language ${u} failed`,h),!h&&m&&this.logger.log(`${l}loaded namespace ${d} for language ${u}`,m),this.loaded(s,h,m)})}saveMissing(s,l,c,u,d){var p,g,b,w,_;let h=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},m=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if((g=(p=this.services)==null?void 0:p.utils)!=null&&g.hasLoadedNamespace&&!((w=(b=this.services)==null?void 0:b.utils)!=null&&w.hasLoadedNamespace(l))){this.logger.warn(`did not save key "${c}" as the namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(c==null||c==="")){if((_=this.backend)!=null&&_.create){const k=Te(W({},h),{isUpdate:d}),E=this.backend.create.bind(this.backend);if(E.length<6)try{let T;E.length===5?T=E(s,l,c,u,k):T=E(s,l,c,u),T&&typeof T.then=="function"?T.then(S=>m(null,S)).catch(m):m(null,T)}catch(T){m(T)}else E(s,l,c,u,m,k)}!s||!s[0]||this.store.addResource(s[0],l,c,u)}}}const hg=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:i=>{let s={};if(typeof i[1]=="object"&&(s=i[1]),Mt(i[1])&&(s.defaultValue=i[1]),Mt(i[2])&&(s.tDescription=i[2]),typeof i[2]=="object"||typeof i[3]=="object"){const l=i[3]||i[2];Object.keys(l).forEach(c=>{s[c]=l[c]})}return s},interpolation:{escapeValue:!0,format:i=>i,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),mg=i=>{var s,l;return Mt(i.ns)&&(i.ns=[i.ns]),Mt(i.fallbackLng)&&(i.fallbackLng=[i.fallbackLng]),Mt(i.fallbackNS)&&(i.fallbackNS=[i.fallbackNS]),((l=(s=i.supportedLngs)==null?void 0:s.indexOf)==null?void 0:l.call(s,"cimode"))<0&&(i.supportedLngs=i.supportedLngs.concat(["cimode"])),typeof i.initImmediate=="boolean"&&(i.initAsync=i.initImmediate),i},vc=()=>{},bx=i=>{Object.getOwnPropertyNames(Object.getPrototypeOf(i)).forEach(l=>{typeof i[l]=="function"&&(i[l]=i[l].bind(i))})};class Ws extends gc{constructor(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments.length>1?arguments[1]:void 0;if(super(),this.options=mg(s),this.services={},this.logger=za,this.modules={external:[]},bx(this),l&&!this.isInitialized&&!s.isClone){if(!this.options.initAsync)return this.init(s,l),this;setTimeout(()=>{this.init(s,l)},0)}}init(){var s=this;let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof l=="function"&&(c=l,l={}),l.defaultNS==null&&l.ns&&(Mt(l.ns)?l.defaultNS=l.ns:l.ns.indexOf("translation")<0&&(l.defaultNS=l.ns[0]));const u=hg();this.options=W(W(W({},u),this.options),mg(l)),this.options.interpolation=W(W({},u.interpolation),this.options.interpolation),l.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=l.keySeparator),l.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=l.nsSeparator);const d=b=>b?typeof b=="function"?new b:b:null;if(!this.options.isClone){this.modules.logger?za.init(d(this.modules.logger),this.options):za.init(null,this.options);let b;this.modules.formatter?b=this.modules.formatter:b=mx;const w=new cg(this.options);this.store=new og(this.options.resources,this.options);const _=this.services;_.logger=za,_.resourceStore=this.store,_.languageUtils=w,_.pluralResolver=new dx(w,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),b&&(!this.options.interpolation.format||this.options.interpolation.format===u.interpolation.format)&&(_.formatter=d(b),_.formatter.init(_,this.options),this.options.interpolation.format=_.formatter.format.bind(_.formatter)),_.interpolator=new fx(this.options),_.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},_.backendConnector=new gx(d(this.modules.backend),_.resourceStore,_,this.options),_.backendConnector.on("*",function(k){for(var E=arguments.length,T=new Array(E>1?E-1:0),S=1;S<E;S++)T[S-1]=arguments[S];s.emit(k,...T)}),this.modules.languageDetector&&(_.languageDetector=d(this.modules.languageDetector),_.languageDetector.init&&_.languageDetector.init(_,this.options.detection,this.options)),this.modules.i18nFormat&&(_.i18nFormat=d(this.modules.i18nFormat),_.i18nFormat.init&&_.i18nFormat.init(this)),this.translator=new bc(this.services,this.options),this.translator.on("*",function(k){for(var E=arguments.length,T=new Array(E>1?E-1:0),S=1;S<E;S++)T[S-1]=arguments[S];s.emit(k,...T)}),this.modules.external.forEach(k=>{k.init&&k.init(this)})}if(this.format=this.options.interpolation.format,c||(c=vc),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const b=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);b.length>0&&b[0]!=="dev"&&(this.options.lng=b[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(b=>{this[b]=function(){return s.store[b](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(b=>{this[b]=function(){return s.store[b](...arguments),s}});const p=Fs(),g=()=>{const b=(w,_)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),p.resolve(_),c(w,_)};if(this.languages&&!this.isInitialized)return b(null,this.t.bind(this));this.changeLanguage(this.options.lng,b)};return this.options.resources||!this.options.initAsync?g():setTimeout(g,0),p}loadResources(s){var d,h;let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vc;const u=Mt(s)?s:this.language;if(typeof s=="function"&&(c=s),!this.options.resources||this.options.partialBundledLanguages){if((u==null?void 0:u.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return c();const m=[],p=g=>{if(!g||g==="cimode")return;this.services.languageUtils.toResolveHierarchy(g).forEach(w=>{w!=="cimode"&&m.indexOf(w)<0&&m.push(w)})};u?p(u):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(b=>p(b)),(h=(d=this.options.preload)==null?void 0:d.forEach)==null||h.call(d,g=>p(g)),this.services.backendConnector.load(m,this.options.ns,g=>{!g&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),c(g)})}else c(null)}reloadResources(s,l,c){const u=Fs();return typeof s=="function"&&(c=s,s=void 0),typeof l=="function"&&(c=l,l=void 0),s||(s=this.languages),l||(l=this.options.ns),c||(c=vc),this.services.backendConnector.reload(s,l,d=>{u.resolve(),c(d)}),u}use(s){if(!s)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!s.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return s.type==="backend"&&(this.modules.backend=s),(s.type==="logger"||s.log&&s.warn&&s.error)&&(this.modules.logger=s),s.type==="languageDetector"&&(this.modules.languageDetector=s),s.type==="i18nFormat"&&(this.modules.i18nFormat=s),s.type==="postProcessor"&&ig.addPostProcessor(s),s.type==="formatter"&&(this.modules.formatter=s),s.type==="3rdParty"&&this.modules.external.push(s),this}setResolvedLanguage(s){if(!(!s||!this.languages)&&!(["cimode","dev"].indexOf(s)>-1))for(let l=0;l<this.languages.length;l++){const c=this.languages[l];if(!(["cimode","dev"].indexOf(c)>-1)&&this.store.hasLanguageSomeTranslations(c)){this.resolvedLanguage=c;break}}}changeLanguage(s,l){var c=this;this.isLanguageChangingTo=s;const u=Fs();this.emit("languageChanging",s);const d=p=>{this.language=p,this.languages=this.services.languageUtils.toResolveHierarchy(p),this.resolvedLanguage=void 0,this.setResolvedLanguage(p)},h=(p,g)=>{g?(d(g),this.translator.changeLanguage(g),this.isLanguageChangingTo=void 0,this.emit("languageChanged",g),this.logger.log("languageChanged",g)):this.isLanguageChangingTo=void 0,u.resolve(function(){return c.t(...arguments)}),l&&l(p,function(){return c.t(...arguments)})},m=p=>{var b,w;!s&&!p&&this.services.languageDetector&&(p=[]);const g=Mt(p)?p:this.services.languageUtils.getBestMatchFromCodes(p);g&&(this.language||d(g),this.translator.language||this.translator.changeLanguage(g),(w=(b=this.services.languageDetector)==null?void 0:b.cacheUserLanguage)==null||w.call(b,g)),this.loadResources(g,_=>{h(_,g)})};return!s&&this.services.languageDetector&&!this.services.languageDetector.async?m(this.services.languageDetector.detect()):!s&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(m):this.services.languageDetector.detect(m):m(s),u}getFixedT(s,l,c){var u=this;const d=function(h,m){let p;if(typeof m!="object"){for(var g=arguments.length,b=new Array(g>2?g-2:0),w=2;w<g;w++)b[w-2]=arguments[w];p=u.options.overloadTranslationOptionHandler([h,m].concat(b))}else p=W({},m);p.lng=p.lng||d.lng,p.lngs=p.lngs||d.lngs,p.ns=p.ns||d.ns,p.keyPrefix!==""&&(p.keyPrefix=p.keyPrefix||c||d.keyPrefix);const _=u.options.keySeparator||".";let k;return p.keyPrefix&&Array.isArray(h)?k=h.map(E=>`${p.keyPrefix}${_}${E}`):k=p.keyPrefix?`${p.keyPrefix}${_}${h}`:h,u.t(k,p)};return Mt(s)?d.lng=s:d.lngs=s,d.ns=l,d.keyPrefix=c,d}t(){var u;for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];return(u=this.translator)==null?void 0:u.translate(...l)}exists(){var u;for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];return(u=this.translator)==null?void 0:u.exists(...l)}setDefaultNamespace(s){this.options.defaultNS=s}hasLoadedNamespace(s){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const c=l.lng||this.resolvedLanguage||this.languages[0],u=this.options?this.options.fallbackLng:!1,d=this.languages[this.languages.length-1];if(c.toLowerCase()==="cimode")return!0;const h=(m,p)=>{const g=this.services.backendConnector.state[`${m}|${p}`];return g===-1||g===0||g===2};if(l.precheck){const m=l.precheck(this,h);if(m!==void 0)return m}return!!(this.hasResourceBundle(c,s)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||h(c,s)&&(!u||h(d,s)))}loadNamespaces(s,l){const c=Fs();return this.options.ns?(Mt(s)&&(s=[s]),s.forEach(u=>{this.options.ns.indexOf(u)<0&&this.options.ns.push(u)}),this.loadResources(u=>{c.resolve(),l&&l(u)}),c):(l&&l(),Promise.resolve())}loadLanguages(s,l){const c=Fs();Mt(s)&&(s=[s]);const u=this.options.preload||[],d=s.filter(h=>u.indexOf(h)<0&&this.services.languageUtils.isSupportedCode(h));return d.length?(this.options.preload=u.concat(d),this.loadResources(h=>{c.resolve(),l&&l(h)}),c):(l&&l(),Promise.resolve())}dir(s){var u,d;if(s||(s=this.resolvedLanguage||(((u=this.languages)==null?void 0:u.length)>0?this.languages[0]:this.language)),!s)return"rtl";const l=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],c=((d=this.services)==null?void 0:d.languageUtils)||new cg(hg());return l.indexOf(c.getLanguagePartFromCode(s))>-1||s.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments.length>1?arguments[1]:void 0;return new Ws(s,l)}cloneInstance(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vc;const c=s.forkResourceStore;c&&delete s.forkResourceStore;const u=Te(W(W({},this.options),s),{isClone:!0}),d=new Ws(u);if((s.debug!==void 0||s.prefix!==void 0)&&(d.logger=d.logger.clone(s)),["store","services","language"].forEach(m=>{d[m]=this[m]}),d.services=W({},this.services),d.services.utils={hasLoadedNamespace:d.hasLoadedNamespace.bind(d)},c){const m=Object.keys(this.store.data).reduce((p,g)=>(p[g]=W({},this.store.data[g]),Object.keys(p[g]).reduce((b,w)=>(b[w]=W({},p[g][w]),b),{})),{});d.store=new og(m,u),d.services.resourceStore=d.store}return d.translator=new bc(d.services,u),d.translator.on("*",function(m){for(var p=arguments.length,g=new Array(p>1?p-1:0),b=1;b<p;b++)g[b-1]=arguments[b];d.emit(m,...g)}),d.init(u,l),d.translator.options=u,d.translator.backendConnector.services.utils={hasLoadedNamespace:d.hasLoadedNamespace.bind(d)},d}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const fr=Ws.createInstance();fr.createInstance=Ws.createInstance;const eA=fr.createInstance,tA=fr.dir,nA=fr.init,rA=fr.loadResources,aA=fr.reloadResources,oA=fr.use,iA=fr.changeLanguage,sA=fr.getFixedT,lA=fr.t,cA=fr.exists,uA=fr.setDefaultNamespace,dA=fr.hasLoadedNamespace,fA=fr.loadNamespaces,hA=fr.loadLanguages;var vx=de(4915),yx=de.n(vx),wx=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function pg(i){var s={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},l=i.match(/<\/?([^\s]+?)[/\s>]/);if(l&&(s.name=l[1],(yx()[l[1]]||i.charAt(i.length-2)==="/")&&(s.voidElement=!0),s.name.startsWith("!--"))){var c=i.indexOf("-->");return{type:"comment",comment:c!==-1?i.slice(4,c):""}}for(var u=new RegExp(wx),d=null;(d=u.exec(i))!==null;)if(d[0].trim())if(d[1]){var h=d[1].trim(),m=[h,""];h.indexOf("=")>-1&&(m=h.split("=")),s.attrs[m[0]]=m[1],u.lastIndex--}else d[2]&&(s.attrs[d[2]]=d[3].trim().substring(1,d[3].length-1));return s}var _x=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,kx=/^\s*$/,xx=Object.create(null);function gg(i,s){switch(s.type){case"text":return i+s.content;case"tag":return i+="<"+s.name+(s.attrs?function(l){var c=[];for(var u in l)c.push(u+'="'+l[u]+'"');return c.length?" "+c.join(" "):""}(s.attrs):"")+(s.voidElement?"/>":">"),s.voidElement?i:i+s.children.reduce(gg,"")+"</"+s.name+">";case"comment":return i+"<!--"+s.comment+"-->"}}var mA={parse:function(i,s){s||(s={}),s.components||(s.components=xx);var l,c=[],u=[],d=-1,h=!1;if(i.indexOf("<")!==0){var m=i.indexOf("<");c.push({type:"text",content:m===-1?i:i.substring(0,m)})}return i.replace(_x,function(p,g){if(h){if(p!=="</"+l.name+">")return;h=!1}var b,w=p.charAt(1)!=="/",_=p.startsWith("<!--"),k=g+p.length,E=i.charAt(k);if(_){var T=pg(p);return d<0?(c.push(T),c):((b=u[d]).children.push(T),c)}if(w&&(d++,(l=pg(p)).type==="tag"&&s.components[l.name]&&(l.type="component",h=!0),l.voidElement||h||!E||E==="<"||l.children.push({type:"text",content:i.slice(k,i.indexOf("<",k))}),d===0&&c.push(l),(b=u[d-1])&&b.children.push(l),u[d]=l),(!w||l.voidElement)&&(d>-1&&(l.voidElement||l.name===p.slice(2,-1))&&(d--,l=d===-1?c:u[d]),!h&&E!=="<"&&E)){b=d===-1?c:u[d].children;var S=i.indexOf("<",k),x=i.slice(k,S===-1?void 0:S);kx.test(x)&&(x=" "),(S>-1&&d+b.length>=0||x!==" ")&&b.push({type:"text",content:x})}}),c},stringify:function(i){return i.reduce(function(s,l){return s+gg("",l)},"")}};const pA=null,Ex=(i,s,l,c)=>{var d,h,m,p;const u=[l,W({code:s},c||{})];if((h=(d=i==null?void 0:i.services)==null?void 0:d.logger)!=null&&h.forward)return i.services.logger.forward(u,"warn","react-i18next::",!0);ko(u[0])&&(u[0]=`react-i18next:: ${u[0]}`),(p=(m=i==null?void 0:i.services)==null?void 0:m.logger)!=null&&p.warn?i.services.logger.warn(...u):console!=null&&console.warn&&console.warn(...u)},bg={},Nd=(i,s,l,c)=>{ko(l)&&bg[l]||(ko(l)&&(bg[l]=new Date),Ex(i,s,l,c))},vg=(i,s)=>()=>{if(i.isInitialized)s();else{const l=()=>{setTimeout(()=>{i.off("initialized",l)},0),s()};i.on("initialized",l)}},Rd=(i,s,l)=>{i.loadNamespaces(s,vg(i,l))},yg=(i,s,l,c)=>{if(ko(l)&&(l=[l]),i.options.preload&&i.options.preload.indexOf(s)>-1)return Rd(i,l,c);l.forEach(u=>{i.options.ns.indexOf(u)<0&&i.options.ns.push(u)}),i.loadLanguages(s,vg(i,c))},Cx=(i,s,l={})=>!s.languages||!s.languages.length?(Nd(s,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:s.languages}),!0):s.hasLoadedNamespace(i,{lng:l.lng,precheck:(c,u)=>{var d;if(((d=l.bindI18n)==null?void 0:d.indexOf("languageChanging"))>-1&&c.services.backendConnector.backend&&c.isLanguageChangingTo&&!u(c.isLanguageChangingTo,i))return!1}}),gA=i=>i.displayName||i.name||(ko(i)&&i.length>0?i:"Unknown"),ko=i=>typeof i=="string",Sx=i=>typeof i=="object"&&i!==null,Tx=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Ax={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"\xA9","&#169;":"\xA9","&reg;":"\xAE","&#174;":"\xAE","&hellip;":"\u2026","&#8230;":"\u2026","&#x2F;":"/","&#47;":"/"},Ox=i=>Ax[i];let Pd={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:i=>i.replace(Tx,Ox)};const Nx=(i={})=>{Pd=W(W({},Pd),i)},Rx=()=>Pd,Id=(i,s)=>{var c,u;if(!i)return!1;const l=(u=(c=i.props)==null?void 0:c.children)!=null?u:i.children;return s?l.length>0:!!l},Md=i=>{var l,c,u;if(!i)return[];const s=(c=(l=i.props)==null?void 0:l.children)!=null?c:i.children;return(u=i.props)!=null&&u.i18nIsDynamicList?Di(s):s},Px=i=>Array.isArray(i)&&i.every(isValidElement),Di=i=>Array.isArray(i)?i:[i],Ix=(i,s)=>{const l=W({},s);return l.props=Object.assign(i.props,s.props),l},wg=(i,s,l,c)=>{var m;if(!i)return"";let u="";const d=Di(i),h=s!=null&&s.transSupportBasicHtmlNodes?(m=s.transKeepBasicHtmlNodesFor)!=null?m:[]:[];return d.forEach((p,g)=>{if(isString(p)){u+=`${p}`;return}if(isValidElement(p)){const{props:w,type:_}=p,k=Object.keys(w).length,E=h.indexOf(_)>-1,T=w.children;if(!T&&E&&!k){u+=`<${_}/>`;return}if(!T&&(!E||k)||w.i18nIsDynamicList){u+=`<${g}></${g}>`;return}if(E&&k===1&&isString(T)){u+=`<${_}>${T}</${_}>`;return}const S=wg(T,s,l,c);u+=`<${g}>${S}</${g}>`;return}if(p===null){warn(l,"TRANS_NULL_VALUE","Passed in a null value as child",{i18nKey:c});return}if(isObject(p)){const b=p,{format:w}=b,_=gn(b,["format"]),k=Object.keys(_);if(k.length===1){const E=w?`${k[0]}, ${w}`:k[0];u+=`{{${E}}}`;return}warn(l,"TRANS_INVALID_OBJ","Invalid child - Object should only have keys {{ value, format }} (format is optional).",{i18nKey:c,child:p});return}warn(l,"TRANS_INVALID_VAR","Passed in a variable like {number} - pass variables for interpolation as full objects like {{number}}.",{i18nKey:c,child:p})}),u},Mx=(i,s,l,c,u,d)=>{if(s==="")return[];const h=c.transKeepBasicHtmlNodesFor||[],m=s&&new RegExp(h.map(S=>`<${S}`).join("|")).test(s);if(!i&&!m&&!d)return[s];const p={},g=S=>{Di(S).forEach(A=>{isString(A)||(Id(A)?g(Md(A)):isObject(A)&&!isValidElement(A)&&Object.assign(p,A))})};g(i);const b=HTML.parse(`<0>${s}</0>`),w=W(W({},p),u),_=(S,x,A)=>{var F;const R=Md(S),N=E(R,x.children,A);return Px(R)&&N.length===0||(F=S.props)!=null&&F.i18nIsDynamicList?R:N},k=(S,x,A,R,N)=>{S.dummy?(S.children=x,A.push(cloneElement(S,{key:R},N?void 0:x))):A.push(...Children.map([S],F=>{const P=W({},F.props);return delete P.i18nIsDynamicList,createElement(F.type,Te(W({},P),{key:R,ref:F.ref}),N?null:x)}))},E=(S,x,A)=>{const R=Di(S);return Di(x).reduce((F,P,O)=>{var D,L;const C=((L=(D=P.children)==null?void 0:D[0])==null?void 0:L.content)&&l.services.interpolator.interpolate(P.children[0].content,w,l.language);if(P.type==="tag"){let M=R[parseInt(P.name,10)];A.length===1&&!M&&(M=A[0][P.name]),M||(M={});const z=Object.keys(P.attrs).length!==0?Ix({props:P.attrs},M):M,I=isValidElement(z),q=I&&Id(P,!0)&&!P.voidElement,Z=m&&isObject(z)&&z.dummy&&!I,ae=isObject(i)&&Object.hasOwnProperty.call(i,P.name);if(isString(z)){const se=l.services.interpolator.interpolate(z,w,l.language);F.push(se)}else if(Id(z)||q){const se=_(z,P,A);k(z,se,F,O)}else if(Z){const se=E(R,P.children,A);k(z,se,F,O)}else if(Number.isNaN(parseFloat(P.name)))if(ae){const se=_(z,P,A);k(z,se,F,O,P.voidElement)}else if(c.transSupportBasicHtmlNodes&&h.indexOf(P.name)>-1)if(P.voidElement)F.push(createElement(P.name,{key:`${P.name}-${O}`}));else{const se=E(R,P.children,A);F.push(createElement(P.name,{key:`${P.name}-${O}`},se))}else if(P.voidElement)F.push(`<${P.name} />`);else{const se=E(R,P.children,A);F.push(`<${P.name}>${se}</${P.name}>`)}else if(isObject(z)&&!I){const se=P.children[0]?C:null;se&&F.push(se)}else k(z,C,F,O,P.children.length!==1||!C)}else if(P.type==="text"){const M=c.transWrapTextNodes,z=d?c.unescape(l.services.interpolator.interpolate(P.content,w,l.language)):l.services.interpolator.interpolate(P.content,w,l.language);M?F.push(createElement(M,{key:`${P.name}-${O}`},z)):F.push(z)}return F},[])},T=E([{dummy:!0,children:i||[]}],b,Di(i||[]));return Md(T[0])},_g=(i,s,l)=>{const c=i.key||s,u=cloneElement(i,{key:c});if(!u.props||!u.props.children||l.indexOf(`${s}/>`)<0&&l.indexOf(`${s} />`)<0)return u;function d(){return createElement(Fragment,null,u)}return createElement(d,{key:c})},Lx=(i,s)=>i.map((l,c)=>_g(l,c,s)),Dx=(i,s)=>{const l={};return Object.keys(i).forEach(c=>{Object.assign(l,{[c]:_g(i[c],c,s)})}),l},jx=(i,s,l,c)=>i?Array.isArray(i)?Lx(i,s):isObject(i)?Dx(i,s):(warnOnce(l,"TRANS_INVALID_COMPONENTS",'<Trans /> "components" prop expects an object or array',{i18nKey:c}),null):null;function vA(E){var T=E,{children:i,count:s,parent:l,i18nKey:c,context:u,tOptions:d={},values:h,defaults:m,components:p,ns:g,i18n:b,t:w,shouldUnescape:_}=T,k=gn(T,["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"]);var q,Z,ae,se,Ae,be;const S=b||getI18n();if(!S)return warnOnce(S,"NO_I18NEXT_INSTANCE","Trans: You need to pass in an i18next instance using i18nextReactModule",{i18nKey:c}),i;const x=w||S.t.bind(S)||(Le=>Le),A=W(W({},getDefaults()),(q=S.options)==null?void 0:q.react);let R=g||x.ns||((Z=S.options)==null?void 0:Z.defaultNS);R=isString(R)?[R]:R||["translation"];const N=wg(i,A,S,c),F=m||N||A.transEmptyNodeValue||c,{hashTransKey:P}=A,O=c||(P?P(N||F):N||F);(se=(ae=S.options)==null?void 0:ae.interpolation)!=null&&se.defaultVariables&&(h=h&&Object.keys(h).length>0?W(W({},h),S.options.interpolation.defaultVariables):W({},S.options.interpolation.defaultVariables));const C=h||s!==void 0&&!((be=(Ae=S.options)==null?void 0:Ae.interpolation)!=null&&be.alwaysFormat)||!i?d.interpolation:{interpolation:Te(W({},d.interpolation),{prefix:"#$?",suffix:"?$#"})},D=Te(W(W(Te(W({},d),{context:u||d.context,count:s}),h),C),{defaultValue:F,ns:R}),L=O?x(O,D):F,M=jx(p,L,S,c),z=Mx(M||i,L,S,A,D,_),I=l!=null?l:A.defaultTransParent;return I?createElement(I,k,z):z}let kg;const zx=i=>{kg=i},Fx=()=>kg,Bx={type:"3rdParty",init(i){Nx(i.options.react),zx(i)}},Wx=(0,j.createContext)();class Ux{constructor(){this.usedNamespaces={}}addUsedNamespaces(s){s.forEach(l=>{this.usedNamespaces[l]||(this.usedNamespaces[l]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const yA=i=>s=>Sn(wa,null,function*(){var u,d;const l=(d=yield(u=i.getInitialProps)==null?void 0:u.call(i,s))!=null?d:{},c=$x();return W(W({},l),c)}),$x=()=>{var u,d;const i=getI18n(),s=(d=(u=i.reportNamespaces)==null?void 0:u.getUsedNamespaces())!=null?d:[],l={},c={};return i.languages.forEach(h=>{c[h]={},s.forEach(m=>{c[h][m]=i.getResourceBundle(h,m)||{}})}),l.initialI18nStore=c,l.initialLanguage=i.language,l};function wA(E){var T=E,{children:i,count:s,parent:l,i18nKey:c,context:u,tOptions:d={},values:h,defaults:m,components:p,ns:g,i18n:b,t:w,shouldUnescape:_}=T,k=gn(T,["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"]);var N;const{i18n:S,defaultNS:x}=useContext(I18nContext)||{},A=b||S||getI18n(),R=w||(A==null?void 0:A.t.bind(A));return TransWithoutContext(W({children:i,count:s,parent:l,i18nKey:c,context:u,tOptions:d,values:h,defaults:m,components:p,ns:g||(R==null?void 0:R.ns)||x||((N=A==null?void 0:A.options)==null?void 0:N.defaultNS),i18n:A,t:w,shouldUnescape:_},k))}const Hx=(i,s)=>{const l=(0,j.useRef)();return(0,j.useEffect)(()=>{l.current=s?l.current:i},[i,s]),l.current},xg=(i,s,l,c)=>i.getFixedT(s,l,c),Vx=(i,s,l,c)=>(0,j.useCallback)(xg(i,s,l,c),[i,s,l,c]),Fn=(i,s={})=>{var N,F,P,O;const{i18n:l}=s,{i18n:c,defaultNS:u}=(0,j.useContext)(Wx)||{},d=l||c||Fx();if(d&&!d.reportNamespaces&&(d.reportNamespaces=new Ux),!d){Nd(d,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const C=(L,M)=>ko(M)?M:Sx(M)&&ko(M.defaultValue)?M.defaultValue:Array.isArray(L)?L[L.length-1]:L,D=[C,{},!1];return D.t=C,D.i18n={},D.ready=!1,D}(N=d.options.react)!=null&&N.wait&&Nd(d,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const h=W(W(W({},Rx()),d.options.react),s),{useSuspense:m,keyPrefix:p}=h;let g=i||u||((F=d.options)==null?void 0:F.defaultNS);g=ko(g)?[g]:g||["translation"],(O=(P=d.reportNamespaces).addUsedNamespaces)==null||O.call(P,g);const b=(d.isInitialized||d.initializedStoreOnce)&&g.every(C=>Cx(C,d,h)),w=Vx(d,s.lng||null,h.nsMode==="fallback"?g:g[0],p),_=()=>w,k=()=>xg(d,s.lng||null,h.nsMode==="fallback"?g:g[0],p),[E,T]=(0,j.useState)(_);let S=g.join();s.lng&&(S=`${s.lng}${S}`);const x=Hx(S),A=(0,j.useRef)(!0);(0,j.useEffect)(()=>{const{bindI18n:C,bindI18nStore:D}=h;A.current=!0,!b&&!m&&(s.lng?yg(d,s.lng,g,()=>{A.current&&T(k)}):Rd(d,g,()=>{A.current&&T(k)})),b&&x&&x!==S&&A.current&&T(k);const L=()=>{A.current&&T(k)};return C&&(d==null||d.on(C,L)),D&&(d==null||d.store.on(D,L)),()=>{A.current=!1,d&&(C==null||C.split(" ").forEach(M=>d.off(M,L))),D&&d&&D.split(" ").forEach(M=>d.store.off(M,L))}},[d,S]),(0,j.useEffect)(()=>{A.current&&b&&T(_)},[d,p,b]);const R=[E,d,b];if(R.t=E,R.i18n=d,R.ready=b,b||!b&&!m)return R;throw new Promise(C=>{s.lng?yg(d,s.lng,g,()=>C()):Rd(d,g,()=>C())})},_A=(i,s={})=>function(c){function u(p){var g=p,{forwardedRef:h}=g,m=gn(g,["forwardedRef"]);const[b,w,_]=useTranslation(i,Te(W({},m),{keyPrefix:s.keyPrefix})),k=Te(W({},m),{t:b,i18n:w,tReady:_});return s.withRef&&h?k.ref=h:!s.withRef&&h&&(k.forwardedRef=h),createElement(c,k)}u.displayName=`withI18nextTranslation(${getDisplayName(c)})`,u.WrappedComponent=c;const d=(h,m)=>createElement(u,Object.assign({},h,{forwardedRef:m}));return s.withRef?forwardRefReact(d):u},kA=c=>{var u=c,{ns:i,children:s}=u,l=gn(u,["ns","children"]);const[d,h,m]=useTranslation(i,l);return s(d,{i18n:h,lng:h.language},m)};function xA({i18n:i,defaultNS:s,children:l}){const c=useMemo(()=>({i18n:i,defaultNS:s}),[i,s]);return createElement(I18nContext.Provider,{value:c},l)}const EA=(i,s,l={})=>{var h;const{i18n:c}=l,{i18n:u}=useContext(I18nContext)||{},d=c||u||getI18n();(h=d.options)!=null&&h.isClone||(i&&!d.initializedStoreOnce&&(d.services.resourceStore.data=i,d.options.ns=Object.values(i).reduce((m,p)=>(Object.keys(p).forEach(g=>{m.indexOf(g)<0&&m.push(g)}),m),d.options.ns),d.initializedStoreOnce=!0,d.isInitialized=!0),s&&!d.initializedLanguageOnce&&(d.changeLanguage(s),d.initializedLanguageOnce=!0))},CA=()=>function(s){function l(h){var m=h,{initialI18nStore:c,initialLanguage:u}=m,d=gn(m,["initialI18nStore","initialLanguage"]);return useSSR(c,u),createElement(s,W({},d))}return l.getInitialProps=composeInitialProps(s),l.displayName=`withI18nextSSR(${getDisplayName(s)})`,l.WrappedComponent=s,l},SA=()=>"",TA=()=>"",AA=()=>"",OA=()=>"",NA=()=>"",RA=()=>"";var qx=de(9802);const Gx={en:{common:qx}},Kx=(i,s,l)=>{fr.hasResourceBundle(i,s)||fr.addResourceBundle(i,s,l,!0,!0)};fr.use(Bx).init({resources:Gx,fallbackLng:"en",debug:!1,ns:["common","messenger"],defaultNS:"common",interpolation:{escapeValue:!1},react:{useSuspense:!0},partialBundledLanguages:!0});const ha=fr,PA=7,Yx=365.2425,MA=-(Math.pow(10,8)*24*60*60*1e3),Eg=6048e5,Jx=864e5,LA=6e4,DA=36e5,jA=1e3,zA=525600,yc=43200,Cg=1440,FA=60,BA=3,WA=12,UA=4,Zx=3600,$A=60,Sg=Zx*24,HA=Sg*7,GA=Sg*Yx/12*3,Tg=Symbol.for("constructDateFrom");function eo(i,s){return typeof i=="function"?i(s):i&&typeof i=="object"&&Tg in i?i[Tg](s):i instanceof Date?new i.constructor(s):new Date(s)}const KA=null;function Xx(i){return eo(i,Date.now())}const YA=null,Qx={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},e4=(i,s,l)=>{let c;const u=Qx[i];return typeof u=="string"?c=u:s===1?c=u.one:c=u.other.replace("{{count}}",s.toString()),l!=null&&l.addSuffix?l.comparison&&l.comparison>0?"in "+c:c+" ago":c};function Ld(i){return(s={})=>{const l=s.width?String(s.width):i.defaultWidth;return i.formats[l]||i.formats[i.defaultWidth]}}const t4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},n4={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},r4={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},a4={date:Ld({formats:t4,defaultWidth:"full"}),time:Ld({formats:n4,defaultWidth:"full"}),dateTime:Ld({formats:r4,defaultWidth:"full"})},o4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},i4=(i,s,l,c)=>o4[i];function Us(i){return(s,l)=>{const c=l!=null&&l.context?String(l.context):"standalone";let u;if(c==="formatting"&&i.formattingValues){const h=i.defaultFormattingWidth||i.defaultWidth,m=l!=null&&l.width?String(l.width):h;u=i.formattingValues[m]||i.formattingValues[h]}else{const h=i.defaultWidth,m=l!=null&&l.width?String(l.width):i.defaultWidth;u=i.values[m]||i.values[h]}const d=i.argumentCallback?i.argumentCallback(s):s;return u[d]}}const s4={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},l4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},c4={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},u4={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},d4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},f4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},h4={ordinalNumber:(i,s)=>{const l=Number(i),c=l%100;if(c>20||c<10)switch(c%10){case 1:return l+"st";case 2:return l+"nd";case 3:return l+"rd"}return l+"th"},era:Us({values:s4,defaultWidth:"wide"}),quarter:Us({values:l4,defaultWidth:"wide",argumentCallback:i=>i-1}),month:Us({values:c4,defaultWidth:"wide"}),day:Us({values:u4,defaultWidth:"wide"}),dayPeriod:Us({values:d4,defaultWidth:"wide",formattingValues:f4,defaultFormattingWidth:"wide"})};function $s(i){return(s,l={})=>{const c=l.width,u=c&&i.matchPatterns[c]||i.matchPatterns[i.defaultMatchWidth],d=s.match(u);if(!d)return null;const h=d[0],m=c&&i.parsePatterns[c]||i.parsePatterns[i.defaultParseWidth],p=Array.isArray(m)?p4(m,w=>w.test(h)):m4(m,w=>w.test(h));let g;g=i.valueCallback?i.valueCallback(p):p,g=l.valueCallback?l.valueCallback(g):g;const b=s.slice(h.length);return{value:g,rest:b}}}function m4(i,s){for(const l in i)if(Object.prototype.hasOwnProperty.call(i,l)&&s(i[l]))return l}function p4(i,s){for(let l=0;l<i.length;l++)if(s(i[l]))return l}function g4(i){return(s,l={})=>{const c=s.match(i.matchPattern);if(!c)return null;const u=c[0],d=s.match(i.parsePattern);if(!d)return null;let h=i.valueCallback?i.valueCallback(d[0]):d[0];h=l.valueCallback?l.valueCallback(h):h;const m=s.slice(u.length);return{value:h,rest:m}}}const b4=/^(\d+)(th|st|nd|rd)?/i,v4=/\d+/i,y4={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},w4={any:[/^b/i,/^(a|c)/i]},_4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},k4={any:[/1/i,/2/i,/3/i,/4/i]},x4={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},E4={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},C4={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},S4={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},T4={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},A4={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},O4={ordinalNumber:g4({matchPattern:b4,parsePattern:v4,valueCallback:i=>parseInt(i,10)}),era:$s({matchPatterns:y4,defaultMatchWidth:"wide",parsePatterns:w4,defaultParseWidth:"any"}),quarter:$s({matchPatterns:_4,defaultMatchWidth:"wide",parsePatterns:k4,defaultParseWidth:"any",valueCallback:i=>i+1}),month:$s({matchPatterns:x4,defaultMatchWidth:"wide",parsePatterns:E4,defaultParseWidth:"any"}),day:$s({matchPatterns:C4,defaultMatchWidth:"wide",parsePatterns:S4,defaultParseWidth:"any"}),dayPeriod:$s({matchPatterns:T4,defaultMatchWidth:"any",parsePatterns:A4,defaultParseWidth:"any"})},Ag={code:"en-US",formatDistance:e4,formatLong:a4,formatRelative:i4,localize:h4,match:O4,options:{weekStartsOn:0,firstWeekContainsDate:1}},ZA=null;let Og={};function Hs(){return Og}function XA(i){Og=i}function Er(i,s){return eo(s||i,i)}const QA=null;function wc(i){const s=Er(i),l=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()));return l.setUTCFullYear(s.getFullYear()),+i-+l}function _c(i,...s){const l=eo.bind(null,i||s.find(c=>typeof c=="object"));return s.map(l)}function kc(i,s){const l=+Er(i)-+Er(s);return l<0?-1:l>0?1:l}const eO=null;function N4(i,s,l){const[c,u]=_c(l==null?void 0:l.in,i,s),d=c.getFullYear()-u.getFullYear(),h=c.getMonth()-u.getMonth();return d*12+h}const tO=null;function R4(i,s){const l=Er(i,s==null?void 0:s.in);return l.setHours(23,59,59,999),l}const nO=null;function P4(i,s){const l=Er(i,s==null?void 0:s.in),c=l.getMonth();return l.setFullYear(l.getFullYear(),c+1,0),l.setHours(23,59,59,999),l}const rO=null;function I4(i,s){const l=Er(i,s==null?void 0:s.in);return+R4(l,s)==+P4(l,s)}const aO=null;function M4(i,s,l){const[c,u,d]=_c(l==null?void 0:l.in,i,i,s),h=kc(u,d),m=Math.abs(N4(u,d));if(m<1)return 0;u.getMonth()===1&&u.getDate()>27&&u.setDate(30),u.setMonth(u.getMonth()-h*m);let p=kc(u,d)===-h;I4(c)&&m===1&&kc(c,d)===1&&(p=!1);const g=h*(m-+p);return g===0?0:g}const oO=null;function L4(i){return s=>{const c=(i?Math[i]:Math.trunc)(s);return c===0?0:c}}function D4(i,s){return+Er(i)-+Er(s)}const iO=null;function j4(i,s,l){const c=D4(i,s)/1e3;return L4(l==null?void 0:l.roundingMethod)(c)}const sO=null;function z4(i,s,l){var E,T;const c=Hs(),u=(T=(E=l==null?void 0:l.locale)!=null?E:c.locale)!=null?T:Ag,d=2520,h=kc(i,s);if(isNaN(h))throw new RangeError("Invalid time value");const m=Object.assign({},l,{addSuffix:l==null?void 0:l.addSuffix,comparison:h}),[p,g]=_c(l==null?void 0:l.in,...h>0?[s,i]:[i,s]),b=j4(g,p),w=(wc(g)-wc(p))/1e3,_=Math.round((b-w)/60);let k;if(_<2)return l!=null&&l.includeSeconds?b<5?u.formatDistance("lessThanXSeconds",5,m):b<10?u.formatDistance("lessThanXSeconds",10,m):b<20?u.formatDistance("lessThanXSeconds",20,m):b<40?u.formatDistance("halfAMinute",0,m):b<60?u.formatDistance("lessThanXMinutes",1,m):u.formatDistance("xMinutes",1,m):_===0?u.formatDistance("lessThanXMinutes",1,m):u.formatDistance("xMinutes",_,m);if(_<45)return u.formatDistance("xMinutes",_,m);if(_<90)return u.formatDistance("aboutXHours",1,m);if(_<Cg){const S=Math.round(_/60);return u.formatDistance("aboutXHours",S,m)}else{if(_<d)return u.formatDistance("xDays",1,m);if(_<yc){const S=Math.round(_/Cg);return u.formatDistance("xDays",S,m)}else if(_<yc*2)return k=Math.round(_/yc),u.formatDistance("aboutXMonths",k,m)}if(k=M4(g,p),k<12){const S=Math.round(_/yc);return u.formatDistance("xMonths",S,m)}else{const S=k%12,x=Math.trunc(k/12);return S<3?u.formatDistance("aboutXYears",x,m):S<9?u.formatDistance("overXYears",x,m):u.formatDistance("almostXYears",x+1,m)}}const lO=null;function xc(i,s){return z4(i,Xx(i),s)}const cO=null;var F4=Object.defineProperty,B4=Object.defineProperties,W4=Object.getOwnPropertyDescriptors,Ng=Object.getOwnPropertySymbols,U4=Object.prototype.hasOwnProperty,$4=Object.prototype.propertyIsEnumerable,Rg=(i,s,l)=>s in i?F4(i,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[s]=l,H4=(i,s)=>{for(var l in s||(s={}))U4.call(s,l)&&Rg(i,l,s[l]);if(Ng)for(var l of Ng(s))$4.call(s,l)&&Rg(i,l,s[l]);return i},V4=(i,s)=>B4(i,W4(s)),Pg=(i,s,l)=>new Promise((c,u)=>{var d=p=>{try{m(l.next(p))}catch(g){u(g)}},h=p=>{try{m(l.throw(p))}catch(g){u(g)}},m=p=>p.done?c(p.value):Promise.resolve(p.value).then(d,h);m((l=l.apply(i,s)).next())});const q4=.2,G4=.35,Vs=i=>Ts(i).luminance()<G4,Ig=i=>Ts(i).luminance()>q4,ji=i=>{var s,l,c,u,d,h,m,p,g,b,w,_,k,E,T,S;const x=Oi().get(On),A=Co();switch(i){case"allowStartingConversations":return(d=(u=(c=(l=(s=x==null?void 0:x.messenger)==null?void 0:s.config)==null?void 0:l.settings)==null?void 0:c[A])==null?void 0:u.inboundVolume)==null?void 0:d.canStartConversation;case"preventReplyingToClosedConversations":return(b=(g=(p=(m=(h=x==null?void 0:x.messenger)==null?void 0:h.config)==null?void 0:m.settings)==null?void 0:p[A])==null?void 0:g.inboundVolume)==null?void 0:b.preventReplyingToClosedConversations;case"isPrivacyPolicyEnabled":return(T=(E=(k=(_=(w=x==null?void 0:x.messenger)==null?void 0:w.config)==null?void 0:_.settings)==null?void 0:k[A])==null?void 0:E.privacyPolicy)==null?void 0:T.enabled;case"isSpecialNoticeEnabled":return(S=x.messenger.config.content.conversationPreferences)==null?void 0:S.specialNoticeEnabled;default:return null}},qs=i=>{try{return i?(Qp.sanitize(i,{ALLOWED_TAGS:[],ALLOWED_ATTR:[],KEEP_CONTENT:!0,RETURN_DOM:!0}).textContent||"").replace(/\s+/g," ").trim():""}catch(s){return console.error("Error in stripHtml:",s),""}},xo=()=>{var i,s,l,c,u;const d=Oi().get(On);return(s=(i=d==null?void 0:d.messenger)==null?void 0:i.fibi)!=null&&s.enabled?((c=(l=d==null?void 0:d.messenger)==null?void 0:l.fibi)==null?void 0:c.name)||"Fibi Bot":((u=d==null?void 0:d.organization)==null?void 0:u.displayName)+" team"},Eo=i=>{if(!i)return"";const s=ha.language;if(i!=null&&i[s])return i[s];const l=Object.keys(i);return l.length>0?i.en?i.en:i[l[0]]:""},K4=i=>{var s;const l=new Date(i),{t:c}=Fn();let u=xc(l,{addSuffix:!0});const d=parseInt(((s=u.match(/\d+/))==null?void 0:s[0])||"1",10);if(u.match(/less than a minute ago/i))return c("time-now");if(u.match(/about\s/i)&&(u=u.replace(/about\s/i,"")),u.match(/minutes?\sago/i))return c("time-minutes-ago",{count:d});if(u.match(/hours?\sago/i))return c("time-hours-ago",{count:d});if(u.match(/days?\sago/i))return c("time-days-ago",{count:d});if(u.match(/months?\sago/i))return c("time-months-ago",{count:d});if(u.match(/years?\sago/i))return c("time-years-ago",{count:d});if(u.match(/in\s/i)){if(u.match(/minutes?/i))return c("time-in-minutes",{count:d});if(u.match(/hours?/i))return c("time-in-hours",{count:d});if(u.match(/days?/i))return c("time-in-days",{count:d});if(u.match(/months?/i))return c("time-in-months",{count:d});if(u.match(/years?/i))return c("time-in-years",{count:d})}return u},Y4=i=>{if(!i)return ei.Unknown;const s=`${i}`.toLowerCase().trim(),[l]=s.split("/");switch(l){case"image":return ei.Image;case"video":return ei.Video;case"audio":return ei.Audio;case"font":return ei.Font}const c=Qk[s];return c?c.kind:ei.Unknown},J4=i=>{try{const s=new URL(i);if(s.protocol!=="http:"&&s.protocol!=="https:")throw new Error("Invalid protocol");return s.toString()}catch(s){return null}},Co=()=>{var i;const s=Oi().get(On);return((i=s==null?void 0:s.user)==null?void 0:i.type)==="lead"?"visitors":"users"},yn=(i,s={},l)=>{typeof window!="undefined"&&window.parent?window.postMessage(V4(H4({type:i},s),{target:l==="parent"?"FeaturebaseMessengerWidget":"internal"}),"*"):console.warn("Could not send messenger action: window or parent not available")},Dd=i=>{var s,l,c,u,d;const h=Oi().get(On),m=i.charAt(0).toUpperCase()+i.slice(1);return(d=(u=(c=(l=(s=h==null?void 0:h.messenger)==null?void 0:s.config)==null?void 0:l.content)==null?void 0:c.modules)==null?void 0:u[Co()])==null?void 0:d.enabledModules[m]},Ec=(i,s)=>{const l=Oi().get(ea),c=Math.round(l.transparencyPercentage/10)*10,u=l==null?void 0:l.keepSecondaryWhiteTreshold,d=(()=>{switch(c){case 0:return"bg-secondary";case 10:return"bg-secondary/10";case 20:return"bg-secondary/20";case 30:return"bg-secondary/30";case 40:return"bg-secondary/40";case 50:return"bg-secondary/50";case 60:return"bg-secondary/60";case 70:return"bg-secondary/70";case 80:return"bg-secondary/80";case 90:return"bg-secondary/90";case 100:return"bg-secondary";default:return"bg-secondary"}})();return Yt("group overflow-hidden main-transition rounded-lg shadow-sm backdrop-blur-xl transform-gpu animate-slide-down",d,l.transparencyPercentage===0&&"shadow-md shadow-darker-background/10",i?"flex flex-col":`shadow-sm justify-between text-foreground w-full ${s?"":"hover:bg-secondary/90 main-transition"}`,u?"!shadow-lg border !shadow-secondary-foreground/5 border-secondary-foreground/[8%]":"")};function Yt(...i){return Ik(ok(i))}const Z4=(i,s)=>{var l;return((l=i==null?void 0:i.structure)==null?void 0:l.map(c=>({name:c.type==="collection"?c.name:c.title,href:`${s.subpath}${c.type==="collection"?"collections":"articles"}/${c.slug}`,icon:c==null?void 0:c.icon,pages:c.structure.length,authors:c.authors,description:c.description,articleCount:c.articleCount||0,collectionId:c.collectionId})))||[]},to=(i,s,l)=>{if(!i)return null;const c=new RegExp(`--${s}: ([^;]+);`),u=i.match(c);if(u&&u[1]){const[d,h,m]=u[1].trim().split(" ").map(g=>parseFloat(g.replace("%",""))),p=Ts.hsl(d,h/100,m/100);if(l){const[g,b,w]=p.rgb();return`${Math.round(g)},${Math.round(b)},${Math.round(w)}`}return p.hex()}return null},Mg=i=>{const s=Qp.sanitize(i,{ALLOWED_TAGS:[]}),l=document.createElement("div");l.innerHTML=s;const c=l.textContent||l.innerText||"";return c.slice(0,300)+(c.length>300?"...":"")},X4=["en","default"],Lg=(i,s)=>Pg(void 0,null,function*(){if(s&&s.current===i||i===ha.language)return{success:!0,language:ha.language};try{if(s&&(s.current=i),!X4.includes(i))try{const l=yield de(5928)(`./${i}/common.json`);Kx(i,"common",l.default||l)}catch(l){return{success:!1,language:"en",error:"Failed to load language resources"}}return yield ha.changeLanguage(i),{success:!0,language:i}}catch(l){return yield ha.changeLanguage("en"),{success:!1,language:"en",error:"Failed to change language"}}finally{s&&(s.current=null)}}),Q4=(i,s={})=>{const{maxRetries:l=3,initialDelay:c=1e3,maxDelay:u=3e4,backoffMultiplier:d=2,onError:h=console.error}=s;let m=0,p=0,g=c;return b=>Pg(void 0,null,function*(){const w=Date.now(),_=w-p;if(_<g){console.warn(`Skipping reconnection handler - too soon since last reconnect (${_}ms < ${g}ms)`);return}if(p=w,_>5*60*1e3&&(m=0,g=c),m>=l){console.warn(`Max reconnection retries (${l}) reached. Skipping callback.`);return}try{console.log(`Executing reconnection handler (attempt ${b!=null?b:"unknown"}, retry ${m+1}/${l})`),yield i(),m=0,g=c}catch(k){m++,g=Math.min(g*d,u),h(k instanceof Error?k:new Error("Unknown error in reconnection handler")),console.error(`Reconnection handler failed (retry ${m}/${l}). Next delay: ${g}ms`,k)}})};var e3=Object.defineProperty,Dg=Object.getOwnPropertySymbols,t3=Object.prototype.hasOwnProperty,n3=Object.prototype.propertyIsEnumerable,jg=(i,s,l)=>s in i?e3(i,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[s]=l,r3=(i,s)=>{for(var l in s||(s={}))t3.call(s,l)&&jg(i,l,s[l]);if(Dg)for(var l of Dg(s))n3.call(s,l)&&jg(i,l,s[l]);return i};const a3=()=>`launcher-button-mask-${Math.random().toString(36).substring(2,9)}`,o3=({messengerData:i,config:s,onClick:l})=>{var c,u,d,h,m,p,g,b,w,_,k,E,T,S,x,A;const[R,N]=Da(i),[F,P]=Da(s,!0),[O,C]=(0,he.J0)(0),[D,L]=(0,he.J0)(!1),M=(h=(d=(u=(c=R==null?void 0:R.messenger)==null?void 0:c.config)==null?void 0:u.style)==null?void 0:d.launcher)==null?void 0:h.customImage,[z,I]=(0,he.J0)(F.theme==="dark"?((g=(p=(m=R==null?void 0:R.messenger)==null?void 0:m.config)==null?void 0:p.style)==null?void 0:g.compiledThemeDark)||"":((_=(w=(b=R==null?void 0:R.messenger)==null?void 0:b.config)==null?void 0:w.style)==null?void 0:_.compiledTheme)||""),q=a3();return(0,he.vJ)(()=>{yn("IFRAME_READY",{iframeName:"launcher"},"parent")},[]),(0,he.vJ)(()=>{const Z=ae=>{var se,Ae,be,Le,B,G;if(ae.data&&ae.data.type==="MESSENGER_THEME_CHANGE"){const te=ae.data.theme==="dark";I(te?((be=(Ae=(se=R==null?void 0:R.messenger)==null?void 0:se.config)==null?void 0:Ae.style)==null?void 0:be.compiledThemeDark)||"":((G=(B=(Le=R==null?void 0:R.messenger)==null?void 0:Le.config)==null?void 0:B.style)==null?void 0:G.compiledTheme)||"")}else ae.data&&ae.data.type==="UNREAD_COUNT_CHANGE"?C(ae.data.unreadCount||0):ae.data&&ae.data.type==="MESSENGER_OPENED"?L(!0):ae.data&&ae.data.type==="MESSENGER_CLOSED"&&L(!1)};return window.addEventListener("message",Z),()=>{window.removeEventListener("message",Z)}},[(T=(E=(k=R==null?void 0:R.messenger)==null?void 0:k.config)==null?void 0:E.style)==null?void 0:T.compiledTheme,(A=(x=(S=R==null?void 0:R.messenger)==null?void 0:S.config)==null?void 0:x.style)==null?void 0:A.compiledThemeDark]),y("div",{className:"relative flex items-center justify-center w-full h-full transition-colors duration-300",style:{width:50,height:50},onClick:l,role:"button","aria-label":"Open Featurebase Messenger",children:[y("style",{children:`
        :root {
          ${z}
        }
      `}),O>0&&!D&&y("svg",{style:{position:"absolute",width:0,height:0,overflow:"hidden"},viewBox:"0 0 50 50","aria-hidden":"true",children:y("defs",{children:y("mask",{id:q,maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"50",height:"50",children:y("path",{fill:"white",fillRule:"evenodd",d:`
                  M0,0
                  h50
                  v50
                  h-50
                  Z
                  M47,4
                  m -13,0
                  a 13,13 0 1,0 26,0
                  a 13,13 0 1,0 -26,0
                `})})})}),y("div",{className:"w-full h-full",style:r3({backgroundColor:"var(--footer-primary)"},O>0&&!D?{mask:`url(#${q})`,WebkitMask:`url(#${q})`}:{}),children:y("div",{className:"relative flex items-center justify-center w-full h-full",children:[y("div",{className:`absolute inset-0 bg-footer-primary rounded-full flex items-center justify-center transition-all duration-300 ${D?"opacity-100 rotate-0 scale-100":"opacity-0 -rotate-[140deg] scale-[0.6]"}`,style:{transitionTimingFunction:"cubic-bezier(0.34, 1, 0.64, 1)"},children:y(mm,{className:"w-7 h-7 text-primary-foreground"})}),y("div",{className:`absolute inset-0 transition-all duration-100 ${D?"opacity-0 rotate-135 scale-[0.9]":"opacity-100 rotate-0 scale-100"}`,children:M?y("img",{src:M,alt:"Custom launcher image",className:"object-cover w-full h-full rounded-full"}):y("div",{className:"flex items-center justify-center w-full h-full rounded-full bg-footer-primary",children:y("svg",{className:"w-[34px] h-[34px] text-footer-primary",viewBox:"0 0 323 279",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[y("path",{d:"M229 180L224.889 183.731C179.677 224.769 110.223 223.128 67 180V180",stroke:"currentColor","stroke-width":"19","stroke-linecap":"round"}),y("path",{d:"M6.01747 134.629C4.38247 65.0924 62.3207 7.86655 134.701 6.16469C207.081 4.46283 267.645 58.9024 269.28 128.439C270.915 197.975 212.976 255.201 140.596 256.903C124.654 257.278 109.295 254.935 95.016 250.311C92.1202 249.374 88.9422 249.39 86.027 250.525L63.9535 259.112C51.5037 263.955 38.5888 253.206 41.091 240.084L43.481 227.549C44.3052 223.227 42.8613 218.879 39.9222 215.787C19.5147 194.32 6.75467 165.982 6.01747 134.629Z",fill:"white",stroke:"currentColor","stroke-width":"6"}),y("path",{d:"M200.499 54.494C262.448 53.0374 315.012 99.711 316.435 160.22C317.065 187.034 307.447 211.745 291.171 230.967C290.119 232.209 289.792 233.707 290.094 234.963L293.457 248.985C296.94 263.504 283.086 276.182 268.933 271.429L246.68 263.956C245.804 263.661 244.75 263.665 243.684 264.058C231.812 268.437 218.985 270.964 205.596 271.279C143.647 272.735 91.0829 226.062 89.6601 165.552C88.2374 105.043 138.55 55.9505 200.499 54.494Z",fill:"white",stroke:"currentColor","stroke-width":"17"}),y("path",{d:"M264.467 161V161C261.838 195.81 233.053 222.844 198.147 223.285L192.108 223.362",stroke:"currentColor","stroke-width":"20","stroke-linecap":"round"})]})})})]})})]})},zg=(0,j.createContext)(void 0),jd=i=>{const s=(0,j.useContext)(zg);return(i==null?void 0:i.store)||s||Oi()},fO=({children:i,store:s})=>{const l=useRef(void 0);return!s&&!l.current&&(l.current=createStore()),createElement(zg.Provider,{value:s||l.current},i)},zd=i=>typeof(i==null?void 0:i.then)=="function",Fg=i=>{i.status="pending",i.then(s=>{i.status="fulfilled",i.value=s},s=>{i.status="rejected",i.reason=s})},i3=j.default.use||(i=>{if(i.status==="pending")throw i;if(i.status==="fulfilled")return i.value;throw i.status==="rejected"?i.reason:(Fg(i),i)}),Fd=new WeakMap,Bg=i=>{let s=Fd.get(i);return s||(s=new Promise((l,c)=>{let u=i;const d=p=>g=>{u===p&&l(g)},h=p=>g=>{u===p&&c(g)},m=p=>{"onCancel"in p&&typeof p.onCancel=="function"&&p.onCancel(g=>{if(g===p)throw new Error("[Bug] p is not updated even after cancelation");zd(g)?(Fd.set(g,s),u=g,g.then(d(g),h(g)),m(g)):l(g)})};i.then(d(i),h(i)),m(i)}),Fd.set(i,s)),s};function Wg(i,s){const l=jd(s),[[c,u,d],h]=(0,j.useReducer)(g=>{const b=l.get(i);return Object.is(g[0],b)&&g[1]===l&&g[2]===i?g:[b,l,i]},void 0,()=>[l.get(i),l,i]);let m=c;(u!==l||d!==i)&&(h(),m=l.get(i));const p=s==null?void 0:s.delay;if((0,j.useEffect)(()=>{const g=l.sub(i,()=>{if(typeof p=="number"){const b=l.get(i);zd(b)&&Fg(Bg(b)),setTimeout(h,p);return}h()});return h(),g},[l,i,p]),(0,j.useDebugValue)(m),zd(m)){const g=Bg(m);return i3(g)}return m}function s3(i,s){const l=jd(s);return(0,j.useCallback)((...u)=>{if(!("write"in i))throw new Error("not writable atom");return l.set(i,...u)},[l,i])}function je(i,s){return[Wg(i,s),s3(i,s)]}const l3=({color:i})=>{var s,l,c,u,d;const[h]=je(On),m=((u=(c=(l=(s=h==null?void 0:h.messenger)==null?void 0:s.config)==null?void 0:l.style)==null?void 0:c.logo)==null?void 0:u.imageUrl)||((d=h==null?void 0:h.organization)==null?void 0:d.picture);if(m)return y("div",{children:y("img",{style:{color:i},src:m,className:"object-cover rounded-full h-7 w-7 opacity-80",alt:"logo"})})},c3=()=>{var i,s,l,c,u;const[d]=je(On);if(!((c=(l=(s=(i=d==null?void 0:d.messenger)==null?void 0:i.config)==null?void 0:s.style)==null?void 0:l.avatars)!=null&&c.show))return null;const h=d!=null&&d.activeTeam?(u=d==null?void 0:d.activeTeam)==null?void 0:u.slice(0,4):[];return y("div",{className:"flex items-center justify-centers",children:h==null?void 0:h.map((m,p)=>y("img",{src:m==null?void 0:m.profilePicture,className:`w-8 h-8 rounded-full  ${p!==0?"z-10 -ml-1 avatar-border":""}`},m==null?void 0:m.id))})},Gs=({onClick:i,title:s,description:l,Icon:c,wide:u})=>y("button",{onClick:i,className:Ec(!!u),children:[y("div",{className:"absolute inset-0 bg-secondary-active-foreground/[2.5%] opacity-0 group-hover:opacity-100 main-transition"}),u&&(u==null?void 0:u.img)&&y("img",{alt:s,src:u==null?void 0:u.img,className:"object-cover w-full h-44 bg-secondary/80"}),y("div",{className:"flex items-center justify-between w-full gap-3 p-4",children:[y("span",{className:`flex flex-col ${u?"gap-1.5":"gap-1"} text-left`,children:[y("span",{className:"text-[15px] line-clamp-2 font-semibold text-secondary-active-foreground",children:s}),l&&y("span",{className:"text-sm line-clamp-2 text-secondary-foreground",children:l})]}),u?null:c?y(c,{className:"w-4 h-4 text-secondary-foreground/60"}):y("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4 text-secondary-foreground/60",viewBox:"0 0 20 20",fill:"currentColor",children:y("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]}),u3=({articleIds:i})=>{const[s,l]=je(On),{t:c}=Fn();return i&&(i==null?void 0:i.length)>0?y("div",{className:`${Ec(!0)} gap-1 p-1 overflow-hidden main-transition justify-between text-foreground w-full`,children:[y("button",{onClick:()=>{yn("MESSENGER_OPEN_HELP_CENTER")},className:"p-2 px-3 text-[15px] font-medium text-secondary-active-foreground w-full bg-secondary-active-foreground/[5.5%] flex items-center text-left hover:bg-secondary-active-foreground/[10%] main-transition rounded-lg",children:[c("search-for-help"),y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"ml-auto h-[18px] w-[18px] text-secondary-foreground/60",fill:"none",children:[y("path",{d:"M15.0349 2.75L16.4378 2.75L16.695 3.44512C17.056 4.4208 17.1712 4.68588 17.3608 4.87551C17.5504 5.06514 17.8155 5.18028 18.7912 5.54132L19.4863 5.79853L19.4863 7.20147L18.7912 7.45869C17.8155 7.81972 17.5504 7.93486 17.3608 8.12449C17.1712 8.31412 17.056 8.57921 16.695 9.55488L16.4378 10.25L15.0349 10.25L14.7776 9.55488C14.4166 8.57921 14.3015 8.31412 14.1118 8.12449C13.9222 7.93486 13.6571 7.81972 12.6814 7.45868L11.9863 7.20147L11.9863 5.79853L12.6814 5.54132C13.6571 5.18028 13.9222 5.06514 14.1118 4.87551C14.3015 4.68588 14.4166 4.42079 14.7776 3.44512L15.0349 2.75Z",fill:"currentColor"}),y("path",{d:"M3.25 11.3528C3.25 7.15391 6.65391 3.75 10.8528 3.75V5.65071C7.70364 5.65071 5.15071 8.20364 5.15071 11.3528C5.15071 14.5021 7.70364 17.055 10.8528 17.055C14.0021 17.055 16.555 14.5021 16.555 11.3528H18.4557C18.4557 13.1098 17.8597 14.7275 16.859 16.015L20.75 19.906L19.406 21.25L15.515 17.359C14.2275 18.3597 12.6098 18.9557 10.8528 18.9557C6.65391 18.9557 3.25 15.5518 3.25 11.3528Z",fill:"currentColor"})]})]}),i==null?void 0:i.map(u=>{var d;const h=(d=s==null?void 0:s.highlightedArticles)==null?void 0:d.find(m=>m.articleId===u);return h?y("button",{onClick:()=>{yn("MESSENGER_OPEN_HELP_CENTER",{articleId:u})},className:"hover:bg-secondary-active-foreground/[5.5%] main-transition flex items-center w-full p-2 px-3 text-sm font-medium text-left rounded-lg text-secondary-foreground",children:h.title}):null})]}):y(Gs,{title:c("search-for-help"),onClick:()=>{yn("MESSENGER_OPEN_HELP_CENTER")},Icon:u=>y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"ml-auto h-[20px] w-[20px] text-secondary-foreground/60 -mr-0.5",fill:"none",children:[y("path",{d:"M15.0349 2.75L16.4378 2.75L16.695 3.44512C17.056 4.4208 17.1712 4.68588 17.3608 4.87551C17.5504 5.06514 17.8155 5.18028 18.7912 5.54132L19.4863 5.79853L19.4863 7.20147L18.7912 7.45869C17.8155 7.81972 17.5504 7.93486 17.3608 8.12449C17.1712 8.31412 17.056 8.57921 16.695 9.55488L16.4378 10.25L15.0349 10.25L14.7776 9.55488C14.4166 8.57921 14.3015 8.31412 14.1118 8.12449C13.9222 7.93486 13.6571 7.81972 12.6814 7.45868L11.9863 7.20147L11.9863 5.79853L12.6814 5.54132C13.6571 5.18028 13.9222 5.06514 14.1118 4.87551C14.3015 4.68588 14.4166 4.42079 14.7776 3.44512L15.0349 2.75Z",fill:"currentColor"}),y("path",{d:"M3.25 11.3528C3.25 7.15391 6.65391 3.75 10.8528 3.75V5.65071C7.70364 5.65071 5.15071 8.20364 5.15071 11.3528C5.15071 14.5021 7.70364 17.055 10.8528 17.055C14.0021 17.055 16.555 14.5021 16.555 11.3528H18.4557C18.4557 13.1098 17.8597 14.7275 16.859 16.015L20.75 19.906L19.406 21.25L15.515 17.359C14.2275 18.3597 12.6098 18.9557 10.8528 18.9557C6.65391 18.9557 3.25 15.5518 3.25 11.3528Z",fill:"currentColor"})]})},"search_for_help")};var d3=Object.defineProperty,f3=Object.defineProperties,h3=Object.getOwnPropertyDescriptors,Ug=Object.getOwnPropertySymbols,m3=Object.prototype.hasOwnProperty,p3=Object.prototype.propertyIsEnumerable,$g=(i,s,l)=>s in i?d3(i,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[s]=l,So=(i,s)=>{for(var l in s||(s={}))m3.call(s,l)&&$g(i,l,s[l]);if(Ug)for(var l of Ug(s))p3.call(s,l)&&$g(i,l,s[l]);return i},To=(i,s)=>f3(i,h3(s));const g3=[{nameKey:"home",key:"home",Icon:i=>y("svg",To(So({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none"},i),{children:[y("path",{opacity:"1",d:"M2.35157 13.2135C1.99855 10.9162 1.82204 9.76763 2.25635 8.74938C2.69065 7.73112 3.65421 7.03443 5.58132 5.64106L7.02117 4.6C9.41847 2.86667 10.6171 2 12.0002 2C13.3832 2 14.5819 2.86667 16.9792 4.6L18.419 5.64106C20.3462 7.03443 21.3097 7.73112 21.744 8.74938C22.1783 9.76763 22.0018 10.9162 21.6488 13.2135L21.3478 15.1724C20.8473 18.4289 20.5971 20.0572 19.4292 21.0286C18.2613 22 16.5538 22 13.139 22H10.8614C7.44652 22 5.73909 22 4.57118 21.0286C3.40327 20.0572 3.15305 18.4289 2.65261 15.1724L2.35157 13.2135Z",fill:"currentColor"}),y("path",{d:"M15.0002 17C14.2007 17.6224 13.1504 18 12.0002 18C10.8499 18 9.79971 17.6224 9.00018 17",stroke:"hsla(var(--background))",strokeWidth:"1.5",strokeLinecap:"round"})]})),NotActiveIcon:i=>y("svg",To(So({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none"},i),{children:[y("path",{opacity:"0.4",d:"M2.35157 13.2135C1.99855 10.9162 1.82204 9.76763 2.25635 8.74938C2.69065 7.73112 3.65421 7.03443 5.58132 5.64106L7.02117 4.6C9.41847 2.86667 10.6171 2 12.0002 2C13.3832 2 14.5819 2.86667 16.9792 4.6L18.419 5.64106C20.3462 7.03443 21.3097 7.73112 21.744 8.74938C22.1783 9.76763 22.0018 10.9162 21.6488 13.2135L21.3478 15.1724C20.8473 18.4289 20.5971 20.0572 19.4292 21.0286C18.2613 22 16.5538 22 13.139 22H10.8614C7.44652 22 5.73909 22 4.57118 21.0286C3.40327 20.0572 3.15305 18.4289 2.65261 15.1724L2.35157 13.2135Z",fill:"currentColor"}),y("path",{d:"M15.0002 17C14.2007 17.6224 13.1504 18 12.0002 18C10.8499 18 9.79971 17.6224 9.00018 17",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",opacity:"0.9"}),y("path",{d:"M2.35157 13.2135C1.99855 10.9162 1.82204 9.76763 2.25635 8.74938C2.69065 7.73112 3.65421 7.03443 5.58132 5.64106L7.02117 4.6C9.41847 2.86667 10.6171 2 12.0002 2C13.3832 2 14.5819 2.86667 16.9792 4.6L18.419 5.64106C20.3462 7.03443 21.3097 7.73112 21.744 8.74938C22.1783 9.76763 22.0018 10.9162 21.6488 13.2135L21.3478 15.1724C20.8473 18.4289 20.5971 20.0572 19.4292 21.0286C18.2613 22 16.5538 22 13.139 22H10.8614C7.44652 22 5.73909 22 4.57118 21.0286C3.40327 20.0572 3.15305 18.4289 2.65261 15.1724L2.35157 13.2135Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinejoin:"round",opacity:"0"})]}))},{nameKey:"messages",key:"messages",Icon:i=>y("svg",To(So({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none"},i),{children:[y("path",{opacity:"1",d:"M14.1706 20.8905C18.3536 20.6125 21.6856 17.2332 21.9598 12.9909C22.0134 12.1607 22.0134 11.3009 21.9598 10.4707C21.6856 6.22838 18.3536 2.84913 14.1706 2.57107C12.7435 2.47621 11.2536 2.47641 9.8294 2.57107C5.64639 2.84913 2.31441 6.22838 2.04024 10.4707C1.98659 11.3009 1.98659 12.1607 2.04024 12.9909C2.1401 14.536 2.82343 15.9666 3.62791 17.1746C4.09501 18.0203 3.78674 19.0758 3.30021 19.9978C2.94941 20.6626 2.77401 20.995 2.91484 21.2351C3.05568 21.4752 3.37026 21.4829 3.99943 21.4982C5.24367 21.5285 6.08268 21.1757 6.74868 20.6846C7.1264 20.4061 7.31527 20.2668 7.44544 20.2508C7.5756 20.2348 7.83177 20.3403 8.34401 20.5513C8.8044 20.7409 9.33896 20.8579 9.8294 20.8905C11.2536 20.9852 12.7435 20.9854 14.1706 20.8905Z",fill:"currentColor"}),y("circle",{cx:"12",cy:"12",r:"1",fill:"hsla(var(--background))"}),y("circle",{cx:"16",cy:"12",r:"1",fill:"hsla(var(--background))"}),y("circle",{cx:"8",cy:"12",r:"1",fill:"hsla(var(--background))"})]})),NotActiveIcon:i=>y("svg",To(So({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none"},i),{children:[y("path",{opacity:"0.4",d:"M14.1706 20.8905C18.3536 20.6125 21.6856 17.2332 21.9598 12.9909C22.0134 12.1607 22.0134 11.3009 21.9598 10.4707C21.6856 6.22838 18.3536 2.84913 14.1706 2.57107C12.7435 2.47621 11.2536 2.47641 9.8294 2.57107C5.64639 2.84913 2.31441 6.22838 2.04024 10.4707C1.98659 11.3009 1.98659 12.1607 2.04024 12.9909C2.1401 14.536 2.82343 15.9666 3.62791 17.1746C4.09501 18.0203 3.78674 19.0758 3.30021 19.9978C2.94941 20.6626 2.77401 20.995 2.91484 21.2351C3.05568 21.4752 3.37026 21.4829 3.99943 21.4982C5.24367 21.5285 6.08268 21.1757 6.74868 20.6846C7.1264 20.4061 7.31527 20.2668 7.44544 20.2508C7.5756 20.2348 7.83177 20.3403 8.34401 20.5513C8.8044 20.7409 9.33896 20.8579 9.8294 20.8905C11.2536 20.9852 12.7435 20.9854 14.1706 20.8905Z",fill:"currentColor"}),y("circle",{cx:"12",cy:"12",r:"1",fill:"currentColor",opacity:"0.9"}),y("circle",{cx:"16",cy:"12",r:"1",fill:"currentColor",opacity:"0.9"}),y("circle",{cx:"8",cy:"12",r:"1",fill:"currentColor",opacity:"0.9"})]}))},{nameKey:"help",key:"help",Icon:i=>y("svg",To(So({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none"},i),{children:[y("path",{opacity:"1",d:"M2.5 12C2.5 7.52166 2.5 5.28249 3.89124 3.89124C5.28249 2.5 7.52166 2.5 12 2.5C16.4783 2.5 18.7175 2.5 20.1088 3.89124C21.5 5.28249 21.5 7.52166 21.5 12C21.5 16.4783 21.5 18.7175 20.1088 20.1088C18.7175 21.5 16.4783 21.5 12 21.5C7.52166 21.5 5.28249 21.5 3.89124 20.1088C2.5 18.7175 2.5 16.4783 2.5 12Z",fill:"currentColor"}),y("path",{d:"M10 9C10 7.89543 10.8954 7 12 7C13.1046 7 14 7.89543 14 9C14 9.39815 13.8837 9.76913 13.6831 10.0808C13.0854 11.0097 12 11.8954 12 13V13.5",stroke:"hsla(var(--background))",strokeWidth:"1.5",strokeLinecap:"round"}),y("circle",{cx:"12",cy:"16",r:"1",fill:"hsla(var(--background))"})]})),NotActiveIcon:i=>y("svg",To(So({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none"},i),{children:[y("path",{opacity:"0.4",d:"M2.5 12C2.5 7.52166 2.5 5.28249 3.89124 3.89124C5.28249 2.5 7.52166 2.5 12 2.5C16.4783 2.5 18.7175 2.5 20.1088 3.89124C21.5 5.28249 21.5 7.52166 21.5 12C21.5 16.4783 21.5 18.7175 20.1088 20.1088C18.7175 21.5 16.4783 21.5 12 21.5C7.52166 21.5 5.28249 21.5 3.89124 20.1088C2.5 18.7175 2.5 16.4783 2.5 12Z",fill:"currentColor"}),y("path",{d:"M10 9C10 7.89543 10.8954 7 12 7C13.1046 7 14 7.89543 14 9C14 9.39815 13.8837 9.76913 13.6831 10.0808C13.0854 11.0097 12 11.8954 12 13V13.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",opacity:"0.9"}),y("circle",{cx:"12",cy:"16",r:"1",fill:"currentColor",opacity:"0.9"})]}))},{nameKey:"changelog",key:"changelog",Icon:i=>y("svg",To(So({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none"},i),{children:y("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.96266 7.26485L15.1698 3.75201C16.8242 2.94561 17.6515 2.54241 18.5738 2.85669C19.4961 3.17097 19.8126 3.84532 20.4458 5.19404C22.1843 8.89761 22.1843 13.1021 20.4457 16.8057C19.8126 18.1544 19.4961 18.8288 18.5738 19.1431C17.6515 19.4573 16.8242 19.0541 15.1698 18.2477L14.2861 17.817C14.1576 17.7544 14.0934 17.7231 14.0465 17.7521C13.9997 17.781 13.9989 17.8528 13.9975 17.9963C13.9944 18.3049 13.9869 18.5791 13.9688 18.816C13.9382 19.2156 13.8702 19.6696 13.6263 20.0642C13.1285 20.8697 12.2183 21.3248 11.2752 21.2398C10.8131 21.1981 10.4091 20.9801 10.0711 20.7648C9.72876 20.5467 9.31799 20.2386 8.83154 19.8738L7.59968 18.9499C7.07845 18.559 6.62354 18.15 6.3387 17.5804C6.05386 17.0107 5.99968 16.4014 5.99968 15.7499V14.8323C5.99968 14.7175 5.99968 14.6601 5.96271 14.6301C5.92574 14.6001 5.86895 14.612 5.75536 14.6359C5.63213 14.6617 5.54042 14.6782 5.45884 14.6876C3.4819 14.9169 2.24968 13.3281 2.24968 11.5012V10.4986C2.24968 8.67164 3.4819 7.0829 5.45884 7.31213C5.61803 7.33059 5.81573 7.37556 6.21105 7.46548C6.81521 7.60291 7.40798 7.5352 7.96266 7.26485ZM8.28731 14.8931C8.15822 14.8302 8.09367 14.7988 8.04668 14.8281C7.99968 14.8575 7.99968 14.9293 7.99968 15.0729V15.7499C7.99968 16.3202 8.05676 16.5444 8.12756 16.6859C8.19835 16.8275 8.34344 17.0077 8.79968 17.3499L9.99968 18.2499C10.5265 18.645 10.8758 18.9061 11.1457 19.078C11.3577 19.213 11.4469 19.243 11.4621 19.248L11.4654 19.2487C11.6467 19.2612 11.8205 19.1743 11.9193 19.0218L11.9207 19.0187C11.9258 19.0035 11.9554 18.9142 11.9746 18.6636C11.999 18.3444 11.9997 17.9084 11.9997 17.2499C11.9997 17.0309 11.9997 16.9214 11.9657 16.8341C11.942 16.773 11.9111 16.7236 11.8666 16.6755C11.803 16.6067 11.7051 16.559 11.5092 16.4635L8.28731 14.8931Z",fill:"currentColor"})})),NotActiveIcon:i=>y("svg",To(So({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none"},i),{children:[y("path",{opacity:"0.4",d:"M5.99989 14.7755V15.7498C5.99989 16.4013 6.05407 17.0106 6.33892 17.5803C6.62376 18.1499 7.07867 18.5588 7.59989 18.9498L8.83175 19.8737C9.31819 20.2385 9.72898 20.5466 10.0713 20.7647C10.4093 20.98 10.8133 21.198 11.2754 21.2397C12.2185 21.3247 13.1287 20.8696 13.6265 20.0641C13.8704 19.6695 13.9384 19.2155 13.969 18.8159C13.9861 18.5922 13.9937 18.3353 13.9971 18.0476L11.9984 17.0734C11.9984 17.0744 11.9984 17.0753 11.9984 17.0763C11.9992 17.1342 11.9999 17.192 11.9999 17.2498C11.9999 17.9083 11.9992 18.3443 11.9748 18.6634C11.9556 18.9141 11.926 19.0034 11.921 19.0186L11.9204 19.0202C11.8215 19.1741 11.6464 19.2616 11.464 19.2485L11.4623 19.2479C11.4472 19.2428 11.3579 19.2129 11.1459 19.0779C10.876 18.9059 10.5267 18.6449 9.99989 18.2498L8.79989 17.3498C8.34365 17.0076 8.19856 16.8274 8.12777 16.6858C8.05698 16.5442 7.99989 16.3201 7.99989 15.7498V15.1245L7.71288 14.9846C7.17002 14.72 6.59068 14.6495 5.99989 14.7755Z",fill:"currentColor"}),y("path",{opacity:"0.5",d:"M7.71288 7.51497L14.92 4.00213C16.5744 3.19574 17.4017 2.79254 18.324 3.10681C19.2463 3.42109 19.5628 4.09544 20.196 5.44416C21.0653 7.29594 21.4999 9.27297 21.4999 11.25C21.4999 13.227 21.0653 15.2041 20.196 17.0558C19.5628 18.4046 19.2463 19.0789 18.324 19.3932C17.4017 19.7075 16.5744 19.3043 14.92 18.4979L7.71288 14.985C7.15819 14.7147 6.56542 14.647 5.96126 14.7844L5.96124 14.7844C5.56593 14.8743 5.36824 14.9193 5.20905 14.9377C3.23211 15.167 1.99989 13.5782 1.99989 11.7513V10.7487C1.99989 8.92177 3.23211 7.33303 5.20905 7.56226C5.36824 7.58071 5.56594 7.62568 5.96126 7.7156C6.56542 7.85303 7.15819 7.78532 7.71288 7.51497Z",fill:"currentColor"})]}))}],Hg=({onPageLeave:i})=>{var s,l,c,u,d,h,m,p,g,b,w,_,k,E;const[T]=je(ea),[S]=je(On),[x,A]=je(hd),{t:R,i18n:N}=Fn(),[F,P]=je(rk);Lr("UNREAD_COUNT_CHANGE",z=>{(z==null?void 0:z.type)==="UNREAD_COUNT_CHANGE"&&P(z==null?void 0:z.unreadCount)});const O=z=>`h-6 w-6 !stroke-[2]  main-transition ${z?T.isDarkerTheme?"text-backgroud-foreround":"text-footer-primary":"text-foreground"}`,C=Co(),D=((d=(u=(c=(l=(s=S==null?void 0:S.messenger)==null?void 0:s.config)==null?void 0:l.content)==null?void 0:c.modules)==null?void 0:u[C])==null?void 0:d.orderedModules)||[],L=((b=(g=(p=(m=(h=S==null?void 0:S.messenger)==null?void 0:h.config)==null?void 0:m.content)==null?void 0:p.modules)==null?void 0:g[C])==null?void 0:b.enabledModules)||{},M=D.filter(z=>L[z]===!0).map(z=>g3.find(I=>{var q;return((q=I.key)==null?void 0:q.toLowerCase())===z.toLowerCase()})).filter(Boolean);return M.length<=1?null:y("div",{children:[y("div",{className:"flex flex-row justify-between text-sm leading-[21px] border-t flex-shrink-0 border-border/40 bg-background h-[75px] p-0",children:M.map(z=>{var I,q,Z,ae;return y("button",{onClick:()=>{var se;A((se=z.key)==null?void 0:se.toLowerCase()),i&&i()},className:"flex flex-col flex-1 justify-center items-center h-full font-medium transition duration-200 group",children:[y("span",{className:"flex relative justify-center items-center h-6 pointer-events-none",children:y("span",{className:"relative",children:[x!==((I=z.key)==null?void 0:I.toLowerCase())&&z.NotActiveIcon?y(z.NotActiveIcon,{className:O(x===((q=z.key)==null?void 0:q.toLowerCase()))}):y(z.Icon,{className:O(x===((Z=z.key)==null?void 0:Z.toLowerCase()))}),F>0&&z.key==="messages"&&y("div",{className:"absolute top-0 right-0 w-2 h-2 rounded-full bg-accent"})]})}),y("span",{className:`text-center truncate max-w-[90px] min-w-0 h-5 inline-block text-[13px] font-semibold main-transition select-none mt-1 ${x===((ae=z.key)==null?void 0:ae.toLowerCase())?T.isDarkerTheme?"text-background-foreground":"text-footer-primary":"text-foreground"}`,children:y("span",{className:"min-w-0 truncate",children:R(z.nameKey)})})]},z.key)})}),!((w=S==null?void 0:S.organization)!=null&&w.whitelabel)&&y("div",{className:"flex flex-row justify-center items-center my-1.5 -mt-[2.5px]",children:y("a",{href:`https://featurebase.app?utm_source=${(_=S==null?void 0:S.organization)!=null&&_.name?(k=S==null?void 0:S.organization)==null?void 0:k.name:"feedback"}&utm_medium=messenger&utm_campaign=powered-by&utm_id=${(E=S==null?void 0:S.organization)==null?void 0:E.id}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs leading-none font-medium hover:bg-secondary-active-foreground/5 main-transition hover:!text-secondary-active-foreground rounded-lg h-full flex flex-row items-center gap-1 px-2 py-1 text-secondary-foreground/90",children:[y("svg",{class:"h-[11px] w-[11px] opacity-80",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[y("g",{"clip-path":"url(#clip0_746_218)",children:[y("path",{d:"M19.1064 5.83416C20.158 6.56113 20.9798 7.5734 21.4753 8.75178C21.9708 9.93015 22.1194 11.2256 21.9034 12.4855C21.6875 13.7455 21.1159 14.9175 20.2564 15.8636C19.3966 16.8096 18.2845 17.4905 17.051 17.8257C16.5252 17.966 15.9676 17.9289 15.4649 17.7204C14.9622 17.5117 14.5422 17.1434 14.27 16.6719C13.9978 16.2007 13.8887 15.6527 13.9593 15.113C14.03 14.5733 14.2765 14.072 14.6609 13.6866L16.5655 11.7805C17.3635 10.9869 17.983 10.0324 18.3831 8.98044C18.783 7.92853 18.954 6.80343 18.8848 5.68018C18.954 5.73046 19.031 5.78073 19.1064 5.83416Z",fill:"currentColor"}),y("path",{d:"M5.83416 2.89086C6.56162 1.83999 7.57408 1.01873 8.75243 0.523713C9.93076 0.0286976 11.226 -0.11949 12.4857 0.0965962C13.7454 0.312681 14.9172 0.884048 15.8633 1.74347C16.8093 2.6029 17.49 3.71462 17.8257 4.94786C17.9671 5.47402 17.9308 6.0321 17.7226 6.53556C17.5144 7.03903 17.1459 7.45973 16.6743 7.73243C16.2027 8.00514 15.6542 8.11461 15.114 8.04386C14.5738 7.97311 14.0721 7.7261 13.6866 7.34115L11.782 5.43658C10.9869 4.64077 10.0321 4.02268 8.98054 3.62315C7.92898 3.2236 6.80464 3.05167 5.68173 3.11872C5.73045 3.04329 5.7823 2.96629 5.83416 2.89086Z",fill:"currentColor"}),y("path",{d:"M2.89086 16.1631C1.83999 15.4357 1.01873 14.4232 0.523713 13.2449C0.0286976 12.0665 -0.11949 10.7713 0.0965962 9.51164C0.312681 8.25193 0.884028 7.08015 1.74345 6.13414C2.60287 5.18812 3.71461 4.50723 4.94785 4.17159C5.47456 4.02776 6.03405 4.06225 6.53911 4.2697C7.04416 4.47713 7.46641 4.84585 7.73998 5.31836C8.01353 5.79087 8.12306 6.34062 8.0515 6.8819C7.97992 7.42318 7.73126 7.92556 7.34428 8.31074L5.43972 10.2153C5.17872 10.4773 4.93564 10.7566 4.71213 11.0513C3.57219 12.5614 3.00831 14.4285 3.12186 16.3171C3.04486 16.2668 2.96786 16.2165 2.89086 16.1631Z",fill:"currentColor"}),y("path",{d:"M16.1648 19.1064C15.4374 20.1578 14.4249 20.9795 13.2463 21.4748C12.0678 21.9701 10.7722 22.1185 9.51222 21.9024C8.2522 21.6862 7.08014 21.1147 6.134 20.2549C5.18786 19.3952 4.50702 18.2831 4.1716 17.0494C4.02861 16.5228 4.06372 15.9635 4.27149 15.4588C4.47927 14.9541 4.84802 14.5323 5.32039 14.2589C5.79276 13.9855 6.34227 13.876 6.88338 13.9472C7.42449 14.0185 7.92685 14.2666 8.31233 14.653L10.2169 16.5575C10.4778 16.8198 10.7572 17.063 11.0529 17.2851C12.562 18.4258 14.429 18.9898 16.3172 18.8754C16.2685 18.9524 16.2167 19.0309 16.1648 19.1064Z",fill:"currentColor"})]}),y("defs",{children:y("clipPath",{id:"clip0_746_218",children:y("rect",{width:"22",height:"22",fill:"white"})})})]}),"Powered by Featurebase"]})})]})};var b3=de(4074),Cc=de.n(b3);const Vg=["button","input","select","textarea","form","label","fieldset","legend","optgroup","option","datalist","keygen","output","meter","progress","object","embed"],qg=["name"];function v3(i){const s=new DOMParser().parseFromString(i,"text/html");return s.querySelectorAll("multicode-component").forEach(l=>{const c=l.getAttribute("data");if(c){const u=btoa(c);l.setAttribute("data",u)}}),s.body.innerHTML}function Ks(i,s=!0,l=!1,c){const u=v3(i);return s?Cc().sanitize(u,{ADD_TAGS:["iframe","callout-component","multicode-component","file-preview-component"],ADD_ATTR:["allow","allowfullscreen","frameborder","scrolling","color","data","activecode","id","fileName","fileSize","fileType","fileUrl"],FORBID_TAGS:Vg.filter(d=>!(l&&d==="input")),FORBID_ATTR:l?qg:[...qg,"style"],WHOLE_DOCUMENT:!1,SANITIZE_DOM:!0,KEEP_CONTENT:!0}):Cc().sanitize(u,{ALLOWED_TAGS:c?["mark"]:[],FORBID_ATTR:[],FORBID_TAGS:Vg})}function Gg(i){return i.nodeName==="IMG"}Cc().addHook("uponSanitizeAttribute",(i,s)=>{Gg(i)&&s.attrName==="src"&&s.attrValue.indexOf("blob:")===0&&(i.setAttribute("src",`${s.attrValue.substring(5)}#allowed-blob`),s.attrValue=i.getAttribute("src")||"")}),Cc().addHook("afterSanitizeAttributes",i=>{var s,l;if(Gg(i)&&i.getAttribute("src")&&((l=(s=i.getAttribute("src"))==null?void 0:s.indexOf("#allowed-blob"))!=null?l:-1)>-1){const c=i.getAttribute("src")||"";i.setAttribute("src",`blob:${c.replace("#allowed-blob","")}`)}});var y3=Object.defineProperty,Kg=Object.getOwnPropertySymbols,w3=Object.prototype.hasOwnProperty,_3=Object.prototype.propertyIsEnumerable,Yg=(i,s,l)=>s in i?y3(i,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[s]=l,k3=(i,s)=>{for(var l in s||(s={}))w3.call(s,l)&&Yg(i,l,s[l]);if(Kg)for(var l of Kg(s))_3.call(s,l)&&Yg(i,l,s[l]);return i};const x3={"text-sm":{height:13.5,marginTop:4.5,marginBottom:2},"text-base":{height:15,marginTop:4.5,marginBottom:4.5},"text-[13px]":{height:12,marginTop:5,marginBottom:4.5},"text-xs":{height:12,marginTop:2,marginBottom:2},"text-[15px]":{height:15,width:100,marginTop:1.5},"text-2xl":{height:22.5,width:100,marginTop:5,marginBottom:4.5}};function E3(i=""){const s=/\btext-(?:\[[^\]]+\]|[^\s]+)/g,l=i.match(s);return l==null?void 0:l[0]}function Jg(i,s){const l=k3({},i||{});return Object.keys(s).forEach(c=>{const u=s[c];u==null?delete l[c]:l[c]=u}),l}const ia=({children:i,className:s,placeholderStyle:l,renderAsHTML:c,renderHTML:u})=>{const d=E3(s),h=d?x3[d]:{},m=Array.isArray(l)?l.map(p=>Jg(h,p)):Jg(h,l||{});return y("p",{className:Yt(s,"px-1 -mx-1"),children:i!=null?y("span",{className:"",dangerouslySetInnerHTML:c?{__html:Ks(u)}:void 0,children:u?void 0:i}):Array.isArray(m)?m.map((p,g)=>y("span",{style:p,className:"text-placeholder"},g)):y("span",{style:m,className:"text-placeholder"})})};function C3(i,s){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:s},i),j.createElement("path",{d:"M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"}),j.createElement("path",{d:"M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"}))}const Zg=j.forwardRef(C3);function S3(i,s){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:s},i),j.createElement("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"}))}const zi=j.forwardRef(S3),T3=({title:i,goBackFunction:s,allowGoingBack:l,muted:c,customComponent:u,externalLink:d,customHeaderContent:h,mutedBorder:m})=>{const[p,g]=je(Zo),{t:b}=Fn();return y("div",{className:Yt(" shadow-md bg-primary text-primary-foreground  shadow-darker-background/[15%] w-full px-2",c?"bg-background text-secondary-active-foreground":"",m?"border-b border-border/60 shadow-sm":""),children:[y("div",{className:"flex items-center justify-center  min-h-[56px]",children:[l&&y("button",{onClick:()=>{s()},className:Yt("absolute left-3 text-primary-foreground/60 rounded-lg p-2 hover:bg-primary-foreground/10 main-transition",c&&"text-foreground/70 hover:bg-secondary-active-foreground/10"),"aria-label":b("header.back"),children:y("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",viewBox:"0 0 20 20",fill:"currentColor",children:y("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),h||y(ia,{placeholderStyle:{width:160},className:"text-[15px] inline-block max-w-[300px] truncate font-medium capitalize",children:i}),d&&!p&&y("button",{onClick:()=>{window.open(d,"_blank")},className:"absolute p-2 rounded-lg right-4 text-primary-foreground/60 hover:bg-primary-foreground/10 main-transition",children:y(Zg,{className:"w-5 h-5"})}),p&&y("button",{onClick:()=>{yn("MESSENGER_TOGGLE",{},"parent")},className:Yt("absolute p-2 rounded-lg right-4 text-primary-foreground/60 hover:bg-primary-foreground/10 main-transition",c&&"text-foreground/60 hover:bg-foreground/10"),children:y(zi,{className:"w-5 h-5"})})]}),u]})};var A3=Object.defineProperty,O3=Object.defineProperties,N3=Object.getOwnPropertyDescriptors,Xg=Object.getOwnPropertySymbols,R3=Object.prototype.hasOwnProperty,P3=Object.prototype.propertyIsEnumerable,Qg=(i,s,l)=>s in i?A3(i,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[s]=l,I3=(i,s)=>{for(var l in s||(s={}))R3.call(s,l)&&Qg(i,l,s[l]);if(Xg)for(var l of Xg(s))P3.call(s,l)&&Qg(i,l,s[l]);return i},M3=(i,s)=>O3(i,N3(s));const L3=()=>{var i;const s=Wg(ea),[l,c]=j.default.useState(!1);return s!=null&&s.header?y("div",{className:"absolute overflow-hidden -top-3 -inset-x-3",children:y("div",{className:"relative h-[520px] w-full overflow-hidden bg-gradient-to-b from-transparent to-background",children:[s.header.type==="color"&&y("div",{style:{backgroundColor:s.header.color},className:"w-full h-full"}),s.header.type==="gradient"&&y("div",{style:{background:`linear-gradient(to bottom, ${s.header.colorStart||s.header.color}, ${s.header.colorEnd||s.header.color})`},className:"w-full h-full"}),s.header.type==="image"&&(i=s.header)!=null&&i.src?y("img",{className:"object-cover w-full h-full pointer-events-none select-none",src:s.header.src,style:M3(I3({},s.header.blurPercentage?{filter:`blur(${s.header.blurPercentage*8}px)`}:{}),{opacity:l?1:0,transition:"opacity 0.15s ease-in-out"}),onLoad:()=>c(!0)}):null,y("div",{className:"absolute bottom-0 inset-x-0 h-64 bg-gradient-to-b from-transparent to-background"}),y("div",{className:"absolute bottom-0 inset-x-0 h-20 bg-gradient-to-b from-transparent to-background"})]})}):null},Sc=({showBackground:i,title:s,hasFooter:l,children:c,headerInfo:u,disableHeader:d,scrollingContainerRef:h,scrollingContainerOnScroll:m,hideFadeout:p,onPageLeave:g,isExpanded:b})=>{var w,_,k,E;const[T,S]=je(ea),[x,A]=je(Zo);return(0,j.useEffect)(()=>{const R=!!b;try{yn(R?"MESSENGER_TOGGLE_WIDE":"MESSENGER_TOGGLE_NARROW",{},"parent")}catch(N){console.error("Failed to toggle messenger width:",N)}},[b]),y("main",{className:"relative flex flex-col flex-grow h-full overflow-hidden",children:[y("div",{className:"flex flex-col flex-grow overflow-hidden relative flex-1",children:[d?x?y("button",{onClick:()=>{yn("MESSENGER_TOGGLE",{},"parent")},className:"absolute top-5 right-6 z-50 bg-secondary-foreground/[15%] rounded-lg p-2.5 backdrop-blur-sm",children:y(zi,{className:"!h-5 !w-5 text-white"})}):null:y(T3,{title:s,goBackFunction:(w=u==null?void 0:u.goBackFunction)!=null?w:()=>{},allowGoingBack:(_=u==null?void 0:u.allowGoingBack)!=null?_:!1,muted:(k=u==null?void 0:u.muted)!=null?k:!1,customComponent:u==null?void 0:u.customComponent,externalLink:u==null?void 0:u.externalLink,customHeaderContent:u==null?void 0:u.customHeaderContent,mutedBorder:(E=u==null?void 0:u.mutedBorder)!=null?E:!1}),y("div",{className:"overflow-y-auto overflow-x-hidden custom-scrollbar relative h-full",ref:h,onScroll:m,children:[i&&y(L3,{}),c]}),!p&&y("div",{className:"bg-gradient-to-b z-50 from-transparent absolute bottom-0 pointer-events-none to-background/30 w-full h-[20px]"})]}),l&&y(Hg,{onPageLeave:g})]})};var D3=Object.defineProperty,j3=Object.defineProperties,z3=Object.getOwnPropertyDescriptors,e0=Object.getOwnPropertySymbols,F3=Object.prototype.hasOwnProperty,B3=Object.prototype.propertyIsEnumerable,t0=(i,s,l)=>s in i?D3(i,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[s]=l,W3=(i,s)=>{for(var l in s||(s={}))F3.call(s,l)&&t0(i,l,s[l]);if(e0)for(var l of e0(s))B3.call(s,l)&&t0(i,l,s[l]);return i},U3=(i,s)=>j3(i,z3(s));const $3=({scrollRef:i,isOpen:s,headerColor:l,darkerTheme:c})=>{var u,d,h,m,p,g,b,w,_,k,E,T,S,x;const{t:A,i18n:R}=Fn(),[N,F]=(0,he.J0)(0),[P,O]=je(ea),[C,D]=je(On),[L,M]=je(Zo),z=C==null?void 0:C.recentChangelogs,I=((m=(h=(d=(u=C==null?void 0:C.messenger)==null?void 0:u.config)==null?void 0:d.content)==null?void 0:h.homeCards)==null?void 0:m[Co()])||[],q=(0,he.li)(null),Z=i.current?i:q,ae=Nt=>{const Bt=Nt.currentTarget.scrollTop;F(Bt)};(0,he.vJ)(()=>{Z.current&&F(Z.current.scrollTop)},[Z,s]);const se=0,Ae=180,be=65,Le=180,B=65,G=180;let te=1;N>=se&&N<Ae?te=1-(N-se)/(Ae-se):N>=Ae&&(te=0);let ye=0;N>=B&&N<G?ye=(N-B)/(G-B)*6:N>=G&&(ye=10),N<Le&&N>be?(te=(N-be)/(Le-be),ye=(N-B)/(G-B)*6):N<=be&&(te=1,ye=0);const Pe={opacity:te,transform:`translate3d(0, ${N*.18}px, 0)`,filter:`blur(${ye}px)`,transition:"opacity 0.5s cubic-bezier(0.4, 0, 0.2, 1), transform 0.5s cubic-bezier(0.4, 0, 0.2, 1), filter 0.5s cubic-bezier(0.4, 0, 0.2, 1)",willChange:"opacity, transform, filter",pointerEvents:"none",userSelect:"none"},Lt=(0,he.Kr)(()=>{var Nt,Bt,De,Ie,nt,Rt;const ge=(Ie=(De=(Bt=(Nt=C==null?void 0:C.messenger)==null?void 0:Nt.config)==null?void 0:Bt.content)==null?void 0:De.welcomeMessage)==null?void 0:Ie.greeting,qe=((nt=C==null?void 0:C.user)==null?void 0:nt.type)!=="lead"&&((Rt=C==null?void 0:C.user)==null?void 0:Rt.name)||"there";let pt=`Hey ${qe} \u{1F44B}`;if(ge){const lt=Eo(ge);lt&&(lt.match(/{{name(?:\|\|([^}]+))?}}/)?pt=lt.replace(/{{name(?:\|\|([^}]+))?}}/g,(kt,ut)=>qe||ut||"there"):pt=lt)}return pt},[(w=(b=(g=(p=C==null?void 0:C.messenger)==null?void 0:p.config)==null?void 0:g.content)==null?void 0:b.welcomeMessage)==null?void 0:w.greeting,(_=C==null?void 0:C.user)==null?void 0:_.name,R.language]),Dt=((k=P==null?void 0:P.header)==null?void 0:k.headerForegroundColor)||"#000",cn=Nt=>{var Bt,De,Ie,nt,Rt,ge,qe,pt,lt,kt,ut,tt,ve,et,it,rt,Je,Wt,Ot,Qt,pn;switch(Nt.type){case"new_conversation":let xn="Send us a message";try{if((Rt=(nt=(Ie=(De=(Bt=C==null?void 0:C.messenger)==null?void 0:Bt.config)==null?void 0:De.content)==null?void 0:Ie.conversationButtonText)==null?void 0:nt[Co()])!=null&&Rt[R.language])xn=Eo((ge=C.messenger.config.content.conversationButtonText)==null?void 0:ge[Co()]);else{const dt=((qe=C==null?void 0:C.organization)==null?void 0:qe.name)||"Team";xn=A("reach-out",{teamName:dt})}}catch(dt){console.error("Error getting button text",dt)}return y(Gs,{title:xn,onClick:()=>{yn("MESSENGER_OPEN_MESSAGES",{new:!0})},Icon:dt=>y("svg",U3(W3({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none"},dt),{children:y("path",{d:"M21.5973 2.54257C21.1299 2.03918 20.397 1.85063 19.6968 1.78314C18.9611 1.71223 18.08 1.75939 17.1313 1.88382C15.2288 2.13337 12.9302 2.71102 10.7222 3.42176C8.51281 4.13295 6.35914 4.98865 4.74626 5.80847C3.94355 6.21648 3.24734 6.62932 2.74121 7.02586C2.48919 7.22331 2.25922 7.436 2.08623 7.66237C1.92123 7.87829 1.74764 8.18549 1.75002 8.55582C1.75629 9.5279 2.41829 10.2149 3.12327 10.676C3.84284 11.1467 4.77998 11.5014 5.71161 11.7792C6.65324 12.06 7.64346 12.2776 8.49473 12.454C8.55052 12.4655 8.66203 12.4886 8.79867 12.5168C9.31323 12.6231 9.57051 12.6763 9.81237 12.6039C10.0542 12.5315 10.2402 12.3456 10.612 11.9737L14.2929 8.29289C14.6834 7.90237 15.3166 7.90237 15.7071 8.29289C16.0976 8.68342 16.0976 9.31659 15.7071 9.70711L12.2745 13.1397C11.8954 13.5188 11.7059 13.7083 11.6342 13.9543C11.5624 14.2003 11.6203 14.4614 11.736 14.9837C12.1844 17.0084 12.5738 18.6815 12.9623 19.8071C13.1892 20.4645 13.4445 21.0336 13.7678 21.4533C14.1052 21.8913 14.5642 22.2222 15.1683 22.2489C15.5444 22.2655 15.8571 22.0938 16.0715 21.9344C16.2975 21.7666 16.51 21.5414 16.7071 21.2953C17.1031 20.8005 17.5192 20.1159 17.9332 19.3247C18.7652 17.7347 19.6462 15.6028 20.3917 13.4096C21.1368 11.2173 21.7577 8.9306 22.0568 7.0301C22.206 6.0823 22.2798 5.20207 22.2388 4.46477C22.1999 3.76556 22.0509 3.03106 21.5973 2.54257Z",fill:"currentColor"})}))},"new_conversation");case"article_search":return(et=(ve=(tt=(kt=(lt=(pt=C==null?void 0:C.messenger)==null?void 0:pt.config)==null?void 0:lt.content)==null?void 0:kt.modules)==null?void 0:tt[((ut=C.user)==null?void 0:ut.type)==="customer"?"users":"visitors"])==null?void 0:ve.enabledModules)!=null&&et.Help?y(u3,{articleIds:Nt==null?void 0:Nt.articleIds},"article_search"):null;case"latest_updates":return z&&z.length>0&&(pn=(Qt=(Ot=(Je=(rt=(it=C==null?void 0:C.messenger)==null?void 0:it.config)==null?void 0:rt.content)==null?void 0:Je.modules)==null?void 0:Ot[((Wt=C.user)==null?void 0:Wt.type)==="customer"?"users":"visitors"])==null?void 0:Qt.enabledModules)!=null&&pn.Changelog?y("div",{className:"flex flex-col gap-2.5 relative z-20 mt-6",children:[y("p",{className:"main-bg-label",children:A("latest-updates")}),z.map(dt=>y(Gs,{wide:dt!=null&&dt.featuredImage?{img:dt==null?void 0:dt.featuredImage}:void 0,title:dt.title,description:Mg(dt.content),onClick:()=>{yn("MESSENGER_OPEN_CHANGELOG",{changelogId:dt.id})}},dt.id||dt.title))]},"latest_updates"):null;case"external_link":return y(Gs,{title:Eo(Nt.content)||"External Link",onClick:()=>{window.open(Nt.link,"_blank")}},Nt.link||"external_link");default:return null}};return y(Sc,{showBackground:!0,disableHeader:!0,hasFooter:!0,scrollingContainerRef:q,scrollingContainerOnScroll:ae,children:y("div",{className:"h-full",children:y("div",{className:"relative w-full h-auto",children:y("div",{className:"relative z-20 p-4 py-6 h-auto text-center",children:[y("div",{className:"transform-gpu animate-slide-down",style:Pe,children:[y("div",{className:Yt("flex items-center justify-between gap-3 px-1",L&&"pr-[50px]"),children:[y(l3,{color:Dt}),y(c3,{})]}),y("h1",{style:{color:Dt},className:"relative text-3xl font-semibold text-center pt-12 pb-2 opacity-90 [text-shadow:1px_1px_2px_hsl(var(--background)/0.2)]",children:Lt}),y("h2",{style:{color:Dt},className:"relative text-3xl font-semibold text-center pb-8 [text-shadow:1px_1px_2px_hsl(var(--background)/0.2)]",children:Eo((x=(S=(T=(E=C==null?void 0:C.messenger)==null?void 0:E.config)==null?void 0:T.content)==null?void 0:S.welcomeMessage)==null?void 0:x.introduction)||"How can we help?"})]}),y("div",{className:"flex flex-col gap-2.5 relative z-20",children:I.length>0?I.map(Nt=>Nt.type==="new_conversation"&&!ji("allowStartingConversations")?null:cn(Nt)):null})]})})},s?"open":"closed")})};function H3(i,s){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:s},i),j.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"}))}const V3=j.forwardRef(H3),q3=()=>{const[i]=je(On),s=Eo(i.messenger.config.content.conversationPreferences.specialNotice),l=ji("isSpecialNoticeEnabled");return!s||!l?null:y("div",{className:Yt(Ec(!1),"flex items-start justify-center p-4 mt-4 !rounded-xl"),children:[y(V3,{className:"flex-shrink-0 mt-0.5 w-4 h-4 text-accent"}),y("div",{className:"ml-2.5",children:y("p",{className:"text-[13px] !text-left text-secondary-foreground line-clamp-6",children:s})})]})},G3=()=>{var i,s,l,c,u,d;const[h]=je(On),{t:m}=Fn(),p=(i=h.messenger.config.content.conversationPreferences)==null?void 0:i.teamIntroduction,g=(s=h.messenger.config.content.conversationPreferences)==null?void 0:s.showReplyTimes,b=(l=h==null?void 0:h.organization)==null?void 0:l.displayName,w=(c=h==null?void 0:h.activeTeam)==null?void 0:c.slice(0,3),_=h==null?void 0:h.workflowBoot;return y("div",{className:"flex flex-col  pb-3.5 items-center justify-center text-center",children:[y(q3,{}),!((d=(u=h==null?void 0:h.messenger)==null?void 0:u.fibi)!=null&&d.enabled)&&!_?y("div",{className:"flex flex-col justify-center items-center px-6 pt-12",children:[y("div",{className:"flex items-center justify-centers",children:w==null?void 0:w.map((k,E)=>y("img",{src:k==null?void 0:k.profilePicture,className:`${E===Math.floor(w.length/2)?"w-16 h-16":"w-14 h-14"} rounded-full ${E===1?"border-2 -mx-2 border-background":""} ${E===Math.floor(w.length/2)?"z-30":E===w.length-1?"z-20":"z-10"}`},k==null?void 0:k.id))}),y("h3",{className:"mt-5 text-base font-semibold text-background-foreground",children:Eo(p)})]}):null]})},n0=({replyOptions:i,onReplyOptionClick:s,disabled:l=!1,strongShadowStyle:c=!1})=>{if(!i||i.length===0)return null;const[u]=je(ea),d=u==null?void 0:u.keepSecondaryWhiteTreshold,h=m=>{l||s(m.text,m.id)};return y("div",{className:"inline-flex flex-row flex-wrap gap-2 justify-end items-end mt-3 animate-slide-down-with-delay",children:i.map(m=>y("button",{onClick:()=>h(m),disabled:l,className:Yt("text-[15px] py-2  tansform-gpu shadow-lg hover:bg-primary/[90%] hover:text-primary-foreground hover:border-secondary-foreground/10 main-transition text-secondary-foreground rounded-xl px-3 bg-secondary/[95%] border border-border backdrop-blur-lg",c?"!shadow-background/50":"",d?"!shadow-lg border !shadow-secondary-foreground/5 border-secondary-foreground/[8%]":""),children:m.text},m.id))})},K3=({background:i,children:s})=>{var l;const c=[{name:"Accent",hex:""},{name:"Red",color:"bg-red-400",hex:"#f87171"},{name:"Orange",color:"bg-orange-400",hex:"#fb923c"},{name:"Yellow",color:"bg-yellow-400",hex:"#fbbf24"},{name:"Green",color:"bg-green-400",hex:"#4ade80"},{name:"Sky",color:"bg-sky-400",hex:"#38bdf8"},{name:"Teal",color:"bg-teal-400",hex:"#2dd4bf"},{name:"Blue",color:"bg-blue-400",hex:"#60a5fa"},{name:"Indigo",color:"bg-indigo-400",hex:"#818cf8"},{name:"Purple",color:"bg-purple-400",hex:"#c084fc"},{name:"Pink",color:"bg-pink-400",hex:"#f472b6"},{name:"Gray",color:"bg-gray-400",hex:"#4F587A"}],u=(l=i.toString())!=null&&l.startsWith("#")?{name:"Custom",hex:i}:c.find(h=>h.name===i),d=u!=null&&u.hex?u==null?void 0:u.hex:"hsl(var(--accent))";return y("div",{className:"relative p-4 overflow-hidden rounded-md",children:[y("div",{className:"absolute inset-0 rounded-md opacity-10",contentEditable:!1,style:{background:d}}),y("div",{className:"absolute inset-0 rounded-md opacity-10",contentEditable:!1,style:{border:`1px solid ${d}`}}),y("div",{className:"relative dark:text-white",children:s})]})};function NO(i,s){const l=React.createContext(s),c=d=>{const g=d,{children:h}=g,m=gn(g,["children"]),p=React.useMemo(()=>m,Object.values(m));return jsx(l.Provider,{value:p,children:h})};c.displayName=i+"Provider";function u(d){const h=React.useContext(l);if(h)return h;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}function Bd(i,s=[]){let l=[];function c(d,h){const m=j.createContext(h),p=l.length;l=[...l,h];const g=w=>{var A;const x=w,{scope:_,children:k}=x,E=gn(x,["scope","children"]),T=((A=_==null?void 0:_[i])==null?void 0:A[p])||m,S=j.useMemo(()=>E,Object.values(E));return y(T.Provider,{value:S,children:k})};g.displayName=d+"Provider";function b(w,_){var T;const k=((T=_==null?void 0:_[i])==null?void 0:T[p])||m,E=j.useContext(k);if(E)return E;if(h!==void 0)return h;throw new Error(`\`${w}\` must be used within \`${d}\``)}return[g,b]}const u=()=>{const d=l.map(h=>j.createContext(h));return function(m){const p=(m==null?void 0:m[i])||d;return j.useMemo(()=>({[`__scope${i}`]:Te(W({},m),{[i]:p})}),[m,p])}};return u.scopeName=i,[c,Y3(u,...s)]}function Y3(...i){const s=i[0];if(i.length===1)return s;const l=()=>{const c=i.map(u=>({useScope:u(),scopeName:u.scopeName}));return function(d){const h=c.reduce((m,{useScope:p,scopeName:g})=>{const w=p(d)[`__scope${g}`];return W(W({},m),w)},{});return j.useMemo(()=>({[`__scope${s.scopeName}`]:h}),[h])}};return l.scopeName=s.scopeName,l}function r0(i,s){if(typeof i=="function")return i(s);i!=null&&(i.current=s)}function a0(...i){return s=>{let l=!1;const c=i.map(u=>{const d=r0(u,s);return!l&&typeof d=="function"&&(l=!0),d});if(l)return()=>{for(let u=0;u<c.length;u++){const d=c[u];typeof d=="function"?d():r0(i[u],null)}}}}function Ys(...i){return j.useCallback(a0(...i),i)}var Tc=j.forwardRef((i,s)=>{const h=i,{children:l}=h,c=gn(h,["children"]),u=j.Children.toArray(l),d=u.find(Z3);if(d){const m=d.props.children,p=u.map(g=>g===d?j.Children.count(m)>1?j.Children.only(null):j.isValidElement(m)?m.props.children:null:g);return y(Wd,Te(W({},c),{ref:s,children:j.isValidElement(m)?j.cloneElement(m,void 0,p):null}))}return y(Wd,Te(W({},c),{ref:s,children:l}))});Tc.displayName="Slot";var Wd=j.forwardRef((i,s)=>{const u=i,{children:l}=u,c=gn(u,["children"]);if(j.isValidElement(l)){const d=Q3(l);return j.cloneElement(l,Te(W({},X3(c,l.props)),{ref:s?a0(s,d):d}))}return j.Children.count(l)>1?j.Children.only(null):null});Wd.displayName="SlotClone";var J3=({children:i})=>y(mn.Fragment,{children:i});function Z3(i){return j.isValidElement(i)&&i.type===J3}function X3(i,s){const l=W({},s);for(const c in s){const u=i[c],d=s[c];/^on[A-Z]/.test(c)?u&&d?l[c]=(...m)=>{d(...m),u(...m)}:u&&(l[c]=u):c==="style"?l[c]=W(W({},u),d):c==="className"&&(l[c]=[u,d].filter(Boolean).join(" "))}return W(W({},i),l)}function Q3(i){var c,u;let s=(c=Object.getOwnPropertyDescriptor(i.props,"ref"))==null?void 0:c.get,l=s&&"isReactWarning"in s&&s.isReactWarning;return l?i.ref:(s=(u=Object.getOwnPropertyDescriptor(i,"ref"))==null?void 0:u.get,l=s&&"isReactWarning"in s&&s.isReactWarning,l?i.props.ref:i.props.ref||i.ref)}var RO=null;function eE(i){const s=i+"CollectionProvider",[l,c]=Bd(s),[u,d]=l(s,{collectionRef:{current:null},itemMap:new Map}),h=k=>{const{scope:E,children:T}=k,S=j.default.useRef(null),x=j.default.useRef(new Map).current;return y(u,{scope:E,itemMap:x,collectionRef:S,children:T})};h.displayName=s;const m=i+"CollectionSlot",p=j.default.forwardRef((k,E)=>{const{scope:T,children:S}=k,x=d(m,T),A=Ys(E,x.collectionRef);return y(Tc,{ref:A,children:S})});p.displayName=m;const g=i+"CollectionItemSlot",b="data-radix-collection-item",w=j.default.forwardRef((k,E)=>{const F=k,{scope:T,children:S}=F,x=gn(F,["scope","children"]),A=j.default.useRef(null),R=Ys(E,A),N=d(g,T);return j.default.useEffect(()=>(N.itemMap.set(A,W({ref:A},x)),()=>void N.itemMap.delete(A))),y(Tc,{[b]:"",ref:R,children:S})});w.displayName=g;function _(k){const E=d(i+"CollectionConsumer",k);return j.default.useCallback(()=>{const S=E.collectionRef.current;if(!S)return[];const x=Array.from(S.querySelectorAll(`[${b}]`));return Array.from(E.itemMap.values()).sort((N,F)=>x.indexOf(N.ref.current)-x.indexOf(F.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:h,Slot:p,ItemSlot:w},_,c]}function o0(i,s,{checkForDefaultPrevented:l=!0}={}){return function(u){if(i==null||i(u),l===!1||!u.defaultPrevented)return s==null?void 0:s(u)}}function i0(i){const s=j.useRef(i);return j.useEffect(()=>{s.current=i}),j.useMemo(()=>(...l)=>{var c;return(c=s.current)==null?void 0:c.call(s,...l)},[])}function Ud({prop:i,defaultProp:s,onChange:l=()=>{}}){const[c,u]=tE({defaultProp:s,onChange:l}),d=i!==void 0,h=d?i:c,m=i0(l),p=j.useCallback(g=>{if(d){const w=typeof g=="function"?g(i):g;w!==i&&m(w)}else u(g)},[d,i,u,m]);return[h,p]}function tE({defaultProp:i,onChange:s}){const l=j.useState(i),[c]=l,u=j.useRef(c),d=i0(s);return j.useEffect(()=>{u.current!==c&&(d(c),u.current=c)},[c,u,d]),l}var nE=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Js=nE.reduce((i,s)=>{const l=j.forwardRef((c,u)=>{const p=c,{asChild:d}=p,h=gn(p,["asChild"]),m=d?Tc:s;return typeof window!="undefined"&&(window[Symbol.for("radix-ui")]=!0),y(m,Te(W({},h),{ref:u}))});return l.displayName=`Primitive.${s}`,Te(W({},i),{[s]:l})},{});function PO(i,s){i&&ReactDOM.flushSync(()=>i.dispatchEvent(s))}var IO=null,Ac=globalThis!=null&&globalThis.document?j.useLayoutEffect:()=>{};function rE(i,s){return j.useReducer((l,c)=>{const u=s[l][c];return u!=null?u:l},i)}var s0=i=>{const{present:s,children:l}=i,c=aE(s),u=typeof l=="function"?l({present:c.isPresent}):j.Children.only(l),d=Ys(c.ref,oE(u));return typeof l=="function"||c.isPresent?j.cloneElement(u,{ref:d}):null};s0.displayName="Presence";function aE(i){const[s,l]=j.useState(),c=j.useRef({}),u=j.useRef(i),d=j.useRef("none"),h=i?"mounted":"unmounted",[m,p]=rE(h,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const g=Oc(c.current);d.current=m==="mounted"?g:"none"},[m]),Ac(()=>{const g=c.current,b=u.current;if(b!==i){const _=d.current,k=Oc(g);i?p("MOUNT"):k==="none"||(g==null?void 0:g.display)==="none"?p("UNMOUNT"):p(b&&_!==k?"ANIMATION_OUT":"UNMOUNT"),u.current=i}},[i,p]),Ac(()=>{var g;if(s){let b;const w=(g=s.ownerDocument.defaultView)!=null?g:window,_=E=>{const S=Oc(c.current).includes(E.animationName);if(E.target===s&&S&&(p("ANIMATION_END"),!u.current)){const x=s.style.animationFillMode;s.style.animationFillMode="forwards",b=w.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=x)})}},k=E=>{E.target===s&&(d.current=Oc(c.current))};return s.addEventListener("animationstart",k),s.addEventListener("animationcancel",_),s.addEventListener("animationend",_),()=>{w.clearTimeout(b),s.removeEventListener("animationstart",k),s.removeEventListener("animationcancel",_),s.removeEventListener("animationend",_)}}else p("ANIMATION_END")},[s,p]),{isPresent:["mounted","unmountSuspended"].includes(m),ref:j.useCallback(g=>{g&&(c.current=getComputedStyle(g)),l(g)},[])}}function Oc(i){return(i==null?void 0:i.animationName)||"none"}function oE(i){var c,u;let s=(c=Object.getOwnPropertyDescriptor(i.props,"ref"))==null?void 0:c.get,l=s&&"isReactWarning"in s&&s.isReactWarning;return l?i.ref:(s=(u=Object.getOwnPropertyDescriptor(i,"ref"))==null?void 0:u.get,l=s&&"isReactWarning"in s&&s.isReactWarning,l?i.props.ref:i.props.ref||i.ref)}var iE=j.useId||(()=>{}),sE=0;function l0(i){const[s,l]=j.useState(iE());return Ac(()=>{i||l(c=>c!=null?c:String(sE++))},[i]),i||(s?`radix-${s}`:"")}var $d="Collapsible",[lE,c0]=Bd($d),[cE,Hd]=lE($d),u0=j.forwardRef((i,s)=>{const b=i,{__scopeCollapsible:l,open:c,defaultOpen:u,disabled:d,onOpenChange:h}=b,m=gn(b,["__scopeCollapsible","open","defaultOpen","disabled","onOpenChange"]),[p=!1,g]=Ud({prop:c,defaultProp:u,onChange:h});return y(cE,{scope:l,disabled:d,contentId:l0(),open:p,onOpenToggle:j.useCallback(()=>g(w=>!w),[g]),children:y(Js.div,Te(W({"data-state":qd(p),"data-disabled":d?"":void 0},m),{ref:s}))})});u0.displayName=$d;var d0="CollapsibleTrigger",f0=j.forwardRef((i,s)=>{const d=i,{__scopeCollapsible:l}=d,c=gn(d,["__scopeCollapsible"]),u=Hd(d0,l);return y(Js.button,Te(W({type:"button","aria-controls":u.contentId,"aria-expanded":u.open||!1,"data-state":qd(u.open),"data-disabled":u.disabled?"":void 0,disabled:u.disabled},c),{ref:s,onClick:o0(i.onClick,u.onOpenToggle)}))});f0.displayName=d0;var Vd="CollapsibleContent",h0=j.forwardRef((i,s)=>{const d=i,{forceMount:l}=d,c=gn(d,["forceMount"]),u=Hd(Vd,i.__scopeCollapsible);return y(s0,{present:l||u.open,children:({present:h})=>y(uE,Te(W({},c),{ref:s,present:h}))})});h0.displayName=Vd;var uE=j.forwardRef((i,s)=>{const A=i,{__scopeCollapsible:l,present:c,children:u}=A,d=gn(A,["__scopeCollapsible","present","children"]),h=Hd(Vd,l),[m,p]=j.useState(c),g=j.useRef(null),b=Ys(s,g),w=j.useRef(0),_=w.current,k=j.useRef(0),E=k.current,T=h.open||m,S=j.useRef(T),x=j.useRef(void 0);return j.useEffect(()=>{const R=requestAnimationFrame(()=>S.current=!1);return()=>cancelAnimationFrame(R)},[]),Ac(()=>{const R=g.current;if(R){x.current=x.current||{transitionDuration:R.style.transitionDuration,animationName:R.style.animationName},R.style.transitionDuration="0s",R.style.animationName="none";const N=R.getBoundingClientRect();w.current=N.height,k.current=N.width,S.current||(R.style.transitionDuration=x.current.transitionDuration,R.style.animationName=x.current.animationName),p(c)}},[h.open,c]),y(Js.div,Te(W({"data-state":qd(h.open),"data-disabled":h.disabled?"":void 0,id:h.contentId,hidden:!T},d),{ref:b,style:W({"--radix-collapsible-content-height":_?`${_}px`:void 0,"--radix-collapsible-content-width":E?`${E}px`:void 0},i.style),children:T&&u}))});function qd(i){return i?"open":"closed"}var dE=u0,fE=f0,hE=h0,m0=j.createContext(void 0),MO=i=>{const{dir:s,children:l}=i;return jsx(m0.Provider,{value:s,children:l})};function mE(i){const s=j.useContext(m0);return i||s||"ltr"}var LO=null,no="Accordion",pE=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Gd,gE,bE]=eE(no),[Nc,DO]=Bd(no,[bE,c0]),Kd=c0(),p0=j.default.forwardRef((i,s)=>{const h=i,{type:l}=h,c=gn(h,["type"]),u=c,d=c;return y(Gd.Provider,{scope:i.__scopeAccordion,children:l==="multiple"?y(_E,Te(W({},d),{ref:s})):y(wE,Te(W({},u),{ref:s}))})});p0.displayName=no;var[g0,vE]=Nc(no),[b0,yE]=Nc(no,{collapsible:!1}),wE=j.default.forwardRef((i,s)=>{const g=i,{value:l,defaultValue:c,onValueChange:u=()=>{},collapsible:d=!1}=g,h=gn(g,["value","defaultValue","onValueChange","collapsible"]),[m,p]=Ud({prop:l,defaultProp:c,onChange:u});return y(g0,{scope:i.__scopeAccordion,value:m?[m]:[],onItemOpen:p,onItemClose:j.default.useCallback(()=>d&&p(""),[d,p]),children:y(b0,{scope:i.__scopeAccordion,collapsible:d,children:y(v0,Te(W({},h),{ref:s}))})})}),_E=j.default.forwardRef((i,s)=>{const b=i,{value:l,defaultValue:c,onValueChange:u=()=>{}}=b,d=gn(b,["value","defaultValue","onValueChange"]),[h=[],m]=Ud({prop:l,defaultProp:c,onChange:u}),p=j.default.useCallback(w=>m((_=[])=>[..._,w]),[m]),g=j.default.useCallback(w=>m((_=[])=>_.filter(k=>k!==w)),[m]);return y(g0,{scope:i.__scopeAccordion,value:h,onItemOpen:p,onItemClose:g,children:y(b0,{scope:i.__scopeAccordion,collapsible:!0,children:y(v0,Te(W({},d),{ref:s}))})})}),[kE,Rc]=Nc(no),v0=j.default.forwardRef((i,s)=>{const k=i,{__scopeAccordion:l,disabled:c,dir:u,orientation:d="vertical"}=k,h=gn(k,["__scopeAccordion","disabled","dir","orientation"]),m=j.default.useRef(null),p=Ys(m,s),g=gE(l),w=mE(u)==="ltr",_=o0(i.onKeyDown,E=>{var D;if(!pE.includes(E.key))return;const T=E.target,S=g().filter(L=>{var M;return!((M=L.ref.current)!=null&&M.disabled)}),x=S.findIndex(L=>L.ref.current===T),A=S.length;if(x===-1)return;E.preventDefault();let R=x;const N=0,F=A-1,P=()=>{R=x+1,R>F&&(R=N)},O=()=>{R=x-1,R<N&&(R=F)};switch(E.key){case"Home":R=N;break;case"End":R=F;break;case"ArrowRight":d==="horizontal"&&(w?P():O());break;case"ArrowDown":d==="vertical"&&P();break;case"ArrowLeft":d==="horizontal"&&(w?O():P());break;case"ArrowUp":d==="vertical"&&O();break}const C=R%A;(D=S[C].ref.current)==null||D.focus()});return y(kE,{scope:l,disabled:c,direction:u,orientation:d,children:y(Gd.Slot,{scope:l,children:y(Js.div,Te(W({},h),{"data-orientation":d,ref:p,onKeyDown:c?void 0:_}))})})}),Pc="AccordionItem",[xE,Yd]=Nc(Pc),y0=j.default.forwardRef((i,s)=>{const w=i,{__scopeAccordion:l,value:c}=w,u=gn(w,["__scopeAccordion","value"]),d=Rc(Pc,l),h=vE(Pc,l),m=Kd(l),p=l0(),g=c&&h.value.includes(c)||!1,b=d.disabled||i.disabled;return y(xE,{scope:l,open:g,disabled:b,triggerId:p,children:y(dE,Te(W(W({"data-orientation":d.orientation,"data-state":C0(g)},m),u),{ref:s,disabled:b,open:g,onOpenChange:_=>{_?h.onItemOpen(c):h.onItemClose(c)}}))})});y0.displayName=Pc;var w0="AccordionHeader",_0=j.default.forwardRef((i,s)=>{const h=i,{__scopeAccordion:l}=h,c=gn(h,["__scopeAccordion"]),u=Rc(no,l),d=Yd(w0,l);return y(Js.h3,Te(W({"data-orientation":u.orientation,"data-state":C0(d.open),"data-disabled":d.disabled?"":void 0},c),{ref:s}))});_0.displayName=w0;var Jd="AccordionTrigger",k0=j.default.forwardRef((i,s)=>{const p=i,{__scopeAccordion:l}=p,c=gn(p,["__scopeAccordion"]),u=Rc(no,l),d=Yd(Jd,l),h=yE(Jd,l),m=Kd(l);return y(Gd.ItemSlot,{scope:l,children:y(fE,Te(W(W({"aria-disabled":d.open&&!h.collapsible||void 0,"data-orientation":u.orientation,id:d.triggerId},m),c),{ref:s}))})});k0.displayName=Jd;var x0="AccordionContent",E0=j.default.forwardRef((i,s)=>{const m=i,{__scopeAccordion:l}=m,c=gn(m,["__scopeAccordion"]),u=Rc(no,l),d=Yd(x0,l),h=Kd(l);return y(hE,Te(W(W({role:"region","aria-labelledby":d.triggerId,"data-orientation":u.orientation},h),c),{ref:s,style:W({"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)"},i.style)}))});E0.displayName=x0;function C0(i){return i?"open":"closed"}var EE=p0,CE=y0,SE=_0,S0=k0,T0=E0;function TE(i,s){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:s},i),j.createElement("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"}))}const Zd=j.forwardRef(TE);var AE=Object.defineProperty,OE=Object.defineProperties,NE=Object.getOwnPropertyDescriptors,Ic=Object.getOwnPropertySymbols,A0=Object.prototype.hasOwnProperty,O0=Object.prototype.propertyIsEnumerable,N0=(i,s,l)=>s in i?AE(i,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[s]=l,Xd=(i,s)=>{for(var l in s||(s={}))A0.call(s,l)&&N0(i,l,s[l]);if(Ic)for(var l of Ic(s))O0.call(s,l)&&N0(i,l,s[l]);return i},R0=(i,s)=>OE(i,NE(s)),Qd=(i,s)=>{var l={};for(var c in i)A0.call(i,c)&&s.indexOf(c)<0&&(l[c]=i[c]);if(i!=null&&Ic)for(var c of Ic(i))s.indexOf(c)<0&&O0.call(i,c)&&(l[c]=i[c]);return l};const RE=EE,P0=j.forwardRef((i,s)=>{var l=i,{className:c}=l,u=Qd(l,["className"]);return y(CE,Xd({ref:s,className:Yt("border-b",c)},u))});P0.displayName="AccordionItem";const I0=j.forwardRef((i,s)=>{var l=i,{className:c,children:u,dontTruncate:d,fullWidth:h,flippedChevron:m}=l,p=Qd(l,["className","children","dontTruncate","fullWidth","flippedChevron"]);return y(SE,{className:"flex",children:y(S0,R0(Xd({ref:s,className:Yt("flex flex-1 px-0 text-left items-center focus:ring-0 gap-3 justify-between py-4 text-sm font-medium [&[data-state=open]>svg]:rotate-180",c,m&&"[&[data-state=open]>svg]:rotate-90")},p),{children:[y("span",{className:Yt(h?"max-w-full w-full":"max-w-xl",!d&&"truncate"),children:u}),m?y(Zd,{className:"w-4 h-4 transition-transform duration-200 shrink-0 secondary-svg"}):y(mm,{className:"w-4 h-4 transition-transform duration-200 shrink-0 secondary-svg"})]}))})});I0.displayName=S0.displayName;const M0=j.forwardRef((i,s)=>{var l=i,{className:c,children:u}=l,d=Qd(l,["className","children"]);return y(T0,R0(Xd({ref:s,className:"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down"},d),{children:y("div",{className:Yt("pb-4 pt-0",c),children:u})}))});M0.displayName=T0.displayName;function PE(i,s){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:s},i),j.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),j.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))}const IE=j.forwardRef(PE),ME=({text:i})=>{let[s,l]=(0,j.useState)(0),c=s>0;return(0,j.useEffect)(()=>{if(s>0){let u=setTimeout(()=>l(0),1e3);return()=>{clearTimeout(u)}}},[s]),y("button",{type:"button",className:Yt("group/button !font-sans absolute right-4 text-secondary-foreground top-3.5 overflow-hidden rounded-lg py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100",c?"bg-accent/10 ring-1 ring-inset ring-accent/10":"bg-secondary/80 hover:bg-secondary"),onClick:()=>{window.navigator.clipboard.writeText(i).then(()=>{l(u=>u+1)})},children:[y("span",{"aria-hidden":c,className:Yt("pointer-events-none flex items-center gap-0.5 text-secondary-foreground transition duration-300",c&&"-translate-y-1.5 opacity-0"),children:[y(IE,{className:"w-4 mr-1 h-4 transition-colors fill-secondary-foreground/20 stroke-secondary-foreground group-hover/button:stroke-secondary-foreground"}),"Copy"]}),y("span",{"aria-hidden":!c,className:Yt("pointer-events-none absolute inset-0 flex items-center justify-center text-accent transition duration-300",!c&&"translate-y-1.5 opacity-0"),children:"Copied!"})]})},LE=({examples:i,activeItem:s,menu:l,editorElement:c,lowlight:u,updateAttributes:d,languagePicker:h,activeValue:m})=>{var p,g,b;const[w,_]=je(xp),[k,E]=j.default.useState((p=i[0])==null?void 0:p.id),T=c?m==null?void 0:m.value:(g=i.find(A=>A.id===k))==null?void 0:g.value;let S;try{S=u?u==null?void 0:u.highlight((c?m==null?void 0:m.language:(b=i.find(A=>A.id===k))==null?void 0:b.language)||"javascript",T):void 0}catch(A){console.error(A)}const x=s||k;return y("pre",{contentEditable:!1,className:"relative p-0 overflow-hidden border rounded-lg bg-secondary/20 border-border/50",children:[y("div",{className:"flex items-center justify-between px-4 border-b border-border/50",children:[y("div",{className:"py-3 ",children:y("span",{className:"font-medium text-foreground",children:"Example"})}),y("div",{className:"flex items-center gap-2 -mb-px",children:[i.map(A=>y("button",{className:Yt("flex rounded-none focus:ring-0 items-center  py-4 px-1 justify-between cursor-pointer main-transition text-foreground",(A==null?void 0:A.id)===x&&"border-footer-primary/60 text-footer-primary border-b"),onClick:()=>{d&&d({activeCode:A.id}),E(A.id)},children:y("div",{className:"flex items-center space-x-2 font-medium",children:y("span",{className:"text-sm",children:A.name})})},A==null?void 0:A.id)),l&&l]})]}),y("div",{className:"relative px-4 py-3 overflow-hidden group",children:[y("div",{className:Yt("absolute opacity-0 top-1.5 right-1.5 group-hover:opacity-100 main-transition z-20 flex items-center gap-2 focus-within:opacity-100",h?"opacity-100 z-50":""),children:[h&&h,!h&&y(ME,{text:T||""})]}),y("div",{className:"relative max-w-full overflow-x-auto overflow-y-hidden custom-horizontal-scrollbar",children:[S?y("code",{className:"!pt-0 !mt-0 !mb-0 !pb-0",dangerouslySetInnerHTML:{__html:Ks(S&&S.children&&S.children.length===0?T||"":S?(w==null?void 0:w.toHtml)&&(w==null?void 0:w.toHtml(S)):"")}}):!c&&y("code",{children:T||""}),c&&y("code",{children:c})]})]})]})};function DE(i,s){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:s},i),j.createElement("path",{fillRule:"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z",clipRule:"evenodd"}))}const Zs=j.forwardRef(DE);function jE(i,s){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:s},i),j.createElement("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z",clipRule:"evenodd"}))}const zE=j.forwardRef(jE);function FE(i,s){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:s},i),j.createElement("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"}))}const BE=j.forwardRef(FE);function WE(i,s){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:s},i),j.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"}))}const UE=j.forwardRef(WE),$E=i=>{if(i===0)return"0 bytes";if(i<1024)return i===1?"1 byte":`${i} bytes`;const s=i/1024;if(s>=1024*1024)return`${(s/(1024*1024)).toFixed(1)} GB`;if(s>=1024)return`${(s/1024).toFixed(1)} MB`;const l=parseFloat(s.toFixed(1));return`${l%1===0?Math.round(l):l} KB`},ef=({children:i,className:s="",fileName:l,subtitle:c,actions:u})=>y("div",{className:`border border-border flex bg-secondary p-4 rounded-lg min-w-0 select-none ${s}`,children:[y(zE,{className:"text-foreground/60 !h-5 !w-5 flex-shrink-0"}),y("div",{className:"flex flex-col w-full min-w-0 ml-3",children:[y("p",{className:"!text-sm !font-medium line-clamp-2 min-w-0",children:l}),c&&y("p",{className:"!text-xs text-foreground/[75%] mt-1 break-words min-w-0",children:c}),i]}),y("div",{className:"flex ml-auto w-[44px] flex-shrink-0 items-center justify-end gap-2",children:u})]}),HE=({fileUrl:i,fileName:s,fileSize:l,fileType:c,fileKey:u,fileId:d,uploadStatus:h,uploadError:m,uploadProgress:p=0,onCancel:g,onRetry:b})=>{const w=(0,j.useMemo)(()=>i?J4(i):"",[i]),_=(0,j.useMemo)(()=>{if(!c||c==="Unknown")return null;const k=Y4(c);return k!=="unknown"?k.replace(/^\w/,E=>E.toUpperCase()):null},[c]);if(h==="uploading")return y(ef,{fileName:s,actions:g&&y("button",{onClick:()=>g(d),children:y(zi,{className:"secondary-svg !h-5 !w-5"})}),children:y("div",{className:"h-[20px]",children:y("div",{className:"w-full bg-foreground/[15%] rounded-full h-2 mt-2",children:y("div",{className:"h-2 rounded-full bg-foreground/70",style:{width:`${p}%`}})})})});if(h==="error"){const k="Upload failed."+(m?` ${m}`:"");return y(ef,{fileName:s,subtitle:k,actions:b&&y("button",{onClick:()=>b(d),children:y(BE,{className:"secondary-svg !h-5 !w-5"})})})}return y(ef,{fileName:s,subtitle:y(mn.Fragment,{children:[$E(parseFloat(l)),_&&y(mn.Fragment,{children:[y("span",{className:"mx-1 opacity-80",children:"\u2022"})," ",_]})]}),actions:y("div",{onClick:()=>{w&&window.open(w,"_blank","noopener,noreferrer")},role:"button","aria-label":"Download file",className:"inline-flex items-center justify-center w-10 h-10 p-0 text-sm font-medium transition-colors rounded-md cursor-pointer group ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-secondary-foreground/10",children:y(UE,{className:"text-foreground/60 group-hover:text-secondary-foreground !h-5 !w-5"})})})},ti=()=>y("svg",{className:"inherit-width inherit-height",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",style:{maxHeight:28,maxWidth:28},children:y("circle",{cx:50,cy:50,r:32,strokeWidth:8,stroke:"currentColor",strokeDasharray:"50.26548245743669 50.26548245743669",fill:"none",strokeLinecap:"round",children:y("animateTransform",{attributeName:"transform",type:"rotate",repeatCount:"indefinite",dur:"1.075268817204301s",keyTimes:"0;1",values:"0 50 50;360 50 50"})})}),VE=j.default.lazy(()=>Promise.all([de.e(2550),de.e(8096),de.e(9682)]).then(de.t.bind(de,3554,23))),qE=({url:i,optimistic:s=!1})=>{const[l,c]=(0,j.useState)(!s),[u,d]=(0,j.useState)(s),[h,m]=(0,j.useState)(0),p=(0,j.useRef)(null),{t:g}=Fn();(0,j.useEffect)(()=>{i&&(c(!s),d(s))},[i,s]);const b=()=>{d(!0),c(!1)},w=()=>{c(!0),d(!1),setTimeout(()=>{m(E=>E+1)},3500)},_=i!=null&&i.endsWith(".mpd")?{file:{attributes:{disableRemotePlayback:!0},forceDASH:!0,dashVersion:"4.7.4"}}:{};if(!i)return null;const k=()=>y("div",{className:"flex flex-col items-center justify-center w-full h-48 px-2.5 text-center bg-background",children:[y("div",{className:"mb-3 w-5 h-5 text-foreground/60",children:y(ti,{})}),y("p",{className:"text-[11px] pointer-events-none !text-foreground",children:g("content-player.processing")}),y("p",{className:"!text-[11px] pointer-events-none !text-foreground opacity-80 mt-2.5",children:g("content-player.processing-time")})]});return y("div",{className:"overflow-hidden rounded-lg aspect-auto",children:[y(j.Suspense,{fallback:y("div",{className:"flex justify-center items-center w-full max-w-full h-48 aspect-video",children:y("div",{className:"w-5 h-5 text-foreground/60",children:y(ti,{})})}),children:y(VE,{ref:p,className:"w-full max-w-full",controls:!0,url:i,config:_,onError:w,onReady:b,style:{display:u?"block":"none"}},`${i}-${h}`)}),(l||!u)&&k()]})},GE=(0,j.memo)(qE,(i,s)=>i.url===s.url);var KE=Object.defineProperty,L0=Object.getOwnPropertySymbols,YE=Object.prototype.hasOwnProperty,JE=Object.prototype.propertyIsEnumerable,D0=(i,s,l)=>s in i?KE(i,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[s]=l,ZE=(i,s)=>{for(var l in s||(s={}))YE.call(s,l)&&D0(i,l,s[l]);if(L0)for(var l of L0(s))JE.call(s,l)&&D0(i,l,s[l]);return i},XE=(i,s,l)=>new Promise((c,u)=>{var d=p=>{try{m(l.next(p))}catch(g){u(g)}},h=p=>{try{m(l.throw(p))}catch(g){u(g)}},m=p=>p.done?c(p.value):Promise.resolve(p.value).then(d,h);m((l=l.apply(i,s)).next())});const QE=[{hostname:"www.youtube.com"},{hostname:"youtube.com"},{hostname:"youtu.be"},{hostname:"youtube-nocookie.com"},{hostname:"www.youtube-nocookie.com"},{hostname:"share.descript.com"},{hostname:"www.loom.com"},{hostname:"loom.com"}],Xs=({content:i,allowAllIframes:s=!1,helpCenterUrlParts:l,setActiveItem:c,fullscreenPopup:u=!1,forceLoadContent:d=!1})=>{var h;const m=(0,he.Kr)(()=>Ks(i,!0,!0),[i]),[p]=je(ea),[g,b]=je(lc),[w,_]=je(xp),[k,E]=je(On),T=k==null?void 0:k.organization,S=`https://${T==null?void 0:T.customDomain}`||`https://${T==null?void 0:T.name}.featurebase.app`,x=((h=T==null?void 0:T.activeHelpCenter)==null?void 0:h.externalDomain)||S;if((0,he.vJ)(()=>{function N(){return XE(this,null,function*(){if((g||d)&&(!w.parser||!w.domToReact||!w.lowlight||!w.toHtml)){const F=yield Promise.all([de.e(1838),de.e(1157),de.e(8096),de.e(2063)]).then(de.bind(de,900)),{default:P,domToReact:O}=F,C=yield Promise.all([de.e(8531),de.e(6021),de.e(8096),de.e(4444)]).then(de.bind(de,1829)),{common:D,createLowlight:L}=C,M=L(D),z=yield Promise.all([de.e(8748),de.e(8096),de.e(7301)]).then(de.bind(de,8947));_({parser:P,domToReact:O,lowlight:M,toHtml:z.toHtml})}})}N()},[g,w,_,d]),!w.parser||!w.domToReact||!w.lowlight||!w.toHtml)return y("div",{className:"relative w-auto changelog",children:[y("div",{className:"w-auto installation-content",dangerouslySetInnerHTML:{__html:m}}),y("div",{className:"absolute -inset-1 rounded-md backdrop-blur-sm animate-pulse transform-gpu bg-foreground/10"})]});const A={library:de(172),replace:N=>{var F;if(N.type!=="tag")return;const P=N,{name:O,attribs:C,children:D}=P;if(!C)return;if(O==="video"&&C.src)return y(GE,{url:C.src},`video-player-${C.src}`);if(O==="img"&&C.src)if(u){const[M,z]=(0,he.J0)(!1),[I,q]=(0,he.J0)({x:0,y:0});return y("img",{src:C.src,alt:C.alt||"",className:"!rounded-none cursor-zoom-out transition-transform duration-300",onError:Z=>{console.error("Error loading image:",Z),Z.currentTarget.style.display="none"}})}else return y("img",{onClick:()=>{yn("MESSENGER_OPEN_FULLSCREEN_POPUP",{content:`<img src="${C.src}" class="w-full" />`},"parent")},src:C.src,alt:C.alt||"",className:"w-full rounded-lg cursor-zoom-in"});if(O==="a"){const M=C.href||"#",z=M.startsWith("#")?"_self":"_blank";if(l&&C["data-help-center-id"]===l.helpCenterId){if(C["data-collection-id"]){const I=C["data-slug"]||"",q=`${l.subpath}collections/${I}`;return y("a",{href:c?void 0:q,onClick:()=>{c&&c({collectionId:C["data-collection-id"]})},target:"_blank",rel:"noopener noreferrer nofollow",className:"mention",children:[y(Zs,{}),w.domToReact(D,A)]})}if(C["data-article-id"]){const I=C["data-slug"]||"";let q=`${l.subpath}articles/${I}`,Z="_blank";const ae=C["data-hash"]||"";return ae.startsWith("#")&&C["data-article-id"]===l.articleId?(q=ae,Z="_self"):ae.startsWith("#")&&(q+=ae),y("a",{href:c?ae||void 0:q,target:"_self",rel:"noopener noreferrer nofollow",className:"mention",onClick:se=>{if(ae&&ae.startsWith("#")){se.preventDefault();const Ae=ae.substring(1),be=se.currentTarget.ownerDocument.getElementById(Ae);be&&be.scrollIntoView({behavior:"smooth"})}else c&&(se.preventDefault(),c({articleId:C["data-article-id"]}))},ref:se=>{se&&ae&&(se.href=se.ownerDocument.location.pathname+ae)},children:[y(Zs,{}),w.domToReact(D,A)]})}}return y("a",{href:M,target:"_blank",rel:"noopener noreferrer nofollow",className:`${p.isDarkerTheme?"!text-indigo-300":"!text-indigo-500"} `,children:w.domToReact(D,A)})}if(O==="span"&&C["data-type"]==="mention"){const M=C["data-id"]||"",[z,I]=M.split("-",2);if(I==="post")return y("a",{href:`${S}/p/${z}`,target:"_blank",rel:"noopener noreferrer",className:"mention",children:[y(Zs,{}),w.domToReact(D,A)]});if(I==="changelog")return y("a",{href:`${S}/changelog/${z}`,target:"_blank",rel:"noopener noreferrer",className:"mention",children:[y(Zs,{}),w.domToReact(D,A)]});if(I==="article"){const q=vi.decode(z),Z=JSON.parse(q),{articleId:ae,locale:se}=Z,{data:Ae}=D==null?void 0:D[0];return y("a",{href:c?void 0:`${x}/${se}/help/articles/${ae}`,target:"_blank",rel:"noopener noreferrer",className:"mention",onClick:()=>{c&&c({articleId:ae})},children:[y(Zs,{}),Ae==null?void 0:Ae.replace("@","")]})}return y("span",{className:"mention",children:w.domToReact(D,A)})}if(O==="iframe"&&C.src){if(s)return y("iframe",{src:C.src,allowFullScreen:!0,style:{width:"100%",minHeight:"300px"}});try{const M=new URL(C.src);if(QE.some(z=>z.hostname.toLowerCase()===M.hostname.toLowerCase()))return y("iframe",{src:C.src,allowFullScreen:!0,style:{width:"100%",minHeight:"300px"}})}catch(M){}return y("p",{style:{color:"#f59e0b"},children:"Unsupported embed platform"})}if(O==="pre"&&D&&D.length>0){const M=D[0];if((M==null?void 0:M.name)==="code"&&M.children&&M.children.length>0){const z=M.children.reduce((I,q)=>q.type==="text"?I+q.data:q.name==="br"?I+`
`:I,"");try{const I=w.lowlight.highlightAuto(z);if(((F=I==null?void 0:I.children)==null?void 0:F.length)===0)return y("div",{className:`${p.isDarkerTheme?"dark":""}`,children:y("pre",{className:"overflow-x-auto bg-white custom-horizontal-scrollbar dark:bg-background",children:y("code",{children:z})})});{const q=w.toHtml(I);return y("div",{className:`${p.isDarkerTheme?"dark":""}`,children:y("pre",{className:"overflow-x-auto bg-white custom-horizontal-scrollbar dark:bg-background",children:y("code",{dangerouslySetInnerHTML:{__html:Ks(q)}})})})}}catch(I){return y("div",{className:`${p.isDarkerTheme?"dark":""}`,children:y("pre",{className:"overflow-x-auto bg-white dark:bg-background",children:y("code",{children:z})})})}}}if(O==="details")return y("div",{className:"accordion-component",children:y(RE,{collapsible:!0,type:"single",children:y(P0,{className:"border-b border-border",value:"item-1",children:[y(I0,{children:w.domToReact(D.find(M=>M.name==="summary").children,A)}),y(M0,{children:w.domToReact(D.filter(M=>M.name!=="summary"),A)})]})})});if(O==="multicode-component"&&C&&C.data)try{const M=vi.decode(C.data),z=JSON.parse(M);return y("div",{children:y(LE,{lowlight:w.lowlight,examples:z})})}catch(M){}if(O==="file-preview-component")return y(HE,{fileName:C["data-featurebase-content-filename"],fileSize:C["data-featurebase-content-filesize"],fileType:C["data-featurebase-content-filetype"],fileId:C["data-featurebase-content-fileid"],fileUrl:C.src,fileKey:C["data-featurebase-content-key"],uploadStatus:C["data-featurebase-content-uploadstatus"]});if(O==="callout-component"){const M=C.color||"#edf2f7";return y("div",{children:y(K3,{background:M,children:w.domToReact(D,A)})})}const L=ZE({},C||{});return delete L.class,delete L.className,(0,mn.h)(O,L,w.domToReact(D,A))}},R=w.parser(m,A);return y("div",{className:"w-auto changelog",children:y("div",{className:"w-auto installation-content",children:R})})},j0=({type:i,content:s,forceLoadContent:l=!1})=>{const c=(0,he.Kr)(()=>{const u=document.createElement("div");u.innerHTML=Ks(s);const d=(u.textContent||"").trim();return new RegExp("^(\\p{Emoji_Presentation}|\\p{Emoji}\\uFE0F)$","u").test(d)},[s]);return y("div",{className:`extra-cramped-content ${i==="active"?"active-styled-content":i==="muted"?"muted-styled-content":"changelog"} ${c?"content-only-emoji":""}`,children:y(Xs,{content:s,forceLoadContent:l})})},z0=()=>{const[i]=je(On);return{user:(i==null?void 0:i.user)||null}},F0=z0,tf={Unknown:"unknown",Desktop:"desktop",Android:"android",iOS:"ios",Email:"email"},YO={Open:"open",Closed:"closed",Snoozed:"snoozed"},JO={Urgent:"urgent",High:"high",Normal:"normal",Low:"low"},Vn={Unspecified:"unspec",UserMessage:"user_msg",AdminMessage:"admin_msg",AdminInternalNote:"admin_note",EmailMessage:"email_msg",AutomatedBotMessage:"bot_msg",QuickReplyOptionsPresented:"quick_reply_opts",QuickReply:"quick_reply",AttributeCollectionPrompt:"attr_prompt",AttributeCollectionComplete:"attr_complete",AiBotNoResponseFound:"ai_no_resp",AiBotAnswerGenerated:"ai_answer",Assignment:"assign",StatusChange:"status",MetadataUpdate:"metadata",TitleUpdate:"title",TagUpdate:"tags",SummaryGenerated:"summary",ParticipantAddedEvent:"part_add",ParticipantRemovedEvent:"part_remove",ParticipantBlockEvent:"part_block",ArticleReference:"article_ref",AttachmentRemovalEvent:"attach_remove",ContentDeletion:"content_del",LanguageDetectionResult:"lang_detect"},B0=new Set([Vn.UserMessage,Vn.AdminMessage,Vn.AdminInternalNote,Vn.EmailMessage]),ZO=[Vn.UserMessage,Vn.AdminMessage,Vn.AdminInternalNote,Vn.EmailMessage,Vn.AutomatedBotMessage,Vn.AttributeCollectionPrompt,Vn.AttributeCollectionComplete],W0=new Set([Vn.AutomatedBotMessage]),e5=new Set([Vn.AttributeCollectionPrompt]),nf={isHuman:i=>B0.has(i),isBot:i=>W0.has(i),isAttributeCollector:i=>e5.has(i)},Qs=({children:i,isPending:s=!1,isNextMessageFromDifferentAuthorType:l=!1})=>y("div",{style:{flex:"1 1 100%"},tabIndex:-1,className:Yt(`
      max-w-full
      
      ${l?"mb-5":"mb-3"}
      h-auto
      block
      relative
      after:content-['']
      after:block
      after:clear-both
      ${s?"animate-slide-down":""}`),children:i}),el=({altText:i="Author avatar",src:s="",isBot:l=!1,notAbsolute:c=!1,size:u="w-8 h-8"})=>{var d,h,m,p,g,b,w;const[_,k]=je(On),E=(h=(d=_==null?void 0:_.messenger)==null?void 0:d.fibi)==null?void 0:h.enabled,T=((b=(g=(p=(m=_==null?void 0:_.messenger)==null?void 0:m.config)==null?void 0:p.style)==null?void 0:g.logo)==null?void 0:b.imageUrl)||((w=_==null?void 0:_.organization)==null?void 0:w.picture);return y("div",{className:`${c?"":"absolute bottom-0 left-0"}`,children:y("div",{className:`inline-block pointer-events-none overflow-hidden select-none ${u} align-middle ${l&&E?"":"rounded-full "}`,children:l&&E?y("svg",{className:Yt("w-full h-full text-accent/[85%]"),viewBox:"0 0 279 298",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[y("path",{d:"M251.422 62.2137L248.504 67.4569L251.422 62.2137L159.89 11.2886C147.217 4.23776 131.807 4.23709 119.134 11.2868C119.134 11.2868 119.134 11.2868 119.134 11.2869L27.5813 62.2135C14.2585 69.6244 6 83.6836 6 98.9375V199.062C6 214.316 14.2584 228.376 27.5812 235.787L27.5813 235.787L119.134 286.713C131.807 293.763 147.217 293.763 159.89 286.711L251.421 235.787C264.742 228.376 273 214.316 273 199.064V98.936C273 83.6832 264.742 69.625 251.422 62.2137Z",fill:"currentColor",stroke:"currentColor","stroke-width":"12"}),y("path",{d:"M186 97V151",stroke:"#fff","stroke-width":"24","stroke-linecap":"round"}),y("path",{d:"M102 204V204C125.088 216.48 152.912 216.48 176 204V204",stroke:"#fff","stroke-width":"17","stroke-linecap":"round",opacity:.4}),y("path",{d:"M93 97V151",stroke:"#fff","stroke-width":"24","stroke-linecap":"round"})]}):y("img",{src:E?s:l?T:s,alt:i,className:"h-full w-full"})})})},tl=({isFromActiveUser:i=!1,children:s,extendFullWidth:l=!1,isBot:c=!1,avatarSrc:u="",shouldShowAvatar:d=!1,name:h="",isNextPartFromSameAuthor:m=!1,wasLastFromSameAuthor:p=!1,messageDate:g="",showAvatarOnLeft:b=!1,deleted:w=!1,fullWidth:_=!1})=>{var k,E,T,S,x,A;const[R]=je(ea),N=R==null?void 0:R.keepSecondaryWhiteTreshold,[F]=je(On),{t:P}=Fn(),O=R.isDarkerTheme?((T=(E=(k=F==null?void 0:F.messenger)==null?void 0:k.config)==null?void 0:E.style)==null?void 0:T.compiledThemeDark)||"":((A=(x=(S=F==null?void 0:F.messenger)==null?void 0:S.config)==null?void 0:x.style)==null?void 0:A.compiledTheme)||"",C=Ts(to(O,"background")||"").luminance()>.85,D=g?xc(new Date(g),{addSuffix:!0}).charAt(0).toUpperCase()+xc(new Date(g),{addSuffix:!0}).slice(1):"";return y(mn.Fragment,{children:[!i&&b&&y("div",{className:"inline-block mr-2.5 w-8 h-8 relative",children:y("div",{className:"pb-2",children:y(el,{size:"h-8 w-8",isBot:c,src:u})})}),y("div",{style:{wordBreak:"break-word"},className:Yt("py-4 px-3.5 text-sm rounded-sm border break-words inline-block w-auto max-w-full",i?"bg-primary/90 text-primary-foreground float-right border-primary":N?C?"bg-secondary-foreground/5 text-secondary-foreground border-secondary-foreground/5":"bg-white/[95%] text-secondary-foreground border-secondary-foreground/5":"bg-secondary/80 text-secondary-foreground border-border/30",i?"rounded-l-2xl":"rounded-r-2xl",m?"-mb-[9px]":"",!m&&"rounded-b-2xl",!p&&"rounded-t-2xl",w&&"opacity-75",_&&"w-full"),children:[d&&y("div",{className:"flex gap-2 items-center mb-3",children:[!i&&y(el,{notAbsolute:!0,size:"h-6 w-6",isBot:c,src:u}),y("p",{className:"text-[13px] font-semibold text-secondary-active-foreground",title:D,children:h})]}),y("span",{title:D,children:w?P("deleted-message"):s})]})]})},t5=({isFromActiveUser:i=!1,onRetry:s})=>y("div",{onClick:s,className:`pl-[45px] cursor-pointer text-[13px] pt-2 clear-both inline-block ${i?"float-right text-right":"float-left text-left"}`,children:"Failed to send. Click to retry."}),nl=({isFromActiveUser:i=!1,isBot:s=!1,children:l,avatarSrc:c="",shouldShowAvatar:u=!1,sendStatus:d})=>y("div",{className:`relative ${i?"float-right":"float-left"} w-[calc(100%-32px)] text-left ${d==="pending"?"":d==="error"?"opacity-50 main-transition":"opacity-100 main-transition"}`,children:l});function n5(i,s){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:s},i),j.createElement("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),j.createElement("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"}))}const r5=j.forwardRef(n5);function a5(i,s){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:s},i),j.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"}))}const U0=j.forwardRef(a5);function o5(i,s){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:s},i),j.createElement("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"}))}const i5=j.forwardRef(o5);function s5(i,s,l,c={}){const{placement:u="bottom-start",offset:d=4,viewportMargin:h=8,matchReferenceWidth:m=!0}=c,[p,g]=(0,j.useState)({display:"none"}),b=(0,j.useCallback)(()=>{const w=i.current,_=s.current;if(!w||!_)return;let k,E=0;Lh(w,_,{placement:u,strategy:"fixed",middleware:[Ih(d),Mh(),Ru({padding:h}),ky({padding:h,apply({availableHeight:T,rects:S,elements:x}){if(m){const R=Math.round(S.reference.width);x.floating.style.width=`${R}px`,k=R}const A=Math.floor(T);A>=100?(x.floating.style.maxHeight=`${A}px`,x.floating.style.overflowY="auto",E=A):(x.floating.style.maxHeight="",x.floating.style.overflowY="",E=0)}})]}).then(({x:T,y:S})=>{g({position:"fixed",left:Math.round(T),top:Math.round(S),width:k,maxHeight:E||void 0,overflowY:"auto",zIndex:9999,display:"block"})})},[i,s,u,d,h,m]);return(0,j.useEffect)(()=>{if(!l){g({display:"none"});return}const w=i.current,_=s.current;if(!w||!_)return;const k=Ph(w,_,b,{elementResize:!0,ancestorResize:!0,ancestorScroll:!0});return b(),()=>k()},[l,b,i,s]),(0,j.useMemo)(()=>({style:p,recompute:b}),[p,b])}const $0=(0,j.createContext)(null),l5=({children:i})=>{const s=(0,j.useRef)(null),[l,c]=(0,j.useState)(null);return y($0.Provider,{value:l,children:[y("div",{id:"fb-portal-root",ref:u=>{s.current=u,u&&l!==u&&c(u)},style:{position:"fixed",inset:0,zIndex:2147483e3,pointerEvents:"none"}}),i]})};function c5(){return(0,j.useContext)($0)}var u5=Object.defineProperty,d5=Object.defineProperties,f5=Object.getOwnPropertyDescriptors,H0=Object.getOwnPropertySymbols,h5=Object.prototype.hasOwnProperty,m5=Object.prototype.propertyIsEnumerable,V0=(i,s,l)=>s in i?u5(i,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[s]=l,p5=(i,s)=>{for(var l in s||(s={}))h5.call(s,l)&&V0(i,l,s[l]);if(H0)for(var l of H0(s))m5.call(s,l)&&V0(i,l,s[l]);return i},g5=(i,s)=>d5(i,f5(s));const q0=({id:i,options:s,selectedValues:l,onChangeSelectedValues:c,placeholder:u,disabled:d,className:h,multiple:m=!1})=>{const p=(0,j.useRef)(null),g=(0,j.useRef)(null),[b,w]=(0,j.useState)(!1),_=(0,j.useRef)(null),k=c5()||document.body,{style:E,recompute:T}=s5(g,_,b,{placement:"bottom-start",offset:6,matchReferenceWidth:!0,portalRoot:k}),S=(0,j.useMemo)(()=>new Set(l),[l]),x=(0,j.useMemo)(()=>{if(m){const R=s.filter(N=>S.has(N.value)).map(N=>N.label);return R.length?R.join(", "):u||"Select options"}else{const R=s.find(N=>S.has(N.value));return R?R.label:u||"Select an option"}},[m,s,S,u]);(0,j.useEffect)(()=>{var R;if(!b)return;const N=((R=p.current)==null?void 0:R.ownerDocument)||document,F=O=>{var C,D;const L=O.target,M=(C=p.current)==null?void 0:C.contains(L),z=(D=_.current)==null?void 0:D.contains(L);!M&&!z&&w(!1)},P=O=>{O.key==="Escape"&&w(!1)};return N.addEventListener("mousedown",F),N.addEventListener("keydown",P),()=>{N.removeEventListener("mousedown",F),N.removeEventListener("keydown",P)}},[b]),(0,j.useEffect)(()=>{if(!b)return;const R=requestAnimationFrame(()=>T());return()=>cancelAnimationFrame(R)},[b,T]);const A=R=>{if(m){const N=new Set(l);N.has(R)?N.delete(R):N.add(R),c(Array.from(N))}else c([R]),w(!1)};return y("div",{ref:p,className:"relative w-full",children:[y("button",{ref:g,id:i,type:"button",disabled:d,className:`${h||""} flex items-center justify-between w-full h-9 px-2 rounded-lg border text-sm main-transition ${d?"opacity-60 cursor-not-allowed ":" "} bg-secondary-foreground/5 border-secondary-foreground/10`,onClick:()=>!d&&w(R=>!R),"aria-haspopup":"listbox","aria-expanded":b,children:[y("span",{className:`truncate ${l.length?"text-foreground":"text-secondary-foreground/60"}`,children:x}),y("svg",{className:"ml-2 w-4 h-4 text-secondary-foreground",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":!0,children:y("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.25 8.29a.75.75 0 01-.02-1.08z",clipRule:"evenodd"})})]}),b&&!d?(0,j.createPortal)(y("div",{ref:_,style:g5(p5({},E),{pointerEvents:"auto"}),className:"rounded-lg border shadow-2xl shadow-background custom-scrollbar bg-secondary text-foreground border-secondary-foreground/10",children:y("ul",{role:"listbox","aria-multiselectable":m||void 0,className:"overflow-auto py-1 custom-scrollbar",children:s.map(R=>{const N=S.has(R.value);return y("li",{role:"option","aria-selected":N,className:`px-2 py-1.5 text-sm cursor-pointer hover:bg-secondary-foreground/5 flex items-center justify-between ${N?"bg-secondary-foreground/5":""}`,onClick:()=>A(R.value),children:[y("span",{className:"truncate",children:R.label}),N&&y("svg",{className:"w-4 h-4 text-primary",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":!0,children:y("path",{fillRule:"evenodd",d:"M16.704 5.29a1 1 0 010 1.414l-7.25 7.25a1 1 0 01-1.414 0l-3.25-3.25A1 1 0 015.504 9.29l2.543 2.543 6.543-6.543a1 1 0 011.414 0z",clipRule:"evenodd"})})]},R.value)})})}),k):null]})},b5=({id:i,options:s,value:l,placeholder:c,disabled:u,className:d,onChange:h})=>y(q0,{id:i,options:s,selectedValues:l?[l]:[],onChangeSelectedValues:m=>h(m[0]||""),placeholder:c,disabled:u,className:d,multiple:!1}),v5=({id:i,options:s,value:l,placeholder:c,disabled:u,className:d,onChange:h})=>y(q0,{id:i,options:s,selectedValues:l,onChangeSelectedValues:h,placeholder:c,disabled:u,className:d,multiple:!0});var y5=(i,s,l)=>new Promise((c,u)=>{var d=p=>{try{m(l.next(p))}catch(g){u(g)}},h=p=>{try{m(l.throw(p))}catch(g){u(g)}},m=p=>p.done?c(p.value):Promise.resolve(p.value).then(d,h);m((l=l.apply(i,s)).next())});const w5=({attribute:i,onSubmit:s,hideInlineSubmit:l,onValueChange:c})=>{var u;const[d]=je(ea),[h]=je(On),[m,p]=(0,j.useState)((u=i.value)!=null?u:null),[g,b]=(0,j.useState)(null),[w,_]=(0,j.useState)(!1),{t:k}=Fn(),E=I=>I.trim()&&i.name==="Email"&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(I)?(b(k("form.email-validation-error")),!1):(b(null),!0),T=(0,j.useMemo)(()=>i.fieldSubType==="select",[i.fieldSubType]),S=(0,j.useMemo)(()=>i.fieldSubType==="select"||i.type==="array",[i.fieldSubType,i.type]),x=(0,j.useMemo)(()=>i.options?Array.isArray(i.options)?i.options.length===0?[]:typeof i.options[0]=="string"?i.options.map(I=>({value:I,label:I})):i.options.map(I=>{var q,Z,ae,se,Ae,be;const Le=(se=(ae=(Z=(q=I._id)!=null?q:I.id)!=null?Z:I.value)!=null?ae:I.label)!=null?se:"",B=(be=(Ae=I.label)!=null?Ae:I.value)!=null?be:String(Le);return{value:String(Le),label:B}}):[]:[],[i.options]);(0,j.useEffect)(()=>{const I=x,q=Z=>{const ae=(I||[]).find(se=>[se.value,se.label].some(Ae=>String(Ae)===String(Z)));return ae?ae.value:String(Z!=null?Z:"")};if(S&&I.length>0){const Z=Array.isArray(m)?m:m?[m]:[],ae=Z.map(q);ae.length!==((Z==null?void 0:Z.length)||0)||ae.some((se,Ae)=>{var be;return se!==String((be=Z[Ae])!=null?be:"")})?(p(ae),c==null||c(i.identifier,ae)):Z.length&&(c==null||c(i.identifier,ae))}if(!S&&I.length>0){const Z=m||"",ae=q(Z);ae!==String(Z)?(p(ae),c==null||c(i.identifier,ae)):Z&&(c==null||c(i.identifier,ae))}},[i.type,i.identifier,x]);const A=I=>{const q=I.currentTarget.value;p(q),c==null||c(i.identifier,q),g&&E(q)},R=I=>{const q=I.currentTarget.value,Z=q===""?"":Number(q);p(Z),c==null||c(i.identifier,Z),g&&q!==""&&E(String(q))},N=I=>{const q=I.currentTarget.value;p(q),c==null||c(i.identifier,q)},F=(0,j.useRef)(null),P=()=>{const I=F.current;if(I){if(typeof I.showPicker=="function")try{I.showPicker();return}catch(q){}I.focus()}},O=I=>{p(I.currentTarget.value),c==null||c(i.identifier,I.currentTarget.value)},C=I=>{const q=Array.from(I.currentTarget.selectedOptions).map(Z=>Z.value);p(q),c==null||c(i.identifier,q)},D=(0,j.useMemo)(()=>i.type==="boolean"||i.fieldSubType==="checkbox"||i.dataType==="boolean",[i.type,i.fieldSubType,i.dataType]),L=I=>{const q=I.currentTarget.checked;p(q),c==null||c(i.identifier,q)},M=()=>y5(void 0,null,function*(){const I=Array.isArray(m)?m.join(","):String(D||m!=null?m:"");if(E(I||"")){_(!0);try{(yield s(i.identifier,i.type==="number"?m===""||m===null?"":Number(m):D?!!m:m))&&p(null)}catch(q){b(k("form.submit-error")),console.error("Form submission error:",q)}finally{_(!1)}}}),z=I=>{l||I.key==="Enter"&&(I.preventDefault(),M())};return y("div",{className:"w-full",children:[y("label",{htmlFor:i.identifier,className:"text-[13px] font-medium select-none flex items-center gap-1",children:i.name==="Email"?y(mn.Fragment,{children:[y(r5,{className:"w-4 h-4 text-primary"})," ",k("form.email-notification-label")]}):i.name}),y("div",{className:"flex flex-col gap-1 mt-2 w-full",children:[y("div",{className:"flex gap-2 items-center w-full",children:[D?y("div",{role:"checkbox","aria-checked":typeof m=="boolean"?m:String(m!=null?m:"").toLowerCase()==="true",tabIndex:0,onKeyDown:I=>{if(!w&&(I.key===" "||I.key==="Enter")){I.preventDefault();const q=!(typeof m=="boolean"?m:String(m!=null?m:"").toLowerCase()==="true");p(q),c==null||c(i.identifier,q)}},onClick:()=>{if(w)return;const I=!(typeof m=="boolean"?m:String(m!=null?m:"").toLowerCase()==="true");p(I),c==null||c(i.identifier,I)},className:`p-1.5 px-2 flex items-center main-transition w-full text-sm shadow text-foreground border h-9 rounded-lg focus:ring-2 focus:ring-offset-1 focus:ring-offset-background focus:outline-none focus:ring-primary/30 bg-secondary-foreground/5 border-secondary-foreground/10 ${d.isDarkerTheme?"shadow-background/20":"shadow-foreground/[10%]"} ${w?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:y("div",{className:"inline-flex items-center",children:[y("span",{className:`w-4 h-4 rounded border transition-all duration-150 relative ${(typeof m=="boolean"?m:String(m!=null?m:"").toLowerCase()==="true")?"bg-primary border-primary":d.isDarkerTheme?"bg-background/60 border-secondary-foreground/20":"bg-white border-secondary-foreground/20"}`,children:y("svg",{className:`absolute inset-0 m-auto w-3 h-3 transition-opacity duration-150 ${(typeof m=="boolean"?m:String(m!=null?m:"").toLowerCase()==="true")?"opacity-100 text-primary-foreground":"opacity-0 text-transparent"}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:y("path",{d:"M20 6L9 17l-5-5"})})}),y("span",{className:"ml-2.5 text-sm select-none text-foreground/80",children:(typeof m=="boolean"?m:String(m!=null?m:"").toLowerCase()==="true")?"Selected":"Unselected"})]})}):i.type==="number"?y("input",{id:i.identifier,type:"number",value:m===null?"":m,onChange:R,onKeyDown:z,className:`p-1.5 px-2 main-transition w-full text-sm shadow text-foreground border h-9 placeholder:text-secondary-foreground/60 rounded-lg focus:ring-2 focus:ring-offset-1 focus:ring-offset-background focus:outline-none focus:ring-primary/30 bg-secondary-foreground/5 border-secondary-foreground/10 ${d.isDarkerTheme?"shadow-background/20":"shadow-foreground/[10%]"} ${g?"border-red-500 focus:ring-red-300":"border-secondary-foreground/10"}`,placeholder:k("form.input-placeholder",{field:i.name.toLowerCase()}),disabled:w}):i.type==="date"?y("div",{className:"relative w-full",children:[y("input",{ref:F,id:i.identifier,type:"date",value:m||"",onChange:N,className:`p-1.5 pl-2 pr-8 main-transition w-full text-sm shadow text-foreground border h-9 placeholder:text-secondary-foreground/60 rounded-lg focus:ring-2 focus:ring-offset-1 focus:ring-offset-background focus:outline-none focus:ring-primary/30 bg-secondary-foreground/5 border-secondary-foreground/10 appearance-none ${d.isDarkerTheme?"shadow-background/20":"shadow-foreground/[10%]"} ${g?"border-red-500 focus:ring-red-300":"border-secondary-foreground/10"}`,disabled:w}),y("button",{type:"button","aria-label":k("form.open-date-picker",{defaultValue:"Open date picker"}),onClick:P,className:"absolute right-2 top-1/2 p-1 rounded -translate-y-1/2 hover:bg-foreground/5 main-transition text-foreground/70",disabled:w,children:y(i5,{className:"w-4 h-4"})})]}):!T&&S&&x.length>0?y(v5,{id:i.identifier,options:x,value:m||[],onChange:I=>{p(I),c==null||c(i.identifier,I)},placeholder:k("form.select-placeholder",{field:i.name.toLowerCase()}),disabled:w,className:`p-1.5 px-2 w-full text-sm shadow text-foreground border placeholder:text-secondary-foreground/60 ${d.isDarkerTheme?"shadow-background/20":"shadow-foreground/[10%]"} ${g?"border-red-500":"border-secondary-foreground/10"}`}):(T||!S)&&x.length>0?y(b5,{id:i.identifier,options:x,value:S?(m==null?void 0:m[0])||"":m||"",onChange:I=>{const q=S?[I]:I;p(q),c==null||c(i.identifier,q)},placeholder:k("form.select-single-option-placeholder",{field:i.name.toLowerCase()}),disabled:w,className:`p-1.5 px-2 w-full text-sm shadow text-foreground border placeholder:text-secondary-foreground/60 ${d.isDarkerTheme?"shadow-background/20":"shadow-foreground/[10%]"} ${g?"border-red-500":"border-secondary-foreground/10"}`}):y("input",{id:i.identifier,type:i.type==="email"?"email":"text",value:m||"",onChange:A,onKeyDown:z,className:`p-1.5 px-2 main-transition w-full text-sm shadow text-foreground border h-9 placeholder:text-secondary-foreground/60 rounded-lg focus:ring-2 focus:ring-offset-1 focus:ring-offset-background focus:outline-none focus:ring-primary/30 bg-secondary-foreground/5 border-secondary-foreground/10 ${d.isDarkerTheme?"shadow-background/20":"shadow-foreground/[10%]"} ${g?"border-red-500 focus:ring-red-300":"border-secondary-foreground/10"}`,placeholder:k("form.input-placeholder",{field:i.name.toLowerCase()}),disabled:w}),!l&&y("button",{onClick:M,disabled:w,className:`text-[13px] border hover:opacity-70 main-transition border-primary text-muted-foreground bg-primary w-9 h-9 flex-shrink-0 flex items-center justify-center rounded-lg text-primary-foreground ${d.isDarkerTheme?"shadow-background/20":"shadow-foreground/[10%]"} ${w?"opacity-50 cursor-not-allowed":""}`,children:w?y("svg",{className:"w-4 h-4 animate-spin",viewBox:"0 0 24 24",children:[y("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),y("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):y(Zd,{className:"w-4 h-4"})})]}),g&&y("div",{className:"flex items-center gap-1 mt-0.5 text-xs font-medium text-red-500",children:[y(U0,{className:"flex-shrink-0 w-3 h-3"}),g]})]})]})};var _5=Symbol.for("preact-signals");function Mc(){if(Ao>1)Ao--;else{for(var i,s=!1;rl!==void 0;){var l=rl;for(rl=void 0,rf++;l!==void 0;){var c=l.o;if(l.o=void 0,l.f&=-3,!(8&l.f)&&K0(l))try{l.c()}catch(u){s||(i=u,s=!0)}l=c}}if(rf=0,Ao--,s)throw i}}function k5(i){if(Ao>0)return i();Ao++;try{return i()}finally{Mc()}}var wn=void 0;function uN(i){var s=wn;wn=void 0;try{return i()}finally{wn=s}}var rl=void 0,Ao=0,rf=0,Lc=0;function G0(i){if(wn!==void 0){var s=i.n;if(s===void 0||s.t!==wn)return s={i:0,S:i,p:wn.s,n:void 0,t:wn,e:void 0,x:void 0,r:s},wn.s!==void 0&&(wn.s.n=s),wn.s=s,i.n=s,32&wn.f&&i.S(s),s;if(s.i===-1)return s.i=0,s.n!==void 0&&(s.n.p=s.p,s.p!==void 0&&(s.p.n=s.n),s.p=wn.s,s.n=void 0,wn.s.n=s,wn.s=s),s}}function Nr(i){this.v=i,this.i=0,this.n=void 0,this.t=void 0}Nr.prototype.brand=_5,Nr.prototype.h=function(){return!0},Nr.prototype.S=function(i){this.t!==i&&i.e===void 0&&(i.x=this.t,this.t!==void 0&&(this.t.e=i),this.t=i)},Nr.prototype.U=function(i){if(this.t!==void 0){var s=i.e,l=i.x;s!==void 0&&(s.x=l,i.e=void 0),l!==void 0&&(l.e=s,i.x=void 0),i===this.t&&(this.t=l)}},Nr.prototype.subscribe=function(i){var s=this;return Dc(function(){var l=s.value,c=wn;wn=void 0;try{i(l)}finally{wn=c}})},Nr.prototype.valueOf=function(){return this.value},Nr.prototype.toString=function(){return this.value+""},Nr.prototype.toJSON=function(){return this.value},Nr.prototype.peek=function(){var i=wn;wn=void 0;try{return this.value}finally{wn=i}},Object.defineProperty(Nr.prototype,"value",{get:function(){var i=G0(this);return i!==void 0&&(i.i=this.i),this.v},set:function(i){if(i!==this.v){if(rf>100)throw new Error("Cycle detected");this.v=i,this.i++,Lc++,Ao++;try{for(var s=this.t;s!==void 0;s=s.x)s.t.N()}finally{Mc()}}}});function Fi(i){return new Nr(i)}function K0(i){for(var s=i.s;s!==void 0;s=s.n)if(s.S.i!==s.i||!s.S.h()||s.S.i!==s.i)return!0;return!1}function Y0(i){for(var s=i.s;s!==void 0;s=s.n){var l=s.S.n;if(l!==void 0&&(s.r=l),s.S.n=s,s.i=-1,s.n===void 0){i.s=s;break}}}function J0(i){for(var s=i.s,l=void 0;s!==void 0;){var c=s.p;s.i===-1?(s.S.U(s),c!==void 0&&(c.n=s.n),s.n!==void 0&&(s.n.p=c)):l=s,s.S.n=s.r,s.r!==void 0&&(s.r=void 0),s=c}i.s=l}function Bi(i){Nr.call(this,void 0),this.x=i,this.s=void 0,this.g=Lc-1,this.f=4}(Bi.prototype=new Nr).h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===Lc))return!0;if(this.g=Lc,this.f|=1,this.i>0&&!K0(this))return this.f&=-2,!0;var i=wn;try{Y0(this),wn=this;var s=this.x();(16&this.f||this.v!==s||this.i===0)&&(this.v=s,this.f&=-17,this.i++)}catch(l){this.v=l,this.f|=16,this.i++}return wn=i,J0(this),this.f&=-2,!0},Bi.prototype.S=function(i){if(this.t===void 0){this.f|=36;for(var s=this.s;s!==void 0;s=s.n)s.S.S(s)}Nr.prototype.S.call(this,i)},Bi.prototype.U=function(i){if(this.t!==void 0&&(Nr.prototype.U.call(this,i),this.t===void 0)){this.f&=-33;for(var s=this.s;s!==void 0;s=s.n)s.S.U(s)}},Bi.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var i=this.t;i!==void 0;i=i.x)i.t.N()}},Object.defineProperty(Bi.prototype,"value",{get:function(){if(1&this.f)throw new Error("Cycle detected");var i=G0(this);if(this.h(),i!==void 0&&(i.i=this.i),16&this.f)throw this.v;return this.v}});function Z0(i){return new Bi(i)}function X0(i){var s=i.u;if(i.u=void 0,typeof s=="function"){Ao++;var l=wn;wn=void 0;try{s()}catch(c){throw i.f&=-2,i.f|=8,af(i),c}finally{wn=l,Mc()}}}function af(i){for(var s=i.s;s!==void 0;s=s.n)s.S.U(s);i.x=void 0,i.s=void 0,X0(i)}function x5(i){if(wn!==this)throw new Error("Out-of-order effect");J0(this),wn=i,this.f&=-2,8&this.f&&af(this),Mc()}function al(i){this.x=i,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}al.prototype.c=function(){var i=this.S();try{if(8&this.f||this.x===void 0)return;var s=this.x();typeof s=="function"&&(this.u=s)}finally{i()}},al.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,X0(this),Y0(this),Ao++;var i=wn;return wn=this,x5.bind(this,i)},al.prototype.N=function(){2&this.f||(this.f|=2,this.o=rl,rl=this)},al.prototype.d=function(){this.f|=8,1&this.f||af(this)};function Dc(i){var s=new al(i);try{s.c()}catch(l){throw s.d(),l}return s.d.bind(s)}var jc,of;function Wi(i,s){mn.options[i]=s.bind(null,mn.options[i]||function(){})}function zc(i){of&&of(),of=i&&i.S()}function Q0(i){var s=this,l=i.data,c=C5(l);c.value=l;var u=(0,he.Kr)(function(){for(var d=s,h=s.__v;h=h.__;)if(h.__c){h.__c.__$f|=4;break}var m=Z0(function(){var g=c.value.value;return g===0?0:g===!0?"":g||""}),p=Z0(function(){var g;return(0,mn.isValidElement)(m.value)||((g=s.base)==null?void 0:g.nodeType)!==3});return s.__$u.c=function(){var g;!(0,mn.isValidElement)(u.peek())&&((g=s.base)==null?void 0:g.nodeType)===3?s.base.data=u.peek():(s.__$f|=1,s.setState({}))},Dc(function(){Oo||(Oo=this.N),this.N=nb,p.value&&d.base&&(d.base.data=m.value)}),m},[]);return u.value}Q0.displayName="_st",Object.defineProperties(Nr.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:Q0},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}}),Wi("__b",function(i,s){if(typeof s.type=="string"){var l,c=s.props;for(var u in c)if(u!=="children"){var d=c[u];d instanceof Nr&&(l||(s.__np=l={}),l[u]=d,c[u]=d.peek())}}i(s)}),Wi("__r",function(i,s){zc();var l,c=s.__c;c&&(c.__$f&=-2,(l=c.__$u)===void 0&&(c.__$u=l=function(u){var d;return Dc(function(){d=this}),d.c=function(){c.__$f|=1,c.setState({})},d}())),jc=c,zc(l),i(s)}),Wi("__e",function(i,s,l,c){zc(),jc=void 0,i(s,l,c)}),Wi("diffed",function(i,s){zc(),jc=void 0;var l;if(typeof s.type=="string"&&(l=s.__e)){var c=s.__np,u=s.props;if(c){var d=l.U;if(d)for(var h in d){var m=d[h];m!==void 0&&!(h in c)&&(m.d(),d[h]=void 0)}else l.U=d={};for(var p in c){var g=d[p],b=c[p];g===void 0?(g=E5(l,p,b,u),d[p]=g):g.o(b,u)}}}i(s)});function E5(i,s,l,c){var u=s in i&&i.ownerSVGElement===void 0,d=Fi(l);return{o:function(h,m){d.value=h,c=m},d:Dc(function(){Oo||(Oo=this.N),this.N=nb;var h=d.value.value;c[s]!==h&&(c[s]=h,u?i[s]=h:h?i.setAttribute(s,h):i.removeAttribute(s))})}}Wi("unmount",function(i,s){if(typeof s.type=="string"){var l=s.__e;if(l){var c=l.U;if(c){l.U=void 0;for(var u in c){var d=c[u];d&&d.d()}}}}else{var h=s.__c;if(h){var m=h.__$u;m&&(h.__$u=void 0,m.d())}}i(s)}),Wi("__h",function(i,s,l,c){(c<3||c===9)&&(s.__$f|=2),i(s,l,c)}),mn.Component.prototype.shouldComponentUpdate=function(i,s){var l=this.__$u;if(!(l&&l.s!==void 0||4&this.__$f)||3&this.__$f)return!0;for(var c in s)return!0;for(var u in i)if(u!=="__source"&&i[u]!==this.props[u])return!0;for(var d in this.props)if(!(d in i))return!0;return!1};function C5(i){return(0,he.Kr)(function(){return Fi(i)},[])}function dN(i){var s=f(i);return s.current=i,jc.__$f|=4,t(function(){return e(function(){return s.current()})},[])}var Oo,eb=null,tb=[],S5=typeof requestAnimationFrame=="undefined"?setTimeout:requestAnimationFrame,T5=function(i){queueMicrotask(function(){queueMicrotask(i)})};function A5(){v(function(){for(var i;i=eb.shift();)Oo.call(i)})}function O5(){eb.push(this)===1&&(n.requestAnimationFrame||S5)(A5)}function N5(){k5(function(){for(var i;i=tb.shift();)Oo.call(i)})}function nb(){tb.push(this)===1&&(mn.options.requestAnimationFrame||T5)(N5)}function fN(i){var s=f(i);s.current=i,o(function(){return a(function(){return Oo||(Oo=this.N),this.N=O5,s.current()})},[])}var R5=Object.defineProperty,P5=Object.defineProperties,I5=Object.getOwnPropertyDescriptors,Fc=Object.getOwnPropertySymbols,rb=Object.prototype.hasOwnProperty,ab=Object.prototype.propertyIsEnumerable,ob=(i,s,l)=>s in i?R5(i,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[s]=l,ol=(i,s)=>{for(var l in s||(s={}))rb.call(s,l)&&ob(i,l,s[l]);if(Fc)for(var l of Fc(s))ab.call(s,l)&&ob(i,l,s[l]);return i},M5=(i,s)=>P5(i,I5(s)),L5=(i,s)=>{var l={};for(var c in i)rb.call(i,c)&&s.indexOf(c)<0&&(l[c]=i[c]);if(i!=null&&Fc)for(var c of Fc(i))s.indexOf(c)<0&&ab.call(i,c)&&(l[c]=i[c]);return l},ib=(i,s,l)=>new Promise((c,u)=>{var d=p=>{try{m(l.next(p))}catch(g){u(g)}},h=p=>{try{m(l.throw(p))}catch(g){u(g)}},m=p=>p.done?c(p.value):Promise.resolve(p.value).then(d,h);m((l=l.apply(i,s)).next())});const D5=(i,s={})=>{const l=(c,...u)=>ib(void 0,[c,...u],function*(d,h={}){const m=h,{headers:p={},isFormData:g=!1}=m,b=L5(m,["headers","isFormData"]),w=ol({credentials:"include",headers:ol(ol(ol(M5(ol({Accept:"application/json"},!g&&{"Content-Type":"application/json"}),{"x-organization-id":i}),s.anonymousId&&{"x-featurebase-anon-id":s.anonymousId}),s.accessToken&&{[`x-featurebase-access-${i}`]:s.accessToken}),p)},b);h.params&&(d+="?"+new URLSearchParams(h.params));const _=`https://${ar()==="development"?"do.fbasedev.com":"do.featurebase.app"}/v1${d}`;try{const k=yield fetch(_,w),E=k.headers.get("content-type");let T;if(E&&E.includes("application/json"))T=yield k.json();else{const S=yield k.text();try{T=JSON.parse(S)}catch(x){T={success:k.ok,data:S}}}if(!k.ok)throw{status:k.status,statusText:k.statusText,data:T};return T}catch(k){throw console.error(`Error in request to ${d}:`,k),k}});return{request(c){return ib(this,arguments,function*(u,d={}){return l(u,d)})}}},sf=Fi(null),j5=(i,s)=>{sf.value=D5(i,{anonymousId:s==null?void 0:s.anonymousId,accessToken:s==null?void 0:s.accessToken})},Jr={request:(i,s={})=>{if(!sf.value)throw new Error("Client not initialized");return sf.value.request(i,s)}};var sb=(i,s,l)=>new Promise((c,u)=>{var d=p=>{try{m(l.next(p))}catch(g){u(g)}},h=p=>{try{m(l.throw(p))}catch(g){u(g)}},m=p=>p.done?c(p.value):Promise.resolve(p.value).then(d,h);m((l=l.apply(i,s)).next())});class lf{static submitForm(s,l,c){return sb(this,null,function*(){var u;try{const d=c.email;return d&&d.trim()&&!this.isValidEmail(d)?{success:!1,message:"Invalid email address"}:{success:!0,message:"Form submitted successfully",data:yield Jr.request(`/messenger/widget/conversations/${s}/form`,{method:"POST",body:JSON.stringify({formId:l,attributes:c})})}}catch(d){return{success:!1,message:((u=d==null?void 0:d.data)==null?void 0:u.message)||"Failed to submit form"}}})}static submitFormField(s,l,c,u){return sb(this,null,function*(){try{return u.trim()&&c.toLowerCase().includes("email")&&!this.isValidEmail(u)?{success:!1,message:"Invalid email address"}:{success:!0,message:"Form field submitted successfully",data:{fieldId:c,value:u,timestamp:new Date().toISOString()}}}catch(d){return console.error("Error submitting form field:",d),{success:!1,message:"Failed to submit form field"}}})}static isValidEmail(s){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)}}lf.BASE_URL=`https://${ar()==="development"?"do.fbasedev.com":"do.featurebase.app"}/v1`;function z5(i,s){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:s},i),j.createElement("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"}))}const F5=j.forwardRef(z5);var B5=Object.defineProperty,W5=Object.defineProperties,U5=Object.getOwnPropertyDescriptors,lb=Object.getOwnPropertySymbols,$5=Object.prototype.hasOwnProperty,H5=Object.prototype.propertyIsEnumerable,cb=(i,s,l)=>s in i?B5(i,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[s]=l,Ui=(i,s)=>{for(var l in s||(s={}))$5.call(s,l)&&cb(i,l,s[l]);if(lb)for(var l of lb(s))H5.call(s,l)&&cb(i,l,s[l]);return i},cf=(i,s)=>W5(i,U5(s)),ub=(i,s,l)=>new Promise((c,u)=>{var d=p=>{try{m(l.next(p))}catch(g){u(g)}},h=p=>{try{m(l.throw(p))}catch(g){u(g)}},m=p=>p.done?c(p.value):Promise.resolve(p.value).then(d,h);m((l=l.apply(i,s)).next())});const V5=({form:i})=>{const[s]=je(ea),[l]=je(Ni),[c]=je(On),[u,d]=(0,j.useState)(i.attributes.reduce((P,O)=>(P[O.identifier]=O.value||"",P),{})),{t:h}=Fn(),[m,p]=(0,j.useState)(()=>{const P=(C,D)=>{if(!(C!=null&&C.options))return D!=null?D:"";const L=Array.isArray(C.options)?C.options:[],M=I=>{var q,Z,ae;return typeof I=="string"?I:String((ae=(Z=(q=I==null?void 0:I.id)!=null?q:I==null?void 0:I.value)!=null?Z:I==null?void 0:I.label)!=null?ae:"")},z=(I,q)=>{if(typeof I=="string")return String(q)===I;const Z=I==null?void 0:I.id,ae=I==null?void 0:I.value,se=I==null?void 0:I.label;return String(q)===String(Z)||String(q)===String(ae)||String(q)===String(se)};if(Array.isArray(D)){const I=[];for(const q of D){const Z=L.find(ae=>z(ae,q));Z?I.push(M(Z)):typeof L[0]=="string"&&I.push(String(q))}return I}else if(D!=null&&D!==""){const I=L.find(q=>z(q,D));if(I)return M(I);if(typeof L[0]=="string")return String(D)}return""},O=C=>C.fieldSubType==="select"||C.type==="array";return i.attributes.reduce((C,D)=>{var L,M;if(O(D))C[D.identifier]=P(D,D.value);else if((D.dataType==="boolean"||D.fieldSubType==="checkbox")&&(D.type==="string"||D.type==="boolean")){const z=D.value,I=typeof z=="boolean"?z:String(z!=null?z:"").toLowerCase()==="true";C[D.identifier]=I}else D.type==="string"&&D.options?C[D.identifier]=P(D,D.value):D.type==="number"||D.type==="email"||D.type==="date"?C[D.identifier]=(L=D.value)!=null?L:"":C[D.identifier]=(M=D.value)!=null?M:"";return C},{})}),[g,b]=(0,j.useState)(!1),[w,_]=(0,j.useState)(null),k=(P,O)=>ub(void 0,null,function*(){try{const C=cf(Ui({},m),{[P]:O});if(p(C),d(D=>cf(Ui({},D),{[P]:O})),i.attributes.length===1){if(b(!0),!l)throw new Error("No active conversation ID found");const D=E(i,C),L=yield lf.submitForm(l,i.id,D);if(L.success)_(null);else{d(z=>{const I=Ui({},z);return delete I[P],I});const M=L.message||"Failed to submit form";throw _(M),new Error(M)}}return!0}catch(C){throw C}finally{b(!1)}}),E=(P,O)=>{const C=new Map(P.attributes.map(L=>[L.identifier,L])),D={};for(const[L,M]of Object.entries(O)){const z=C.get(L);if((z==null?void 0:z.type)==="date"&&typeof M=="string"&&M){const I=new Date(`${M}T00:00:00.000Z`).toISOString();D[L]=I}else D[L]=M}return D},T=(0,j.useMemo)(()=>i.attributes.length>1,[i]),S=(0,j.useMemo)(()=>i.attributes.every(P=>{const O=u[P.identifier];return P.type==="boolean"||P.fieldSubType==="checkbox"||P.dataType==="boolean"?typeof O=="boolean":!!O}),[i.attributes,u]),x=(0,j.useMemo)(()=>i.attributes.every(P=>{const O=m[P.identifier],C=P.type==="boolean"||P.fieldSubType==="checkbox"||P.dataType==="boolean";let D=!1;return C?D=typeof O=="boolean":Array.isArray(O)?D=O.length>0:D=O!=null&&String(O).trim()!=="",D}),[i.attributes,m]),A=(P,O)=>{p(C=>cf(Ui({},C),{[P]:O})),w&&_(null)},R=()=>ub(void 0,null,function*(){try{if(b(!0),!l)throw new Error("No active conversation ID found");if(!x)throw new Error(h("form.all-fields-required","Please fill in all required fields"));const P=Object.entries(m).find(([C])=>C.toLowerCase().includes("email"));if(P){const[,C]=P,D=String(C||"");if(D.trim()&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(D))throw new Error(h("form.email-validation-error"))}const O=yield lf.submitForm(l,i.id,E(i,m));if(!O.success){const C=O.message||"Failed to submit form";throw _(C),new Error(C)}d(C=>Ui(Ui({},C),m)),_(null)}catch(P){P instanceof Error?_(P.message):_("An unexpected error occurred")}finally{b(!1)}}),N=P=>{if(!(P!=null&&P.options))return[];const O=P.options;return Array.isArray(O)?O.length===0?[]:typeof O[0]=="string"?O.map(C=>({value:String(C),label:String(C)})):O.map(C=>{var D,L,M,z,I,q;const Z=(z=(M=(L=(D=C._id)!=null?D:C.id)!=null?L:C.value)!=null?M:C.label)!=null?z:"",ae=(q=(I=C.label)!=null?I:C.value)!=null?q:String(Z);return{value:String(Z),label:String(ae)}}):[]},F=(P,O)=>{var C;if(P.type==="boolean"||P.fieldSubType==="checkbox"||P.dataType==="boolean")return String(O);const D=N(P),L=new Map(D.map(M=>[String(M.value),M.label]));return Array.isArray(O)?O.map(M=>{var z;return(z=L.get(String(M)))!=null?z:String(M)}).join(", "):(C=L.get(String(O)))!=null?C:String(O!=null?O:"")};return y("div",{className:"flex flex-col gap-2 w-full min-w-full",children:[i.attributes.map(P=>{const O=u[P.identifier];return(P.type==="boolean"||P.fieldSubType==="checkbox"||P.dataType==="boolean"?typeof O=="boolean":O)?y("div",{className:"w-full",children:[y("label",{className:"text-[13px] font-medium",children:P.name==="Email"?h("will-be-notified-here-and-by-email"):P.name}),y("div",{className:"flex gap-2 items-center p-2 mt-2 min-w-0 rounded-lg bg-secondary-foreground/5",children:[y("div",{className:"min-w-0 text-sm truncate",children:F(P,u[P.identifier])}),y(F5,{className:"flex-shrink-0 ml-auto w-4 h-4 text-green-400"})]})]},P.identifier):y(w5,{attribute:P,onSubmit:k,hideInlineSubmit:T,onValueChange:A},P.identifier)}),w&&y("div",{className:"flex items-center p-3 mt-2 text-sm rounded-lg border border-border text-secondary-active-foreground",children:[y(U0,{className:"w-4 h-4 flex-shrink-0 mr-1.5 text-secondary-foreground/60"}),w]}),T&&!S&&y("div",{className:"flex justify-end mt-2",children:(()=>{const P=g||!x;return y("button",{type:"button",onClick:R,disabled:P,className:`text-[13px] px-3 h-9 rounded-lg main-transition border border-primary bg-primary text-primary-foreground hover:opacity-90 ${P?"opacity-50 cursor-not-allowed":""}`,children:g?h("form.submitting","Submitting..."):h("form.submit","Submit")})})()})]})},q5=({data:i,prevPart:s,nextPart:l,isLast:c,onRetry:u,onReplyOptionClick:d})=>{var h,m,p,g,b,w,_,k,E,T,S,x,A,R,N,F,P,O,C,D,L;const{user:M}=F0(),{t:z}=Fn(),I=((h=i.author)==null?void 0:h.id)===M.id,q=!I,Z=!!l&&((m=l.author)==null?void 0:m.id)===((p=i.author)==null?void 0:p.id),ae=!!s&&((g=s.author)==null?void 0:g.id)===((b=i.author)==null?void 0:b.id),se=((w=i.author)==null?void 0:w.type)!=="customer"&&((_=i.author)==null?void 0:_.type)!=="guest"&&((k=i.author)==null?void 0:k.type)!=="lead",Ae=((E=l==null?void 0:l.author)==null?void 0:E.type)!=="customer"&&((T=l==null?void 0:l.author)==null?void 0:T.type)!=="guest"&&((S=l==null?void 0:l.author)==null?void 0:S.type)!=="lead",be=!!l&&se!==Ae,Le=q&&(!s||((x=s==null?void 0:s.author)==null?void 0:x.id)!==((A=i.author)==null?void 0:A.id)),B=ye=>{ye.preventDefault(),ye.stopPropagation(),u&&i.sendStatus==="error"&&u(i.id)},G=I?i.sendStatus==="pending":!(i!=null&&i.seenByCurrentUser),te=(0,he.Kr)(()=>y(j0,{type:I?"active":"muted",content:i.body||""}),[i.body,I]);return nf.isHuman(i.partType)?y(Qs,{isNextMessageFromDifferentAuthorType:be,isPending:G,children:[y(nl,{isFromActiveUser:I,avatarSrc:(R=i.author)==null?void 0:R.picture,shouldShowAvatar:Le,sendStatus:i.sendStatus,children:y(tl,{messageDate:i.createdAt,isFromActiveUser:I,avatarSrc:(N=i.author)==null?void 0:N.picture,shouldShowAvatar:Le,isBot:!1,name:(F=i.author)==null?void 0:F.name,isNextPartFromSameAuthor:Z,wasLastFromSameAuthor:ae,deleted:i.body==="",children:te})}),i.sendStatus==="error"&&y(t5,{isFromActiveUser:I,onRetry:B})]}):i.partType===Vn.QuickReplyOptionsPresented?null:nf.isBot(i.partType)?y(Qs,{isNextMessageFromDifferentAuthorType:be,isPending:G,children:y(nl,{isBot:!0,isFromActiveUser:!1,avatarSrc:"https://fb-usercontent.fra1.cdn.digitaloceanspaces.com/anon_4617.png",shouldShowAvatar:Le,sendStatus:i.sendStatus,children:y(tl,{messageDate:i.createdAt,isFromActiveUser:I,avatarSrc:(P=i.author)==null?void 0:P.picture,shouldShowAvatar:Le,isBot:!0,name:((O=i.author)==null?void 0:O.name)||xo(),isNextPartFromSameAuthor:Z,wasLastFromSameAuthor:ae,children:[te,(i==null?void 0:i.answerSources)&&((C=i==null?void 0:i.answerSources)==null?void 0:C.length)>0&&y("div",{className:"flex flex-col gap-px pt-4 mt-4 -mb-1 border-t border-border",children:[y("p",{className:"mb-1 text-xs font-medium pointer-events-none text-secondary-active-foreground",children:z("sources")}),i.answerSources.map(ye=>y("div",{className:"gap-1 w-full text-xs text-muted-foreground",children:y("a",{href:ye.url,target:"_blank",className:"flex gap-1 py-1 w-full truncate hover:underline main-transition",children:[y("span",{className:"w-full truncate",children:ye.title}),y(Zg,{className:"ml-auto w-4 h-4 text-indigo-400"})]})}))]})]})})}):nf.isAttributeCollector(i.partType)?y(Qs,{isNextMessageFromDifferentAuthorType:be,isPending:G,children:y(nl,{isFromActiveUser:!1,isBot:!0,avatarSrc:"https://fb-usercontent.fra1.cdn.digitaloceanspaces.com/anon_4617.png",shouldShowAvatar:Le,sendStatus:i.sendStatus,children:y(tl,{fullWidth:!0,messageDate:i.createdAt,isFromActiveUser:!1,extendFullWidth:!0,name:((D=i.author)==null?void 0:D.name)||xo(),avatarSrc:(L=i.author)==null?void 0:L.picture,shouldShowAvatar:Le,isBot:!0,isNextPartFromSameAuthor:Z,wasLastFromSameAuthor:ae,children:[te,i.form&&y(V5,{form:i.form})]})})}):null};function db(i,s){const l=Er(i,s==null?void 0:s.in);return l.setHours(0,0,0,0),l}const bN=null;function G5(i,s,l){const[c,u]=_c(l==null?void 0:l.in,i,s),d=db(c),h=db(u),m=+d-wc(d),p=+h-wc(h);return Math.round((m-p)/Jx)}const vN=null;function K5(i,s){const l=Er(i,s==null?void 0:s.in);return l.setFullYear(l.getFullYear(),0,1),l.setHours(0,0,0,0),l}const yN=null;function Y5(i,s){const l=Er(i,s==null?void 0:s.in);return G5(l,K5(l))+1}const wN=null;function il(i,s){var m,p,g,b,w,_,k,E;const l=Hs(),c=(E=(k=(b=(g=s==null?void 0:s.weekStartsOn)!=null?g:(p=(m=s==null?void 0:s.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)!=null?b:l.weekStartsOn)!=null?k:(_=(w=l.locale)==null?void 0:w.options)==null?void 0:_.weekStartsOn)!=null?E:0,u=Er(i,s==null?void 0:s.in),d=u.getDay(),h=(d<c?7:0)+d-c;return u.setDate(u.getDate()-h),u.setHours(0,0,0,0),u}const _N=null;function Bc(i,s){return il(i,Te(W({},s),{weekStartsOn:1}))}const kN=null;function fb(i,s){const l=Er(i,s==null?void 0:s.in),c=l.getFullYear(),u=eo(l,0);u.setFullYear(c+1,0,4),u.setHours(0,0,0,0);const d=Bc(u),h=eo(l,0);h.setFullYear(c,0,4),h.setHours(0,0,0,0);const m=Bc(h);return l.getTime()>=d.getTime()?c+1:l.getTime()>=m.getTime()?c:c-1}const xN=null;function J5(i,s){const l=fb(i,s),c=eo((s==null?void 0:s.in)||i,0);return c.setFullYear(l,0,4),c.setHours(0,0,0,0),Bc(c)}const EN=null;function Z5(i,s){const l=Er(i,s==null?void 0:s.in),c=+Bc(l)-+J5(l);return Math.round(c/Eg)+1}const CN=null;function hb(i,s){var b,w,_,k,E,T,S,x;const l=Er(i,s==null?void 0:s.in),c=l.getFullYear(),u=Hs(),d=(x=(S=(k=(_=s==null?void 0:s.firstWeekContainsDate)!=null?_:(w=(b=s==null?void 0:s.locale)==null?void 0:b.options)==null?void 0:w.firstWeekContainsDate)!=null?k:u.firstWeekContainsDate)!=null?S:(T=(E=u.locale)==null?void 0:E.options)==null?void 0:T.firstWeekContainsDate)!=null?x:1,h=eo((s==null?void 0:s.in)||i,0);h.setFullYear(c+1,0,d),h.setHours(0,0,0,0);const m=il(h,s),p=eo((s==null?void 0:s.in)||i,0);p.setFullYear(c,0,d),p.setHours(0,0,0,0);const g=il(p,s);return+l>=+m?c+1:+l>=+g?c:c-1}const SN=null;function X5(i,s){var m,p,g,b,w,_,k,E;const l=Hs(),c=(E=(k=(b=(g=s==null?void 0:s.firstWeekContainsDate)!=null?g:(p=(m=s==null?void 0:s.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)!=null?b:l.firstWeekContainsDate)!=null?k:(_=(w=l.locale)==null?void 0:w.options)==null?void 0:_.firstWeekContainsDate)!=null?E:1,u=hb(i,s),d=eo((s==null?void 0:s.in)||i,0);return d.setFullYear(u,0,c),d.setHours(0,0,0,0),il(d,s)}const TN=null;function Q5(i,s){const l=Er(i,s==null?void 0:s.in),c=+il(l,s)-+X5(l,s);return Math.round(c/Eg)+1}const AN=null;function kn(i,s){const l=i<0?"-":"",c=Math.abs(i).toString().padStart(s,"0");return l+c}const No={y(i,s){const l=i.getFullYear(),c=l>0?l:1-l;return kn(s==="yy"?c%100:c,s.length)},M(i,s){const l=i.getMonth();return s==="M"?String(l+1):kn(l+1,2)},d(i,s){return kn(i.getDate(),s.length)},a(i,s){const l=i.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return l.toUpperCase();case"aaa":return l;case"aaaaa":return l[0];case"aaaa":default:return l==="am"?"a.m.":"p.m."}},h(i,s){return kn(i.getHours()%12||12,s.length)},H(i,s){return kn(i.getHours(),s.length)},m(i,s){return kn(i.getMinutes(),s.length)},s(i,s){return kn(i.getSeconds(),s.length)},S(i,s){const l=s.length,c=i.getMilliseconds(),u=Math.trunc(c*Math.pow(10,l-3));return kn(u,s.length)}},$i={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},mb={G:function(i,s,l){const c=i.getFullYear()>0?1:0;switch(s){case"G":case"GG":case"GGG":return l.era(c,{width:"abbreviated"});case"GGGGG":return l.era(c,{width:"narrow"});case"GGGG":default:return l.era(c,{width:"wide"})}},y:function(i,s,l){if(s==="yo"){const c=i.getFullYear(),u=c>0?c:1-c;return l.ordinalNumber(u,{unit:"year"})}return No.y(i,s)},Y:function(i,s,l,c){const u=hb(i,c),d=u>0?u:1-u;if(s==="YY"){const h=d%100;return kn(h,2)}return s==="Yo"?l.ordinalNumber(d,{unit:"year"}):kn(d,s.length)},R:function(i,s){const l=fb(i);return kn(l,s.length)},u:function(i,s){const l=i.getFullYear();return kn(l,s.length)},Q:function(i,s,l){const c=Math.ceil((i.getMonth()+1)/3);switch(s){case"Q":return String(c);case"QQ":return kn(c,2);case"Qo":return l.ordinalNumber(c,{unit:"quarter"});case"QQQ":return l.quarter(c,{width:"abbreviated",context:"formatting"});case"QQQQQ":return l.quarter(c,{width:"narrow",context:"formatting"});case"QQQQ":default:return l.quarter(c,{width:"wide",context:"formatting"})}},q:function(i,s,l){const c=Math.ceil((i.getMonth()+1)/3);switch(s){case"q":return String(c);case"qq":return kn(c,2);case"qo":return l.ordinalNumber(c,{unit:"quarter"});case"qqq":return l.quarter(c,{width:"abbreviated",context:"standalone"});case"qqqqq":return l.quarter(c,{width:"narrow",context:"standalone"});case"qqqq":default:return l.quarter(c,{width:"wide",context:"standalone"})}},M:function(i,s,l){const c=i.getMonth();switch(s){case"M":case"MM":return No.M(i,s);case"Mo":return l.ordinalNumber(c+1,{unit:"month"});case"MMM":return l.month(c,{width:"abbreviated",context:"formatting"});case"MMMMM":return l.month(c,{width:"narrow",context:"formatting"});case"MMMM":default:return l.month(c,{width:"wide",context:"formatting"})}},L:function(i,s,l){const c=i.getMonth();switch(s){case"L":return String(c+1);case"LL":return kn(c+1,2);case"Lo":return l.ordinalNumber(c+1,{unit:"month"});case"LLL":return l.month(c,{width:"abbreviated",context:"standalone"});case"LLLLL":return l.month(c,{width:"narrow",context:"standalone"});case"LLLL":default:return l.month(c,{width:"wide",context:"standalone"})}},w:function(i,s,l,c){const u=Q5(i,c);return s==="wo"?l.ordinalNumber(u,{unit:"week"}):kn(u,s.length)},I:function(i,s,l){const c=Z5(i);return s==="Io"?l.ordinalNumber(c,{unit:"week"}):kn(c,s.length)},d:function(i,s,l){return s==="do"?l.ordinalNumber(i.getDate(),{unit:"date"}):No.d(i,s)},D:function(i,s,l){const c=Y5(i);return s==="Do"?l.ordinalNumber(c,{unit:"dayOfYear"}):kn(c,s.length)},E:function(i,s,l){const c=i.getDay();switch(s){case"E":case"EE":case"EEE":return l.day(c,{width:"abbreviated",context:"formatting"});case"EEEEE":return l.day(c,{width:"narrow",context:"formatting"});case"EEEEEE":return l.day(c,{width:"short",context:"formatting"});case"EEEE":default:return l.day(c,{width:"wide",context:"formatting"})}},e:function(i,s,l,c){const u=i.getDay(),d=(u-c.weekStartsOn+8)%7||7;switch(s){case"e":return String(d);case"ee":return kn(d,2);case"eo":return l.ordinalNumber(d,{unit:"day"});case"eee":return l.day(u,{width:"abbreviated",context:"formatting"});case"eeeee":return l.day(u,{width:"narrow",context:"formatting"});case"eeeeee":return l.day(u,{width:"short",context:"formatting"});case"eeee":default:return l.day(u,{width:"wide",context:"formatting"})}},c:function(i,s,l,c){const u=i.getDay(),d=(u-c.weekStartsOn+8)%7||7;switch(s){case"c":return String(d);case"cc":return kn(d,s.length);case"co":return l.ordinalNumber(d,{unit:"day"});case"ccc":return l.day(u,{width:"abbreviated",context:"standalone"});case"ccccc":return l.day(u,{width:"narrow",context:"standalone"});case"cccccc":return l.day(u,{width:"short",context:"standalone"});case"cccc":default:return l.day(u,{width:"wide",context:"standalone"})}},i:function(i,s,l){const c=i.getDay(),u=c===0?7:c;switch(s){case"i":return String(u);case"ii":return kn(u,s.length);case"io":return l.ordinalNumber(u,{unit:"day"});case"iii":return l.day(c,{width:"abbreviated",context:"formatting"});case"iiiii":return l.day(c,{width:"narrow",context:"formatting"});case"iiiiii":return l.day(c,{width:"short",context:"formatting"});case"iiii":default:return l.day(c,{width:"wide",context:"formatting"})}},a:function(i,s,l){const u=i.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return l.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"aaa":return l.dayPeriod(u,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return l.dayPeriod(u,{width:"narrow",context:"formatting"});case"aaaa":default:return l.dayPeriod(u,{width:"wide",context:"formatting"})}},b:function(i,s,l){const c=i.getHours();let u;switch(c===12?u=$i.noon:c===0?u=$i.midnight:u=c/12>=1?"pm":"am",s){case"b":case"bb":return l.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"bbb":return l.dayPeriod(u,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return l.dayPeriod(u,{width:"narrow",context:"formatting"});case"bbbb":default:return l.dayPeriod(u,{width:"wide",context:"formatting"})}},B:function(i,s,l){const c=i.getHours();let u;switch(c>=17?u=$i.evening:c>=12?u=$i.afternoon:c>=4?u=$i.morning:u=$i.night,s){case"B":case"BB":case"BBB":return l.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"BBBBB":return l.dayPeriod(u,{width:"narrow",context:"formatting"});case"BBBB":default:return l.dayPeriod(u,{width:"wide",context:"formatting"})}},h:function(i,s,l){if(s==="ho"){let c=i.getHours()%12;return c===0&&(c=12),l.ordinalNumber(c,{unit:"hour"})}return No.h(i,s)},H:function(i,s,l){return s==="Ho"?l.ordinalNumber(i.getHours(),{unit:"hour"}):No.H(i,s)},K:function(i,s,l){const c=i.getHours()%12;return s==="Ko"?l.ordinalNumber(c,{unit:"hour"}):kn(c,s.length)},k:function(i,s,l){let c=i.getHours();return c===0&&(c=24),s==="ko"?l.ordinalNumber(c,{unit:"hour"}):kn(c,s.length)},m:function(i,s,l){return s==="mo"?l.ordinalNumber(i.getMinutes(),{unit:"minute"}):No.m(i,s)},s:function(i,s,l){return s==="so"?l.ordinalNumber(i.getSeconds(),{unit:"second"}):No.s(i,s)},S:function(i,s){return No.S(i,s)},X:function(i,s,l){const c=i.getTimezoneOffset();if(c===0)return"Z";switch(s){case"X":return gb(c);case"XXXX":case"XX":return ni(c);case"XXXXX":case"XXX":default:return ni(c,":")}},x:function(i,s,l){const c=i.getTimezoneOffset();switch(s){case"x":return gb(c);case"xxxx":case"xx":return ni(c);case"xxxxx":case"xxx":default:return ni(c,":")}},O:function(i,s,l){const c=i.getTimezoneOffset();switch(s){case"O":case"OO":case"OOO":return"GMT"+pb(c,":");case"OOOO":default:return"GMT"+ni(c,":")}},z:function(i,s,l){const c=i.getTimezoneOffset();switch(s){case"z":case"zz":case"zzz":return"GMT"+pb(c,":");case"zzzz":default:return"GMT"+ni(c,":")}},t:function(i,s,l){const c=Math.trunc(+i/1e3);return kn(c,s.length)},T:function(i,s,l){return kn(+i,s.length)}};function pb(i,s=""){const l=i>0?"-":"+",c=Math.abs(i),u=Math.trunc(c/60),d=c%60;return d===0?l+String(u):l+String(u)+s+kn(d,2)}function gb(i,s){return i%60===0?(i>0?"-":"+")+kn(Math.abs(i)/60,2):ni(i,s)}function ni(i,s=""){const l=i>0?"-":"+",c=Math.abs(i),u=kn(Math.trunc(c/60),2),d=kn(c%60,2);return l+u+s+d}const bb=(i,s)=>{switch(i){case"P":return s.date({width:"short"});case"PP":return s.date({width:"medium"});case"PPP":return s.date({width:"long"});case"PPPP":default:return s.date({width:"full"})}},vb=(i,s)=>{switch(i){case"p":return s.time({width:"short"});case"pp":return s.time({width:"medium"});case"ppp":return s.time({width:"long"});case"pppp":default:return s.time({width:"full"})}},eC={p:vb,P:(i,s)=>{const l=i.match(/(P+)(p+)?/)||[],c=l[1],u=l[2];if(!u)return bb(i,s);let d;switch(c){case"P":d=s.dateTime({width:"short"});break;case"PP":d=s.dateTime({width:"medium"});break;case"PPP":d=s.dateTime({width:"long"});break;case"PPPP":default:d=s.dateTime({width:"full"});break}return d.replace("{{date}}",bb(c,s)).replace("{{time}}",vb(u,s))}},tC=/^D+$/,nC=/^Y+$/,rC=["D","DD","YY","YYYY"];function aC(i){return tC.test(i)}function oC(i){return nC.test(i)}function iC(i,s,l){const c=sC(i,s,l);if(console.warn(c),rC.includes(i))throw new RangeError(c)}function sC(i,s,l){const c=i[0]==="Y"?"years":"days of the month";return`Use \`${i.toLowerCase()}\` instead of \`${i}\` (in \`${s}\`) for formatting ${c} to the input \`${l}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}function lC(i){return i instanceof Date||typeof i=="object"&&Object.prototype.toString.call(i)==="[object Date]"}const NN=null;function cC(i){return!(!lC(i)&&typeof i!="number"||isNaN(+Er(i)))}const RN=null,uC=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,dC=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fC=/^'([^]*?)'?$/,hC=/''/g,mC=/[a-zA-Z]/;function sl(i,s,l){var b,w,_,k,E,T,S,x,A,R,N,F,P,O,C,D,L,M;const c=Hs(),u=(w=(b=l==null?void 0:l.locale)!=null?b:c.locale)!=null?w:Ag,d=(R=(A=(T=(E=l==null?void 0:l.firstWeekContainsDate)!=null?E:(k=(_=l==null?void 0:l.locale)==null?void 0:_.options)==null?void 0:k.firstWeekContainsDate)!=null?T:c.firstWeekContainsDate)!=null?A:(x=(S=c.locale)==null?void 0:S.options)==null?void 0:x.firstWeekContainsDate)!=null?R:1,h=(M=(L=(O=(P=l==null?void 0:l.weekStartsOn)!=null?P:(F=(N=l==null?void 0:l.locale)==null?void 0:N.options)==null?void 0:F.weekStartsOn)!=null?O:c.weekStartsOn)!=null?L:(D=(C=c.locale)==null?void 0:C.options)==null?void 0:D.weekStartsOn)!=null?M:0,m=Er(i,l==null?void 0:l.in);if(!cC(m))throw new RangeError("Invalid time value");let p=s.match(dC).map(z=>{const I=z[0];if(I==="p"||I==="P"){const q=eC[I];return q(z,u.formatLong)}return z}).join("").match(uC).map(z=>{if(z==="''")return{isToken:!1,value:"'"};const I=z[0];if(I==="'")return{isToken:!1,value:pC(z)};if(mb[I])return{isToken:!0,value:z};if(I.match(mC))throw new RangeError("Format string contains an unescaped latin alphabet character `"+I+"`");return{isToken:!1,value:z}});u.localize.preprocessor&&(p=u.localize.preprocessor(m,p));const g={firstWeekContainsDate:d,weekStartsOn:h,locale:u};return p.map(z=>{if(!z.isToken)return z.value;const I=z.value;(!(l!=null&&l.useAdditionalWeekYearTokens)&&oC(I)||!(l!=null&&l.useAdditionalDayOfYearTokens)&&aC(I))&&iC(I,s,String(i));const q=mb[I[0]];return q(m,I,u.localize,g)}).join("")}function pC(i){const s=i.match(fC);return s?s[1].replace(hC,"'"):i}const PN=null,gC=({conversationParts:i,onRetryMessage:s,onReplyOptionClick:l})=>{const{t:c}=Fn(),u=(0,he.Kr)(()=>i?[...i].sort((p,g)=>new Date(g.createdAt).getTime()-new Date(p.createdAt).getTime()):[],[i]),d=(0,he.Kr)(()=>{if(u.length<=1)return!0;const p=sl(new Date(u[u.length-1].createdAt),"yyyy-MM-dd"),g=sl(new Date(u[0].createdAt),"yyyy-MM-dd");return p===g},[u]),h=p=>{const g=p.getMonth(),b=`month-${sl(p,"MMMM").toLowerCase()}`,w=p.getDate();return c("date-format",{month:c(b),day:w})};let m="";return y(mn.Fragment,{children:u==null?void 0:u.map((p,g)=>{const b=g>0?u[g-1]:void 0,w=sl(new Date(p.createdAt),"yyyy-MM-dd"),_=u[g+1],k=_?sl(new Date(_.createdAt),"yyyy-MM-dd"):"",E=g===0,T=!_||w!==k;return y("div",{className:Yt(E&&"mb-auto"),children:[T&&!d&&y("div",{className:"mt-6 mb-4 text-xs text-center",children:h(new Date(p.createdAt))}),y(bC,{data:p,isLast:E,nextPart:b,prevPart:_,onRetry:s,onReplyOptionClick:l})]},p.id||g)})})},bC=(0,j.memo)(q5,(i,s)=>{const{data:l,isLast:c,nextPart:u,prevPart:d,onRetry:h,onReplyOptionClick:m}=i,{data:p,isLast:g,nextPart:b,prevPart:w,onRetry:_,onReplyOptionClick:k}=s,E={data:l,isLast:c,nextPart:u,prevPart:d},T={data:p,isLast:g,nextPart:b,prevPart:w};return JSON.stringify(E)===JSON.stringify(T)}),vC=(0,j.memo)(gC);var yC=(i,s,l)=>new Promise((c,u)=>{var d=p=>{try{m(l.next(p))}catch(g){u(g)}},h=p=>{try{m(l.throw(p))}catch(g){u(g)}},m=p=>p.done?c(p.value):Promise.resolve(p.value).then(d,h);m((l=l.apply(i,s)).next())});const wC=({content:i="",onChange:s,onSubmit:l,onFilesPasted:c,forceLoading:u=!1,editorRef:d,onEditorInit:h})=>{const m=(0,he.li)(null),[p,g]=(0,he.J0)(null),[b,w]=(0,he.J0)(!0),_=(0,he.li)(i),k=(0,he.li)(!0),E=(0,he.li)(i),[T,S]=je(Zo),{t:x}=Fn(),[A,R]=(0,he.J0)(null);return(0,he.vJ)(()=>{const N=i!==E.current&&(i===""||!i.includes(E.current.replace(/<\/?p>/g,"")));(k.current||N)&&(_.current=i,k.current=!1,p&&p.commands.setContent(i,!1)),E.current=i},[i,p]),(0,he.vJ)(()=>{let N=!0;return yC(void 0,null,function*(){try{const[F,P,O]=yield Promise.all([Promise.all([de.e(7789),de.e(3753),de.e(8096),de.e(1587)]).then(de.bind(de,277)),Promise.all([de.e(7789),de.e(3753),de.e(8096),de.e(3968)]).then(de.bind(de,3529)),Promise.all([de.e(7789),de.e(3753),de.e(8096),de.e(6825)]).then(de.bind(de,8005))]);if(!N)return;R({Editor:F.Editor,StarterKit:P.default,Placeholder:O.default}),w(!1)}catch(F){console.error("Failed to load Tiptap modules:",F)}}),()=>{N=!1}},[]),(0,he.vJ)(()=>{if(!b&&A&&m.current){const{Editor:N,StarterKit:F,Placeholder:P}=A,O=new N({element:m.current,extensions:[F.configure({heading:{levels:[1,2,3]},listItem:!1,orderedList:!1,bulletList:!1}),P.configure({placeholder:x("send-us-a-message")})],content:_.current,onUpdate:({editor:C})=>{s==null||s(C.getHTML())},onCreate:({editor:C})=>{d&&(d.current=C),h==null||h(C)},editorProps:{attributes:{class:"pr-[84px] py-3.5 pl-4 styled-content"},handleKeyDown(C,D){return D.key==="Enter"&&!D.shiftKey?(D.preventDefault(),l==null||l(),!0):!1},handlePaste(C,D){var L,M;if((M=(L=D.clipboardData)==null?void 0:L.files)!=null&&M.length){const z=Array.from(D.clipboardData.files);return c==null||c(z),!0}return!1},handleDrop(C,D){var L,M;if((M=(L=D.dataTransfer)==null?void 0:L.files)!=null&&M.length){D.preventDefault(),D.stopPropagation();const z=Array.from(D.dataTransfer.files);return c==null||c(z),!0}return!1}}});return g(O),d&&(d.current=O),()=>{O==null||O.destroy()}}},[b,A,d]),b||u?y("div",{className:"ml-4 w-60 h-5 rounded-full bg-foreground/10"}):y("div",{className:"flex-1 my-auto min-w-0 max-w-full",children:[y("div",{className:Yt("pr-2 [&_.ProseMirror]:outline-none [&_.ProseMirror-focused]:border-none [&_.ProseMirror]:border-none",T?"text-base":"text-sm"),children:y("div",{ref:m})}),y("div",{className:"absolute inset-y-0 right-0 items-end px-2"})]})};const yb={hi:3282421852,lo:2546676007},ri={hi:3029513839,lo:3197694579},jr={hi:2598464059,lo:797982799};function Xe(i,s){const l=i.lo+s.lo,c=l>>>0<i.lo>>>0||l>>>0<s.lo>>>0?1:0;return{hi:i.hi+s.hi+c>>>0,lo:l>>>0}}function Wc(i){return{hi:i>>>16&65535,lo:i>>>0&65535}}function Hi(i,s){const l=Wc(i),c=Wc(s);return l.lo*c.lo+(l.hi*c.lo+l.lo*c.hi<<16>>>0)>>>0}function _C(i,s){const l=Wc(i),c=Wc(s),u={hi:Hi(l.hi,c.hi),lo:Hi(l.lo,c.lo)},d=Hi(l.hi,c.lo),h=Hi(l.lo,c.hi),m={hi:d>>>16,lo:d<<16>>>0},p={hi:h>>>16,lo:h<<16>>>0};return Xe(Xe(u,m),p)}function tn(i,s){return Xe({hi:Hi(i.hi,s.lo)+Hi(i.lo,s.hi)>>>0,lo:0},_C(i.lo,s.lo))}function _r(i,s){if(s<=0||s>=64)return{hi:i.hi>>>0,lo:i.lo>>>0};if(s<32){const u=32-s;return{hi:(i.lo<<u>>>0|i.hi>>>s)>>>0,lo:(i.hi<<u>>>0|i.lo>>>s)>>>0}}if(s===32)return{hi:i.lo>>>0,lo:i.hi>>>0};const l=64-s,c=s-32;return{hi:(i.hi<<l>>>0|i.lo>>>c)>>>0,lo:(i.lo<<l>>>0|i.hi>>>c)>>>0}}function kC(i,s){return s<=0||s>=64?{hi:i.hi>>>0,lo:i.lo>>>0}:s<32?{hi:i.lo>>>32-s|i.hi<<s>>>0,lo:i.lo<<s>>>0}:{hi:i.lo<<s-32>>>0,lo:0}}function uf(i,s){return s<=0||s>=64?{hi:i.hi>>>0,lo:i.lo>>>0}:s<32?{hi:i.hi>>>s,lo:i.hi<<32-s|i.lo>>>s}:{hi:0,lo:i.hi>>>s-32}}function Ro(i,s){return{hi:(i.hi^s.hi)>>>0,lo:(i.lo^s.lo)>>>0}}function wb(i,s){return{hi:0,lo:(i[s+0]>>>0|i[s+1]<<8>>>0|i[s+2]<<16>>>0|i[s+3]<<24>>>0)>>>0}}function Nn(i,s){const l=i[s+0]>>>0|i[s+1]<<8>>>0|i[s+2]<<16>>>0|i[s+3]<<24>>>0;return{hi:(i[s+4]>>>0|i[s+5]<<8>>>0|i[s+6]<<16>>>0|i[s+7]<<24>>>0)>>>0,lo:l>>>0}}function df(i){return Ro(i,uf(i,47))}function Po(i,s,l){let c=tn(Ro(i,s),l);c=Ro(c,uf(c,47));let u=tn(Ro(s,c),l);return u=Ro(u,uf(u,47)),u=tn(u,l),u}function xC(i){const s=i.length,l={hi:0,lo:s>>>0};if(s>=8){const c=Xe(jr,tn(l,{hi:0,lo:2})),u=Xe(Nn(i,0),jr),d=Nn(i,s-8),h=_r(d,37),m=_r(u,25),p=Xe(tn(h,c),u),g=tn(Xe(m,d),c);return Po(p,g,c)}if(s>=4){const c=Xe(jr,tn(l,{hi:0,lo:2})),u=wb(i,0),d=Xe(l,kC(u,3)),h=wb(i,s-4);return Po(d,h,c)}if(s>0){const c=i[0]>>>0,u=i[s>>>1]>>>0,d=i[s-1]>>>0,h=c+(u<<8)>>>0,m=s+(d<<2)>>>0;return tn(df(Ro(tn({hi:0,lo:h},jr),tn({hi:0,lo:m},yb))),jr)}return jr}function EC(i){const s=i.length,l={hi:0,lo:s>>>0},c=Xe(jr,tn(l,{hi:0,lo:2})),u=tn(Nn(i,0),ri),d=Nn(i,8),h=tn(Nn(i,s-8),c),m=tn(Nn(i,s-16),jr);return Po(Xe(Xe(_r(Xe(u,d),43),_r(h,30)),m),Xe(Xe(u,_r(Xe(d,jr),18)),h),c)}function CC(i){const s=i.length,l={hi:0,lo:s>>>0},c=Xe(jr,tn(l,{hi:0,lo:2})),u=tn(Nn(i,0),jr),d=Nn(i,8),h=tn(Nn(i,s-8),c),m=tn(Nn(i,s-16),jr),p=Xe(Xe(_r(Xe(u,d),43),_r(h,30)),m),g=Po(p,Xe(Xe(u,_r(Xe(d,jr),18)),h),c),b=tn(Nn(i,16),c),w=Nn(i,24),_=tn(Xe(p,Nn(i,s-32)),c),k=tn(Xe(g,Nn(i,s-24)),c);return Po(Xe(Xe(_r(Xe(b,w),43),_r(_,30)),k),Xe(Xe(b,_r(Xe(w,u),18)),_),c)}function SC(i,s,l,c,u,d){u=Xe(u,i),d=_r(Xe(Xe(d,u),c),21);const h=u;return u=Xe(u,s),u=Xe(u,l),d=Xe(d,_r(u,44)),{hi:Xe(d,h),lo:Xe(u,c)}}function Uc(i,s,l,c){return SC(Nn(i,s+0),Nn(i,s+8),Nn(i,s+16),Nn(i,s+24),l,c)}function TC(i){let s=i.length;if(s<=32)return s<=16?xC(i):EC(i);if(s<=64)return CC(i);let l={hi:{hi:0,lo:0},lo:{hi:0,lo:0}},c={hi:{hi:0,lo:0},lo:{hi:0,lo:0}};const u={hi:0,lo:81},d={hi:0,lo:113};let h=Xe(tn(u,jr),Nn(i,0)),m=Xe(tn(u,ri),d),p=tn(df(Xe(tn(m,jr),d)),jr);const g=(s-1>>>6<<6)+(s-1>>>0&63)-63;let b=0;for(;s>64;){h=tn(_r(Xe(Xe(Xe(h,m),l.lo),Nn(i,b+8)),37),ri),m=tn(_r(Xe(Xe(m,l.hi),Nn(i,b+48)),42),ri),h=Ro(h,c.hi),m=Xe(m,Xe(l.lo,Nn(i,b+40))),p=tn(_r(Xe(p,c.lo),33),ri),l=Uc(i,b,tn(l.hi,ri),Xe(h,c.lo)),c=Uc(i,b+32,Xe(p,c.hi),Xe(m,Nn(i,b+16)));const k=h;h=p,p=k,b+=64,s-=64}const w=Xe(ri,{hi:0,lo:(p.lo>>>0&255)<<1>>>0});b=g,c.lo=Xe(c.lo,{hi:0,lo:(s-1&63)>>>0}),l.lo=Xe(l.lo,c.lo),c.lo=Xe(c.lo,l.lo),h=tn(_r(Xe(Xe(Xe(h,m),l.lo),Nn(i,b+8)),37),w),m=tn(_r(Xe(Xe(m,l.hi),Nn(i,b+48)),42),w),h=Ro(h,tn(c.hi,{hi:0,lo:9})),m=Xe(m,Xe(tn(l.lo,{hi:0,lo:9}),Nn(i,b+40))),p=tn(_r(Xe(p,c.lo),33),w),l=Uc(i,b,tn(l.hi,w),Xe(h,c.lo)),c=Uc(i,b+32,Xe(p,c.hi),Xe(m,Nn(i,b+16)));const _=h;return h=p,p=_,Po(Xe(Xe(Po(l.lo,c.lo,w),tn(df(m),yb)),p),Xe(Po(l.hi,c.hi,w),h),w)}function AC(i){const s=new TextEncoder().encode(i);return TC(s)}function _b(i){return("00000000"+i).slice(-8)}function OC(i){return _b(i.hi.toString(16))+_b(i.lo.toString(16))}function NC(i){return OC(AC(i))}const Fa=Object.create(null);Fa.open="0",Fa.close="1",Fa.ping="2",Fa.pong="3",Fa.message="4",Fa.upgrade="5",Fa.noop="6";const $c=Object.create(null);Object.keys(Fa).forEach(i=>{$c[Fa[i]]=i});const ff={type:"error",data:"parser error"},kb=typeof Blob=="function"||typeof Blob!="undefined"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",xb=typeof ArrayBuffer=="function",Eb=i=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(i):i&&i.buffer instanceof ArrayBuffer,hf=({type:i,data:s},l,c)=>kb&&s instanceof Blob?l?c(s):Cb(s,c):xb&&(s instanceof ArrayBuffer||Eb(s))?l?c(s):Cb(new Blob([s]),c):c(Fa[i]+(s||"")),Cb=(i,s)=>{const l=new FileReader;return l.onload=function(){const c=l.result.split(",")[1];s("b"+(c||""))},l.readAsDataURL(i)};function Sb(i){return i instanceof Uint8Array?i:i instanceof ArrayBuffer?new Uint8Array(i):new Uint8Array(i.buffer,i.byteOffset,i.byteLength)}let mf;function RC(i,s){if(kb&&i.data instanceof Blob)return i.data.arrayBuffer().then(Sb).then(s);if(xb&&(i.data instanceof ArrayBuffer||Eb(i.data)))return s(Sb(i.data));hf(i,!1,l=>{mf||(mf=new TextEncoder),s(mf.encode(l))})}const Vi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ll=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(let i=0;i<Vi.length;i++)ll[Vi.charCodeAt(i)]=i;const MN=i=>{let s=new Uint8Array(i),l,c=s.length,u="";for(l=0;l<c;l+=3)u+=Vi[s[l]>>2],u+=Vi[(s[l]&3)<<4|s[l+1]>>4],u+=Vi[(s[l+1]&15)<<2|s[l+2]>>6],u+=Vi[s[l+2]&63];return c%3===2?u=u.substring(0,u.length-1)+"=":c%3===1&&(u=u.substring(0,u.length-2)+"=="),u},PC=i=>{let s=i.length*.75,l=i.length,c,u=0,d,h,m,p;i[i.length-1]==="="&&(s--,i[i.length-2]==="="&&s--);const g=new ArrayBuffer(s),b=new Uint8Array(g);for(c=0;c<l;c+=4)d=ll[i.charCodeAt(c)],h=ll[i.charCodeAt(c+1)],m=ll[i.charCodeAt(c+2)],p=ll[i.charCodeAt(c+3)],b[u++]=d<<2|h>>4,b[u++]=(h&15)<<4|m>>2,b[u++]=(m&3)<<6|p&63;return g},IC=typeof ArrayBuffer=="function",pf=(i,s)=>{if(typeof i!="string")return{type:"message",data:Tb(i,s)};const l=i.charAt(0);return l==="b"?{type:"message",data:MC(i.substring(1),s)}:$c[l]?i.length>1?{type:$c[l],data:i.substring(1)}:{type:$c[l]}:ff},MC=(i,s)=>{if(IC){const l=PC(i);return Tb(l,s)}else return{base64:!0,data:i}},Tb=(i,s)=>{switch(s){case"blob":return i instanceof Blob?i:new Blob([i]);case"arraybuffer":default:return i instanceof ArrayBuffer?i:i.buffer}},Ab="",LC=(i,s)=>{const l=i.length,c=new Array(l);let u=0;i.forEach((d,h)=>{hf(d,!1,m=>{c[h]=m,++u===l&&s(c.join(Ab))})})},DC=(i,s)=>{const l=i.split(Ab),c=[];for(let u=0;u<l.length;u++){const d=pf(l[u],s);if(c.push(d),d.type==="error")break}return c};function jC(){return new TransformStream({transform(i,s){RC(i,l=>{const c=l.length;let u;if(c<126)u=new Uint8Array(1),new DataView(u.buffer).setUint8(0,c);else if(c<65536){u=new Uint8Array(3);const d=new DataView(u.buffer);d.setUint8(0,126),d.setUint16(1,c)}else{u=new Uint8Array(9);const d=new DataView(u.buffer);d.setUint8(0,127),d.setBigUint64(1,BigInt(c))}i.data&&typeof i.data!="string"&&(u[0]|=128),s.enqueue(u),s.enqueue(l)})}})}let gf;function Hc(i){return i.reduce((s,l)=>s+l.length,0)}function Vc(i,s){if(i[0].length===s)return i.shift();const l=new Uint8Array(s);let c=0;for(let u=0;u<s;u++)l[u]=i[0][c++],c===i[0].length&&(i.shift(),c=0);return i.length&&c<i[0].length&&(i[0]=i[0].slice(c)),l}function zC(i,s){gf||(gf=new TextDecoder);const l=[];let c=0,u=-1,d=!1;return new TransformStream({transform(h,m){for(l.push(h);;){if(c===0){if(Hc(l)<1)break;const p=Vc(l,1);d=(p[0]&128)===128,u=p[0]&127,u<126?c=3:u===126?c=1:c=2}else if(c===1){if(Hc(l)<2)break;const p=Vc(l,2);u=new DataView(p.buffer,p.byteOffset,p.length).getUint16(0),c=3}else if(c===2){if(Hc(l)<8)break;const p=Vc(l,8),g=new DataView(p.buffer,p.byteOffset,p.length),b=g.getUint32(0);if(b>Math.pow(2,21)-1){m.enqueue(ff);break}u=b*Math.pow(2,32)+g.getUint32(4),c=3}else{if(Hc(l)<u)break;const p=Vc(l,u);m.enqueue(pf(d?p:gf.decode(p),s)),c=0}if(u===0||u>i){m.enqueue(ff);break}}}})}const Ob=4;function hr(i){if(i)return FC(i)}function FC(i){for(var s in hr.prototype)i[s]=hr.prototype[s];return i}hr.prototype.on=hr.prototype.addEventListener=function(i,s){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(s),this},hr.prototype.once=function(i,s){function l(){this.off(i,l),s.apply(this,arguments)}return l.fn=s,this.on(i,l),this},hr.prototype.off=hr.prototype.removeListener=hr.prototype.removeAllListeners=hr.prototype.removeEventListener=function(i,s){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var l=this._callbacks["$"+i];if(!l)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var c,u=0;u<l.length;u++)if(c=l[u],c===s||c.fn===s){l.splice(u,1);break}return l.length===0&&delete this._callbacks["$"+i],this},hr.prototype.emit=function(i){this._callbacks=this._callbacks||{};for(var s=new Array(arguments.length-1),l=this._callbacks["$"+i],c=1;c<arguments.length;c++)s[c-1]=arguments[c];if(l){l=l.slice(0);for(var c=0,u=l.length;c<u;++c)l[c].apply(this,s)}return this},hr.prototype.emitReserved=hr.prototype.emit,hr.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]},hr.prototype.hasListeners=function(i){return!!this.listeners(i).length};const qc=typeof Promise=="function"&&typeof Promise.resolve=="function"?s=>Promise.resolve().then(s):(s,l)=>l(s,0),ma=typeof self!="undefined"?self:typeof window!="undefined"?window:Function("return this")(),BC="arraybuffer";function LN(){}function Nb(i,...s){return s.reduce((l,c)=>(i.hasOwnProperty(c)&&(l[c]=i[c]),l),{})}const WC=ma.setTimeout,UC=ma.clearTimeout;function Gc(i,s){s.useNativeTimers?(i.setTimeoutFn=WC.bind(ma),i.clearTimeoutFn=UC.bind(ma)):(i.setTimeoutFn=ma.setTimeout.bind(ma),i.clearTimeoutFn=ma.clearTimeout.bind(ma))}const $C=1.33;function HC(i){return typeof i=="string"?VC(i):Math.ceil((i.byteLength||i.size)*$C)}function VC(i){let s=0,l=0;for(let c=0,u=i.length;c<u;c++)s=i.charCodeAt(c),s<128?l+=1:s<2048?l+=2:s<55296||s>=57344?l+=3:(c++,l+=4);return l}function Rb(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function qC(i){let s="";for(let l in i)i.hasOwnProperty(l)&&(s.length&&(s+="&"),s+=encodeURIComponent(l)+"="+encodeURIComponent(i[l]));return s}function GC(i){let s={},l=i.split("&");for(let c=0,u=l.length;c<u;c++){let d=l[c].split("=");s[decodeURIComponent(d[0])]=decodeURIComponent(d[1])}return s}class KC extends Error{constructor(s,l,c){super(s),this.description=l,this.context=c,this.type="TransportError"}}class bf extends hr{constructor(s){super(),this.writable=!1,Gc(this,s),this.opts=s,this.query=s.query,this.socket=s.socket,this.supportsBinary=!s.forceBase64}onError(s,l,c){return super.emitReserved("error",new KC(s,l,c)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(s){this.readyState==="open"&&this.write(s)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(s){const l=pf(s,this.socket.binaryType);this.onPacket(l)}onPacket(s){super.emitReserved("packet",s)}onClose(s){this.readyState="closed",super.emitReserved("close",s)}pause(s){}createUri(s,l={}){return s+"://"+this._hostname()+this._port()+this.opts.path+this._query(l)}_hostname(){const s=this.opts.hostname;return s.indexOf(":")===-1?s:"["+s+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(s){const l=qC(s);return l.length?"?"+l:""}}class YC extends bf{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(s){this.readyState="pausing";const l=()=>{this.readyState="paused",s()};if(this._polling||!this.writable){let c=0;this._polling&&(c++,this.once("pollComplete",function(){--c||l()})),this.writable||(c++,this.once("drain",function(){--c||l()}))}else l()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(s){const l=c=>{if(this.readyState==="opening"&&c.type==="open"&&this.onOpen(),c.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(c)};DC(s,this.socket.binaryType).forEach(l),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const s=()=>{this.write([{type:"close"}])};this.readyState==="open"?s():this.once("open",s)}write(s){this.writable=!1,LC(s,l=>{this.doWrite(l,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const s=this.opts.secure?"https":"http",l=this.query||{};return this.opts.timestampRequests!==!1&&(l[this.opts.timestampParam]=Rb()),!this.supportsBinary&&!l.sid&&(l.b64=1),this.createUri(s,l)}}let Pb=!1;try{Pb=typeof XMLHttpRequest!="undefined"&&"withCredentials"in new XMLHttpRequest}catch(i){}const JC=Pb;function ZC(){}class XC extends YC{constructor(s){if(super(s),typeof location!="undefined"){const l=location.protocol==="https:";let c=location.port;c||(c=l?"443":"80"),this.xd=typeof location!="undefined"&&s.hostname!==location.hostname||c!==s.port}}doWrite(s,l){const c=this.request({method:"POST",data:s});c.on("success",l),c.on("error",(u,d)=>{this.onError("xhr post error",u,d)})}doPoll(){const s=this.request();s.on("data",this.onData.bind(this)),s.on("error",(l,c)=>{this.onError("xhr poll error",l,c)}),this.pollXhr=s}}class Ba extends hr{constructor(s,l,c){super(),this.createRequest=s,Gc(this,c),this._opts=c,this._method=c.method||"GET",this._uri=l,this._data=c.data!==void 0?c.data:null,this._create()}_create(){var s;const l=Nb(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");l.xdomain=!!this._opts.xd;const c=this._xhr=this.createRequest(l);try{c.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){c.setDisableHeaderCheck&&c.setDisableHeaderCheck(!0);for(let u in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(u)&&c.setRequestHeader(u,this._opts.extraHeaders[u])}}catch(u){}if(this._method==="POST")try{c.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(u){}try{c.setRequestHeader("Accept","*/*")}catch(u){}(s=this._opts.cookieJar)===null||s===void 0||s.addCookies(c),"withCredentials"in c&&(c.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(c.timeout=this._opts.requestTimeout),c.onreadystatechange=()=>{var u;c.readyState===3&&((u=this._opts.cookieJar)===null||u===void 0||u.parseCookies(c.getResponseHeader("set-cookie"))),c.readyState===4&&(c.status===200||c.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof c.status=="number"?c.status:0)},0))},c.send(this._data)}catch(u){this.setTimeoutFn(()=>{this._onError(u)},0);return}typeof document!="undefined"&&(this._index=Ba.requestsCount++,Ba.requests[this._index]=this)}_onError(s){this.emitReserved("error",s,this._xhr),this._cleanup(!0)}_cleanup(s){if(!(typeof this._xhr=="undefined"||this._xhr===null)){if(this._xhr.onreadystatechange=ZC,s)try{this._xhr.abort()}catch(l){}typeof document!="undefined"&&delete Ba.requests[this._index],this._xhr=null}}_onLoad(){const s=this._xhr.responseText;s!==null&&(this.emitReserved("data",s),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(Ba.requestsCount=0,Ba.requests={},typeof document!="undefined"){if(typeof attachEvent=="function")attachEvent("onunload",Ib);else if(typeof addEventListener=="function"){const i="onpagehide"in ma?"pagehide":"unload";addEventListener(i,Ib,!1)}}function Ib(){for(let i in Ba.requests)Ba.requests.hasOwnProperty(i)&&Ba.requests[i].abort()}const QC=function(){const i=Mb({xdomain:!1});return i&&i.responseType!==null}();class eS extends XC{constructor(s){super(s);const l=s&&s.forceBase64;this.supportsBinary=QC&&!l}request(s={}){return Object.assign(s,{xd:this.xd},this.opts),new Ba(Mb,this.uri(),s)}}function Mb(i){const s=i.xdomain;try{if(typeof XMLHttpRequest!="undefined"&&(!s||JC))return new XMLHttpRequest}catch(l){}if(!s)try{return new ma[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(l){}}const Lb=typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class tS extends bf{get name(){return"websocket"}doOpen(){const s=this.uri(),l=this.opts.protocols,c=Lb?{}:Nb(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(c.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(s,l,c)}catch(u){return this.emitReserved("error",u)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=s=>this.onClose({description:"websocket connection closed",context:s}),this.ws.onmessage=s=>this.onData(s.data),this.ws.onerror=s=>this.onError("websocket error",s)}write(s){this.writable=!1;for(let l=0;l<s.length;l++){const c=s[l],u=l===s.length-1;hf(c,this.supportsBinary,d=>{try{this.doWrite(c,d)}catch(h){}u&&qc(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws!="undefined"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const s=this.opts.secure?"wss":"ws",l=this.query||{};return this.opts.timestampRequests&&(l[this.opts.timestampParam]=Rb()),this.supportsBinary||(l.b64=1),this.createUri(s,l)}}const vf=ma.WebSocket||ma.MozWebSocket;class nS extends tS{createSocket(s,l,c){return Lb?new vf(s,l,c):l?new vf(s,l):new vf(s)}doWrite(s,l){this.ws.send(l)}}class rS extends bf{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(s){return this.emitReserved("error",s)}this._transport.closed.then(()=>{this.onClose()}).catch(s=>{this.onError("webtransport error",s)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(s=>{const l=zC(Number.MAX_SAFE_INTEGER,this.socket.binaryType),c=s.readable.pipeThrough(l).getReader(),u=jC();u.readable.pipeTo(s.writable),this._writer=u.writable.getWriter();const d=()=>{c.read().then(({done:m,value:p})=>{m||(this.onPacket(p),d())}).catch(m=>{})};d();const h={type:"open"};this.query.sid&&(h.data=`{"sid":"${this.query.sid}"}`),this._writer.write(h).then(()=>this.onOpen())})})}write(s){this.writable=!1;for(let l=0;l<s.length;l++){const c=s[l],u=l===s.length-1;this._writer.write(c).then(()=>{u&&qc(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var s;(s=this._transport)===null||s===void 0||s.close()}}const aS={websocket:nS,webtransport:rS,polling:eS},oS=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,iS=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function yf(i){if(i.length>8e3)throw"URI too long";const s=i,l=i.indexOf("["),c=i.indexOf("]");l!=-1&&c!=-1&&(i=i.substring(0,l)+i.substring(l,c).replace(/:/g,";")+i.substring(c,i.length));let u=oS.exec(i||""),d={},h=14;for(;h--;)d[iS[h]]=u[h]||"";return l!=-1&&c!=-1&&(d.source=s,d.host=d.host.substring(1,d.host.length-1).replace(/;/g,":"),d.authority=d.authority.replace("[","").replace("]","").replace(/;/g,":"),d.ipv6uri=!0),d.pathNames=sS(d,d.path),d.queryKey=lS(d,d.query),d}function sS(i,s){const l=/\/{2,9}/g,c=s.replace(l,"/").split("/");return(s.slice(0,1)=="/"||s.length===0)&&c.splice(0,1),s.slice(-1)=="/"&&c.splice(c.length-1,1),c}function lS(i,s){const l={};return s.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(c,u,d){u&&(l[u]=d)}),l}const wf=typeof addEventListener=="function"&&typeof removeEventListener=="function",Kc=[];wf&&addEventListener("offline",()=>{Kc.forEach(i=>i())},!1);class Io extends hr{constructor(s,l){if(super(),this.binaryType=BC,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,s&&typeof s=="object"&&(l=s,s=null),s){const c=yf(s);l.hostname=c.host,l.secure=c.protocol==="https"||c.protocol==="wss",l.port=c.port,c.query&&(l.query=c.query)}else l.host&&(l.hostname=yf(l.host).host);Gc(this,l),this.secure=l.secure!=null?l.secure:typeof location!="undefined"&&location.protocol==="https:",l.hostname&&!l.port&&(l.port=this.secure?"443":"80"),this.hostname=l.hostname||(typeof location!="undefined"?location.hostname:"localhost"),this.port=l.port||(typeof location!="undefined"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},l.transports.forEach(c=>{const u=c.prototype.name;this.transports.push(u),this._transportsByName[u]=c}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},l),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=GC(this.opts.query)),wf&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Kc.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(s){const l=Object.assign({},this.opts.query);l.EIO=Ob,l.transport=s,this.id&&(l.sid=this.id);const c=Object.assign({},this.opts,{query:l,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[s]);return new this._transportsByName[s](c)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const s=this.opts.rememberUpgrade&&Io.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const l=this.createTransport(s);l.open(),this.setTransport(l)}setTransport(s){this.transport&&this.transport.removeAllListeners(),this.transport=s,s.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",l=>this._onClose("transport close",l))}onOpen(){this.readyState="open",Io.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(s){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",s),this.emitReserved("heartbeat"),s.type){case"open":this.onHandshake(JSON.parse(s.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const l=new Error("server error");l.code=s.data,this._onError(l);break;case"message":this.emitReserved("data",s.data),this.emitReserved("message",s.data);break}}onHandshake(s){this.emitReserved("handshake",s),this.id=s.sid,this.transport.query.sid=s.sid,this._pingInterval=s.pingInterval,this._pingTimeout=s.pingTimeout,this._maxPayload=s.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const s=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+s,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},s),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const s=this._getWritablePackets();this.transport.send(s),this._prevBufferLen=s.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let l=1;for(let c=0;c<this.writeBuffer.length;c++){const u=this.writeBuffer[c].data;if(u&&(l+=HC(u)),c>0&&l>this._maxPayload)return this.writeBuffer.slice(0,c);l+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const s=Date.now()>this._pingTimeoutTime;return s&&(this._pingTimeoutTime=0,qc(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),s}write(s,l,c){return this._sendPacket("message",s,l,c),this}send(s,l,c){return this._sendPacket("message",s,l,c),this}_sendPacket(s,l,c,u){if(typeof l=="function"&&(u=l,l=void 0),typeof c=="function"&&(u=c,c=null),this.readyState==="closing"||this.readyState==="closed")return;c=c||{},c.compress=c.compress!==!1;const d={type:s,data:l,options:c};this.emitReserved("packetCreate",d),this.writeBuffer.push(d),u&&this.once("flush",u),this.flush()}close(){const s=()=>{this._onClose("forced close"),this.transport.close()},l=()=>{this.off("upgrade",l),this.off("upgradeError",l),s()},c=()=>{this.once("upgrade",l),this.once("upgradeError",l)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?c():s()}):this.upgrading?c():s()),this}_onError(s){if(Io.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",s),this._onClose("transport error",s)}_onClose(s,l){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),wf&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const c=Kc.indexOf(this._offlineEventListener);c!==-1&&Kc.splice(c,1)}this.readyState="closed",this.id=null,this.emitReserved("close",s,l),this.writeBuffer=[],this._prevBufferLen=0}}}Io.protocol=Ob;class cS extends Io{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let s=0;s<this._upgrades.length;s++)this._probe(this._upgrades[s])}_probe(s){let l=this.createTransport(s),c=!1;Io.priorWebsocketSuccess=!1;const u=()=>{c||(l.send([{type:"ping",data:"probe"}]),l.once("packet",w=>{if(!c)if(w.type==="pong"&&w.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",l),!l)return;Io.priorWebsocketSuccess=l.name==="websocket",this.transport.pause(()=>{c||this.readyState!=="closed"&&(b(),this.setTransport(l),l.send([{type:"upgrade"}]),this.emitReserved("upgrade",l),l=null,this.upgrading=!1,this.flush())})}else{const _=new Error("probe error");_.transport=l.name,this.emitReserved("upgradeError",_)}}))};function d(){c||(c=!0,b(),l.close(),l=null)}const h=w=>{const _=new Error("probe error: "+w);_.transport=l.name,d(),this.emitReserved("upgradeError",_)};function m(){h("transport closed")}function p(){h("socket closed")}function g(w){l&&w.name!==l.name&&d()}const b=()=>{l.removeListener("open",u),l.removeListener("error",h),l.removeListener("close",m),this.off("close",p),this.off("upgrading",g)};l.once("open",u),l.once("error",h),l.once("close",m),this.once("close",p),this.once("upgrading",g),this._upgrades.indexOf("webtransport")!==-1&&s!=="webtransport"?this.setTimeoutFn(()=>{c||l.open()},200):l.open()}onHandshake(s){this._upgrades=this._filterUpgrades(s.upgrades),super.onHandshake(s)}_filterUpgrades(s){const l=[];for(let c=0;c<s.length;c++)~this.transports.indexOf(s[c])&&l.push(s[c]);return l}}class Db extends cS{constructor(s,l={}){const c=typeof s=="object"?s:l;(!c.transports||c.transports&&typeof c.transports[0]=="string")&&(c.transports=(c.transports||["polling","websocket","webtransport"]).map(u=>aS[u]).filter(u=>!!u)),super(s,c)}}class DN extends null{doPoll(){this._fetch().then(s=>{if(!s.ok)return this.onError("fetch read error",s.status,s);s.text().then(l=>this.onData(l))}).catch(s=>{this.onError("fetch read error",s)})}doWrite(s,l){this._fetch(s).then(c=>{if(!c.ok)return this.onError("fetch write error",c.status,c);l()}).catch(c=>{this.onError("fetch write error",c)})}_fetch(s){var l;const c=s!==void 0,u=new Headers(this.opts.extraHeaders);return c&&u.set("content-type","text/plain;charset=UTF-8"),(l=this.socket._cookieJar)===null||l===void 0||l.appendCookies(u),fetch(this.uri(),{method:c?"POST":"GET",body:c?s:null,headers:u,credentials:this.opts.withCredentials?"include":"omit"}).then(d=>{var h;return(h=this.socket._cookieJar)===null||h===void 0||h.parseCookies(d.headers.getSetCookie()),d})}}const jN=Db.protocol;function uS(i,s="",l){let c=i;l=l||typeof location!="undefined"&&location,i==null&&(i=l.protocol+"//"+l.host),typeof i=="string"&&(i.charAt(0)==="/"&&(i.charAt(1)==="/"?i=l.protocol+i:i=l.host+i),/^(https?|wss?):\/\//.test(i)||(typeof l!="undefined"?i=l.protocol+"//"+i:i="https://"+i),c=yf(i)),c.port||(/^(http|ws)$/.test(c.protocol)?c.port="80":/^(http|ws)s$/.test(c.protocol)&&(c.port="443")),c.path=c.path||"/";const d=c.host.indexOf(":")!==-1?"["+c.host+"]":c.host;return c.id=c.protocol+"://"+d+":"+c.port+s,c.href=c.protocol+"://"+d+(l&&l.port===c.port?"":":"+c.port),c}const dS=typeof ArrayBuffer=="function",fS=i=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(i):i.buffer instanceof ArrayBuffer,jb=Object.prototype.toString,hS=typeof Blob=="function"||typeof Blob!="undefined"&&jb.call(Blob)==="[object BlobConstructor]",mS=typeof File=="function"||typeof File!="undefined"&&jb.call(File)==="[object FileConstructor]";function _f(i){return dS&&(i instanceof ArrayBuffer||fS(i))||hS&&i instanceof Blob||mS&&i instanceof File}function Yc(i,s){if(!i||typeof i!="object")return!1;if(Array.isArray(i)){for(let l=0,c=i.length;l<c;l++)if(Yc(i[l]))return!0;return!1}if(_f(i))return!0;if(i.toJSON&&typeof i.toJSON=="function"&&arguments.length===1)return Yc(i.toJSON(),!0);for(const l in i)if(Object.prototype.hasOwnProperty.call(i,l)&&Yc(i[l]))return!0;return!1}function pS(i){const s=[],l=i.data,c=i;return c.data=kf(l,s),c.attachments=s.length,{packet:c,buffers:s}}function kf(i,s){if(!i)return i;if(_f(i)){const l={_placeholder:!0,num:s.length};return s.push(i),l}else if(Array.isArray(i)){const l=new Array(i.length);for(let c=0;c<i.length;c++)l[c]=kf(i[c],s);return l}else if(typeof i=="object"&&!(i instanceof Date)){const l={};for(const c in i)Object.prototype.hasOwnProperty.call(i,c)&&(l[c]=kf(i[c],s));return l}return i}function gS(i,s){return i.data=xf(i.data,s),delete i.attachments,i}function xf(i,s){if(!i)return i;if(i&&i._placeholder===!0){if(typeof i.num=="number"&&i.num>=0&&i.num<s.length)return s[i.num];throw new Error("illegal attachments")}else if(Array.isArray(i))for(let l=0;l<i.length;l++)i[l]=xf(i[l],s);else if(typeof i=="object")for(const l in i)Object.prototype.hasOwnProperty.call(i,l)&&(i[l]=xf(i[l],s));return i}const bS=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],vS=5;var ln;(function(i){i[i.CONNECT=0]="CONNECT",i[i.DISCONNECT=1]="DISCONNECT",i[i.EVENT=2]="EVENT",i[i.ACK=3]="ACK",i[i.CONNECT_ERROR=4]="CONNECT_ERROR",i[i.BINARY_EVENT=5]="BINARY_EVENT",i[i.BINARY_ACK=6]="BINARY_ACK"})(ln||(ln={}));class yS{constructor(s){this.replacer=s}encode(s){return(s.type===ln.EVENT||s.type===ln.ACK)&&Yc(s)?this.encodeAsBinary({type:s.type===ln.EVENT?ln.BINARY_EVENT:ln.BINARY_ACK,nsp:s.nsp,data:s.data,id:s.id}):[this.encodeAsString(s)]}encodeAsString(s){let l=""+s.type;return(s.type===ln.BINARY_EVENT||s.type===ln.BINARY_ACK)&&(l+=s.attachments+"-"),s.nsp&&s.nsp!=="/"&&(l+=s.nsp+","),s.id!=null&&(l+=s.id),s.data!=null&&(l+=JSON.stringify(s.data,this.replacer)),l}encodeAsBinary(s){const l=pS(s),c=this.encodeAsString(l.packet),u=l.buffers;return u.unshift(c),u}}function zb(i){return Object.prototype.toString.call(i)==="[object Object]"}class Ef extends hr{constructor(s){super(),this.reviver=s}add(s){let l;if(typeof s=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");l=this.decodeString(s);const c=l.type===ln.BINARY_EVENT;c||l.type===ln.BINARY_ACK?(l.type=c?ln.EVENT:ln.ACK,this.reconstructor=new wS(l),l.attachments===0&&super.emitReserved("decoded",l)):super.emitReserved("decoded",l)}else if(_f(s)||s.base64)if(this.reconstructor)l=this.reconstructor.takeBinaryData(s),l&&(this.reconstructor=null,super.emitReserved("decoded",l));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+s)}decodeString(s){let l=0;const c={type:Number(s.charAt(0))};if(ln[c.type]===void 0)throw new Error("unknown packet type "+c.type);if(c.type===ln.BINARY_EVENT||c.type===ln.BINARY_ACK){const d=l+1;for(;s.charAt(++l)!=="-"&&l!=s.length;);const h=s.substring(d,l);if(h!=Number(h)||s.charAt(l)!=="-")throw new Error("Illegal attachments");c.attachments=Number(h)}if(s.charAt(l+1)==="/"){const d=l+1;for(;++l&&!(s.charAt(l)===","||l===s.length););c.nsp=s.substring(d,l)}else c.nsp="/";const u=s.charAt(l+1);if(u!==""&&Number(u)==u){const d=l+1;for(;++l;){const h=s.charAt(l);if(h==null||Number(h)!=h){--l;break}if(l===s.length)break}c.id=Number(s.substring(d,l+1))}if(s.charAt(++l)){const d=this.tryParse(s.substr(l));if(Ef.isPayloadValid(c.type,d))c.data=d;else throw new Error("invalid payload")}return c}tryParse(s){try{return JSON.parse(s,this.reviver)}catch(l){return!1}}static isPayloadValid(s,l){switch(s){case ln.CONNECT:return zb(l);case ln.DISCONNECT:return l===void 0;case ln.CONNECT_ERROR:return typeof l=="string"||zb(l);case ln.EVENT:case ln.BINARY_EVENT:return Array.isArray(l)&&(typeof l[0]=="number"||typeof l[0]=="string"&&bS.indexOf(l[0])===-1);case ln.ACK:case ln.BINARY_ACK:return Array.isArray(l)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class wS{constructor(s){this.packet=s,this.buffers=[],this.reconPack=s}takeBinaryData(s){if(this.buffers.push(s),this.buffers.length===this.reconPack.attachments){const l=gS(this.reconPack,this.buffers);return this.finishedReconstruction(),l}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Aa(i,s,l){return i.on(s,l),function(){i.off(s,l)}}const _S=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Fb extends hr{constructor(s,l,c){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=s,this.nsp=l,c&&c.auth&&(this.auth=c.auth),this._opts=Object.assign({},c),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const s=this.io;this.subs=[Aa(s,"open",this.onopen.bind(this)),Aa(s,"packet",this.onpacket.bind(this)),Aa(s,"error",this.onerror.bind(this)),Aa(s,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...s){return s.unshift("message"),this.emit.apply(this,s),this}emit(s,...l){var c,u,d;if(_S.hasOwnProperty(s))throw new Error('"'+s.toString()+'" is a reserved event name');if(l.unshift(s),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(l),this;const h={type:ln.EVENT,data:l};if(h.options={},h.options.compress=this.flags.compress!==!1,typeof l[l.length-1]=="function"){const b=this.ids++,w=l.pop();this._registerAckCallback(b,w),h.id=b}const m=(u=(c=this.io.engine)===null||c===void 0?void 0:c.transport)===null||u===void 0?void 0:u.writable,p=this.connected&&!(!((d=this.io.engine)===null||d===void 0)&&d._hasPingExpired());return this.flags.volatile&&!m||(p?(this.notifyOutgoingListeners(h),this.packet(h)):this.sendBuffer.push(h)),this.flags={},this}_registerAckCallback(s,l){var c;const u=(c=this.flags.timeout)!==null&&c!==void 0?c:this._opts.ackTimeout;if(u===void 0){this.acks[s]=l;return}const d=this.io.setTimeoutFn(()=>{delete this.acks[s];for(let m=0;m<this.sendBuffer.length;m++)this.sendBuffer[m].id===s&&this.sendBuffer.splice(m,1);l.call(this,new Error("operation has timed out"))},u),h=(...m)=>{this.io.clearTimeoutFn(d),l.apply(this,m)};h.withError=!0,this.acks[s]=h}emitWithAck(s,...l){return new Promise((c,u)=>{const d=(h,m)=>h?u(h):c(m);d.withError=!0,l.push(d),this.emit(s,...l)})}_addToQueue(s){let l;typeof s[s.length-1]=="function"&&(l=s.pop());const c={id:this._queueSeq++,tryCount:0,pending:!1,args:s,flags:Object.assign({fromQueue:!0},this.flags)};s.push((u,...d)=>c!==this._queue[0]?void 0:(u!==null?c.tryCount>this._opts.retries&&(this._queue.shift(),l&&l(u)):(this._queue.shift(),l&&l(null,...d)),c.pending=!1,this._drainQueue())),this._queue.push(c),this._drainQueue()}_drainQueue(s=!1){if(!this.connected||this._queue.length===0)return;const l=this._queue[0];l.pending&&!s||(l.pending=!0,l.tryCount++,this.flags=l.flags,this.emit.apply(this,l.args))}packet(s){s.nsp=this.nsp,this.io._packet(s)}onopen(){typeof this.auth=="function"?this.auth(s=>{this._sendConnectPacket(s)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(s){this.packet({type:ln.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},s):s})}onerror(s){this.connected||this.emitReserved("connect_error",s)}onclose(s,l){this.connected=!1,delete this.id,this.emitReserved("disconnect",s,l),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(s=>{if(!this.sendBuffer.some(c=>String(c.id)===s)){const c=this.acks[s];delete this.acks[s],c.withError&&c.call(this,new Error("socket has been disconnected"))}})}onpacket(s){if(s.nsp===this.nsp)switch(s.type){case ln.CONNECT:s.data&&s.data.sid?this.onconnect(s.data.sid,s.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ln.EVENT:case ln.BINARY_EVENT:this.onevent(s);break;case ln.ACK:case ln.BINARY_ACK:this.onack(s);break;case ln.DISCONNECT:this.ondisconnect();break;case ln.CONNECT_ERROR:this.destroy();const c=new Error(s.data.message);c.data=s.data.data,this.emitReserved("connect_error",c);break}}onevent(s){const l=s.data||[];s.id!=null&&l.push(this.ack(s.id)),this.connected?this.emitEvent(l):this.receiveBuffer.push(Object.freeze(l))}emitEvent(s){if(this._anyListeners&&this._anyListeners.length){const l=this._anyListeners.slice();for(const c of l)c.apply(this,s)}super.emit.apply(this,s),this._pid&&s.length&&typeof s[s.length-1]=="string"&&(this._lastOffset=s[s.length-1])}ack(s){const l=this;let c=!1;return function(...u){c||(c=!0,l.packet({type:ln.ACK,id:s,data:u}))}}onack(s){const l=this.acks[s.id];typeof l=="function"&&(delete this.acks[s.id],l.withError&&s.data.unshift(null),l.apply(this,s.data))}onconnect(s,l){this.id=s,this.recovered=l&&this._pid===l,this._pid=l,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(s=>this.emitEvent(s)),this.receiveBuffer=[],this.sendBuffer.forEach(s=>{this.notifyOutgoingListeners(s),this.packet(s)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(s=>s()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ln.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(s){return this.flags.compress=s,this}get volatile(){return this.flags.volatile=!0,this}timeout(s){return this.flags.timeout=s,this}onAny(s){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(s),this}prependAny(s){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(s),this}offAny(s){if(!this._anyListeners)return this;if(s){const l=this._anyListeners;for(let c=0;c<l.length;c++)if(s===l[c])return l.splice(c,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(s){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(s),this}prependAnyOutgoing(s){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(s),this}offAnyOutgoing(s){if(!this._anyOutgoingListeners)return this;if(s){const l=this._anyOutgoingListeners;for(let c=0;c<l.length;c++)if(s===l[c])return l.splice(c,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(s){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const l=this._anyOutgoingListeners.slice();for(const c of l)c.apply(this,s.data)}}}function qi(i){i=i||{},this.ms=i.min||100,this.max=i.max||1e4,this.factor=i.factor||2,this.jitter=i.jitter>0&&i.jitter<=1?i.jitter:0,this.attempts=0}qi.prototype.duration=function(){var i=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var s=Math.random(),l=Math.floor(s*this.jitter*i);i=Math.floor(s*10)&1?i+l:i-l}return Math.min(i,this.max)|0},qi.prototype.reset=function(){this.attempts=0},qi.prototype.setMin=function(i){this.ms=i},qi.prototype.setMax=function(i){this.max=i},qi.prototype.setJitter=function(i){this.jitter=i};class Cf extends hr{constructor(s,l){var c;super(),this.nsps={},this.subs=[],s&&typeof s=="object"&&(l=s,s=void 0),l=l||{},l.path=l.path||"/socket.io",this.opts=l,Gc(this,l),this.reconnection(l.reconnection!==!1),this.reconnectionAttempts(l.reconnectionAttempts||1/0),this.reconnectionDelay(l.reconnectionDelay||1e3),this.reconnectionDelayMax(l.reconnectionDelayMax||5e3),this.randomizationFactor((c=l.randomizationFactor)!==null&&c!==void 0?c:.5),this.backoff=new qi({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(l.timeout==null?2e4:l.timeout),this._readyState="closed",this.uri=s;const u=l.parser||Ge;this.encoder=new u.Encoder,this.decoder=new u.Decoder,this._autoConnect=l.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(s){return arguments.length?(this._reconnection=!!s,s||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(s){return s===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=s,this)}reconnectionDelay(s){var l;return s===void 0?this._reconnectionDelay:(this._reconnectionDelay=s,(l=this.backoff)===null||l===void 0||l.setMin(s),this)}randomizationFactor(s){var l;return s===void 0?this._randomizationFactor:(this._randomizationFactor=s,(l=this.backoff)===null||l===void 0||l.setJitter(s),this)}reconnectionDelayMax(s){var l;return s===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=s,(l=this.backoff)===null||l===void 0||l.setMax(s),this)}timeout(s){return arguments.length?(this._timeout=s,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(s){if(~this._readyState.indexOf("open"))return this;this.engine=new Db(this.uri,this.opts);const l=this.engine,c=this;this._readyState="opening",this.skipReconnect=!1;const u=Aa(l,"open",function(){c.onopen(),s&&s()}),d=m=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",m),s?s(m):this.maybeReconnectOnOpen()},h=Aa(l,"error",d);if(this._timeout!==!1){const m=this._timeout,p=this.setTimeoutFn(()=>{u(),d(new Error("timeout")),l.close()},m);this.opts.autoUnref&&p.unref(),this.subs.push(()=>{this.clearTimeoutFn(p)})}return this.subs.push(u),this.subs.push(h),this}connect(s){return this.open(s)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const s=this.engine;this.subs.push(Aa(s,"ping",this.onping.bind(this)),Aa(s,"data",this.ondata.bind(this)),Aa(s,"error",this.onerror.bind(this)),Aa(s,"close",this.onclose.bind(this)),Aa(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(s){try{this.decoder.add(s)}catch(l){this.onclose("parse error",l)}}ondecoded(s){qc(()=>{this.emitReserved("packet",s)},this.setTimeoutFn)}onerror(s){this.emitReserved("error",s)}socket(s,l){let c=this.nsps[s];return c?this._autoConnect&&!c.active&&c.connect():(c=new Fb(this,s,l),this.nsps[s]=c),c}_destroy(s){const l=Object.keys(this.nsps);for(const c of l)if(this.nsps[c].active)return;this._close()}_packet(s){const l=this.encoder.encode(s);for(let c=0;c<l.length;c++)this.engine.write(l[c],s.options)}cleanup(){this.subs.forEach(s=>s()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(s,l){var c;this.cleanup(),(c=this.engine)===null||c===void 0||c.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",s,l),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const s=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const l=this.backoff.duration();this._reconnecting=!0;const c=this.setTimeoutFn(()=>{s.skipReconnect||(this.emitReserved("reconnect_attempt",s.backoff.attempts),!s.skipReconnect&&s.open(u=>{u?(s._reconnecting=!1,s.reconnect(),this.emitReserved("reconnect_error",u)):s.onreconnect()}))},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}}onreconnect(){const s=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",s)}}const cl={};function Jc(i,s){typeof i=="object"&&(s=i,i=void 0),s=s||{};const l=uS(i,s.path||"/socket.io"),c=l.source,u=l.id,d=l.path,h=cl[u]&&d in cl[u].nsps,m=s.forceNew||s["force new connection"]||s.multiplex===!1||h;let p;return m?p=new Cf(c,s):(cl[u]||(cl[u]=new Cf(c,s)),p=cl[u]),l.query&&!s.query&&(s.query=l.queryKey),p.socket(l.path,s)}Object.assign(Jc,{Manager:Cf,Socket:Fb,io:Jc,connect:Jc});const or={PRESENCE_ONLINE:"presence:online",USER_TYPING_START:"user:typing:start",USER_TYPING_STOP:"user:typing:stop",ADMIN_TYPING_START:"admin:typing:start",ADMIN_TYPING_STOP:"admin:typing:stop",MESSAGE_SENT:"message:sent",MESSAGE_PART_UPDATED:"message:part:updated",CONVERSATION_UPDATED:"conversation:updated"},kS=U.string().regex(/^[0-9a-fA-F]{24}$/).or(U.string().uuid()),Bb=U.string().regex(/^\d+$/).max(50),Gi=U.string().regex(/^[0-9a-fA-F]{24}$/),ai=Bb,xS=kS,Wb=Bb,Ki=U.number(),Yi=U.object({id:xS,type:U.enum(["admin","customer","guest","integration","bot","lead"]),picture:U.string().optional()}),ES=Yi.extend({name:U.string(),picture:U.string()}),CS={TEXT:"text",IMAGE:"image",FILE:"file",SYSTEM:"system"},Ub=U.object({event:U.literal(or.USER_TYPING_START),conversationId:ai}),$b=U.object({event:U.literal(or.USER_TYPING_STOP),conversationId:ai}),Hb=U.object({event:U.literal(or.PRESENCE_ONLINE)}),zN=U.discriminatedUnion("event",[Ub,$b,Hb]),SS=U.object({user:ES,body:U.string(),organizationId:Gi,timestamp:Ki,event:U.literal(or.MESSAGE_SENT),id:U.string().uuid(),conversationId:ai,messageId:Wb,partType:U.enum(Object.values(CS)),content:U.string().optional(),metadata:U.record(U.unknown()).optional()}),TS=U.object({event:U.literal(or.MESSAGE_PART_UPDATED),conversationId:ai,conversationPartId:ai,messageId:Wb}),AS=Ub.extend({user:Yi,organizationId:Gi,timestamp:Ki}),OS=$b.extend({user:Yi,organizationId:Gi,timestamp:Ki}),NS=U.object({event:U.literal(or.ADMIN_TYPING_START),user:Yi,organizationId:Gi,conversationId:ai,timestamp:Ki}),RS=U.object({event:U.literal(or.ADMIN_TYPING_STOP),user:Yi,organizationId:Gi,conversationId:ai,timestamp:Ki}),PS=Hb.extend({user:Yi,organizationId:Gi,timestamp:Ki}),FN=U.discriminatedUnion("event",[SS,TS,AS,OS,NS,RS,PS]);var Vb=(i,s,l)=>new Promise((c,u)=>{var d=p=>{try{m(l.next(p))}catch(g){u(g)}},h=p=>{try{m(l.throw(p))}catch(g){u(g)}},m=p=>p.done?c(p.value):Promise.resolve(p.value).then(d,h);m((l=l.apply(i,s)).next())});class IS{constructor({organizationId:s,rtm:l}){this.socket=null,this.listeners={},this.pendingBindResolve=null,this.pendingBindReject=null,this.isConnected=!1,this.affinity=null,this.events=[],this.lastBoundRooms=null,this.lastBoundEvents=null,this.presenceIntervalId=null,this.reconnectAttempts=0,this.isFullyConnected=!1,this.eventBuffer=[],this.connectionReadyPromise=null,this.connectionReadyResolve=null,this.organizationId=s,this.rtm=l}bind(){return Vb(this,arguments,function*(s=[]){this.events=s,yield this.connect()})}unbind(){this.cleanup(),this.disconnect()}on(s,l){if(this.listeners[s]||(this.listeners[s]=[]),this.listeners[s].push(l),this.socket){const c=u=>{if(!this.isFullyConnected&&s!=="connect"&&s!=="disconnect"){this.eventBuffer.push({event:s,data:u});return}l(u)};l._wrapped=c,this.socket.on(s,c)}}off(s,l){var c;if(this.listeners[s])if(l){const u=this.listeners[s].indexOf(l);if(u!==-1&&(this.listeners[s].splice(u,1),this.socket)){const d=l._wrapped||l;this.socket.off(s,d),delete l._wrapped}this.listeners[s].length===0&&delete this.listeners[s]}else this.socket&&this.socket.removeAllListeners(s),(c=this.listeners[s])==null||c.forEach(u=>{delete u._wrapped}),delete this.listeners[s]}emit(s){if(!this.socket)throw new Error(`Cannot emit event [${s}]: Socket is not connected.`);if(!this.isFullyConnected&&this.connectionReadyPromise){this.connectionReadyPromise.then(()=>{var l;(l=this.socket)==null||l.emit(s.event,s)});return}this.socket.emit(s.event,s)}connect(){return Vb(this,null,function*(){if(!this.socket){this.connectionReadyPromise||(this.connectionReadyPromise=new Promise(s=>{this.connectionReadyResolve=s}));try{const s=NC(this.organizationId).substring(0,3);this.socket=Jc(this.rtm.endpoint,{path:`/r/${s}`,transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:40,reconnectionDelay:1e3,reconnectionDelayMax:3e4,randomizationFactor:.5,timeout:2e4,auth:{token:this.rtm.token},extraHeaders:{"x-featurebase-ray":s}}),this.attachListeners(),this.socket.connect(),yield new Promise((l,c)=>{this.pendingBindResolve=l,this.pendingBindReject=c})}catch(s){console.error("Failed to establish WebSocket connection:",s)}}})}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null),this.presenceIntervalId&&(clearInterval(this.presenceIntervalId),this.presenceIntervalId=null)}attachListeners(){if(!this.socket)return;const s=(l,c)=>u=>{if(!this.isFullyConnected&&l!=="connect"&&l!=="disconnect"){this.eventBuffer.push({event:l,data:u});return}c(u)};for(const[l,c]of Object.entries(this.listeners))c.forEach(u=>{const d=s(l,u);u._wrapped=d,this.socket.on(l,d)});this.socket.on("connect",()=>{this.isConnected=!0,this.handleConnectionSuccess()}),this.socket.on("disconnect",l=>{this.isConnected=!1,this.isFullyConnected=!1,console.log("WebSocket disconnected:",l),this.handleDisconnection()}),this.socket.on("reconnect_attempt",l=>{this.reconnectAttempts=l,console.log(`WebSocket reconnection attempt #${l}`)}),this.socket.on("reconnect_error",l=>{console.error("WebSocket reconnection error:",l)}),this.socket.on("reconnect",l=>{console.log(`WebSocket reconnected after ${l} attempts`),this.reconnectAttempts=0}),this.socket.on("connect_error",l=>{console.error("WebSocket connection error:",l)})}handleConnectionSuccess(){this.areRoomsAndEventsSame()?this.handleSuccessfulBinding():this.lastBoundEvents=this.events,this.isFullyConnected||(this.isFullyConnected=!0,this.startPresenceHeartbeat(),this.processBufferedEvents(),this.connectionReadyResolve&&(this.connectionReadyResolve(),this.connectionReadyResolve=null))}handleSuccessfulBinding(){var s;(s=this.pendingBindResolve)==null||s.call(this),this.cleanup()}handleDisconnection(){var s;(s=this.pendingBindReject)==null||s.call(this),this.cleanup(),this.lastBoundRooms=null,this.lastBoundEvents=null,this.eventBuffer=[],this.connectionReadyPromise=null,this.connectionReadyResolve=null,this.presenceIntervalId&&(clearInterval(this.presenceIntervalId),this.presenceIntervalId=null)}startPresenceHeartbeat(){this.emit({event:or.PRESENCE_ONLINE}),this.presenceIntervalId&&clearInterval(this.presenceIntervalId),this.presenceIntervalId=setInterval(()=>{this.isConnected&&this.isFullyConnected&&this.emit({event:or.PRESENCE_ONLINE})},9e4)}cleanup(){this.events=[],this.pendingBindResolve=null,this.pendingBindReject=null}areRoomsAndEventsSame(){return JSON.stringify(this.events)===JSON.stringify(this.lastBoundEvents)}processBufferedEvents(){for(;this.eventBuffer.length>0;){const{event:s,data:l}=this.eventBuffer.shift();this.listeners[s]&&this.listeners[s].forEach(c=>c(l))}}}let Ji=null;const Zc=i=>(i&&(Ji||(Ji=new IS(i))),Ji),MS=()=>{Ji&&(Ji.unbind(),Ji=null)},LS=(i,s=3e3,l)=>{const c=(0,j.useRef)(i),u=(0,j.useRef)(l),d=(0,j.useRef)(null),h=(0,j.useRef)(null),m=(0,j.useRef)(!1),p=(0,j.useRef)(0);(0,j.useEffect)(()=>{c.current=i},[i]),(0,j.useEffect)(()=>{u.current=l},[l]),(0,j.useEffect)(()=>()=>{d.current&&clearInterval(d.current),h.current&&clearTimeout(h.current)},[]);const g=(0,j.useCallback)(()=>{p.current=Date.now(),h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{b()},s),!m.current&&(m.current=!0,c.current(),d.current=setInterval(()=>{Date.now()-p.current<s?c.current():b()},s))},[s]),b=(0,j.useCallback)(()=>{m.current&&(d.current&&(clearInterval(d.current),d.current=null),h.current&&(clearTimeout(h.current),h.current=null),m.current=!1,u.current&&u.current())},[]);return{startTyping:g,stopTyping:b}},DS=()=>{var i,s,l;const[c]=je(On),[u,d]=je(nk),h=Eo((l=(s=(i=c.messenger.config.settings)==null?void 0:i[Co()])==null?void 0:s.privacyPolicy)==null?void 0:l.content),m=ji("isPrivacyPolicyEnabled"),p=w=>w.length+"-"+w.slice(0,20).replace(/\s+/g,""),g=w=>{const _=p(w);d(_)};if(!h||!m)return null;const b=p(h);return u===b?null:y("div",{className:Yt("flex items-center justify-center px-[18px] py-3 mt-2 !rounded-xl bg-secondary-foreground/5"),children:[y("div",{className:"mr-3 w-full",children:y("p",{className:"extra-cramped-content w-full !text-left text-secondary-foreground line-clamp-6",children:y(Xs,{content:h})})}),y("button",{className:"flex-shrink-0 p-1.5",onClick:()=>g(h),children:y(zi,{className:"text-secondary-foreground/60 !h-4 !w-4"})})]})};var jS=(i,s,l)=>new Promise((c,u)=>{var d=p=>{try{m(l.next(p))}catch(g){u(g)}},h=p=>{try{m(l.throw(p))}catch(g){u(g)}},m=p=>p.done?c(p.value):Promise.resolve(p.value).then(d,h);m((l=l.apply(i,s)).next())});const zS=(0,j.lazy)(()=>Promise.all([de.e(8096),de.e(9206)]).then(de.bind(de,3324))),FS=({onEmojiClick:i,isOpen:s})=>{var l,c,u,d,h,m;if(!s)return null;const[p,g]=je(On),[b,w]=je(Rs),[_,k]=(0,j.useState)(null),[E,T]=(0,j.useState)(!0);(0,j.useEffect)(()=>{jS(void 0,null,function*(){try{const A=yield Promise.all([de.e(6161),de.e(3015)]).then(de.t.bind(de,410,19));k(A.default),T(!1)}catch(A){console.error("Failed to load emoji data:",A)}})},[]);const S=b==="dark"?(u=(c=(l=p==null?void 0:p.messenger)==null?void 0:l.config)==null?void 0:c.style)==null?void 0:u.compiledThemeDark:(m=(h=(d=p==null?void 0:p.messenger)==null?void 0:d.config)==null?void 0:h.style)==null?void 0:m.compiledTheme,x=A=>to(S,A,!0);return y("div",{className:Yt("fixed inset-0 z-50 flex justify-center bottom-14",b==="dark"?"dark":""),children:[y("style",{children:`
        em-emoji-picker {
        --background-rgb: --accent;
        --border-radius: --radius;
        --category-icon-size: 16px;
        --color-border-over: rgb(${x("border")});
        --color-border: rgb(${x("border")});
        --font-family: Inter;
        --font-size: 14px;
        --rgb-accent: ${x("accent")};
        --rgb-background: ${x("secondary")};
        --rgb-color: ${x("secondary-foreground")};
        --rgb-input: ${x("border")};
        --shadow: 5px 5px 15px -8px ${x("background")};

          height: 50vh;
          min-height: 400px;
          max-height: 800px;
        }
      `}),y("div",{className:"flex items-end justify-center w-full h-full",children:y("div",{className:"relative z-[100] overflow-hidden  rounded-lg shadow-lg emoji-mart animate-slide-down shadow-darker-background/40 dark:shadow-lg dark:shadow-darker-background/40 bg-background",children:y(j.Suspense,{fallback:y("div",{className:"px-5 flex items-center flex-col gap-2.5 justify-center h-[400px] w-[284px] text-[13px]",children:[y("div",{className:"text-foreground/60 h-5 w-5",children:y(ti,{})}),"Loading emoji picker..."]}),children:!E&&_&&y(zS,{data:_,onEmojiSelect:A=>i(A.native),set:"native",autoFocus:!0,theme:"dark",skinTonePosition:"none",previewPosition:"none",maxFrequentRows:0,navPosition:"bottom",i18n:ha.t("emoji-picker",{returnObjects:!0}),perLine:8,emojiSize:20,emojiButtonSize:32,emojiButtonColors:[`rgba(${x("accent")}, .2)`]})})})})]})};var BS=Object.defineProperty,qb=Object.getOwnPropertySymbols,WS=Object.prototype.hasOwnProperty,US=Object.prototype.propertyIsEnumerable,Gb=(i,s,l)=>s in i?BS(i,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[s]=l,$S=(i,s)=>{for(var l in s||(s={}))WS.call(s,l)&&Gb(i,l,s[l]);if(qb)for(var l of qb(s))US.call(s,l)&&Gb(i,l,s[l]);return i},Kb=(i,s,l)=>new Promise((c,u)=>{var d=p=>{try{m(l.next(p))}catch(g){u(g)}},h=p=>{try{m(l.throw(p))}catch(g){u(g)}},m=p=>p.done?c(p.value):Promise.resolve(p.value).then(d,h);m((l=l.apply(i,s)).next())});const ul=i=>Kb(void 0,null,function*(){try{const s=new FormData;s.append("file",i);const l=yield Jr.request("/messenger/widget/upload/private",{method:"POST",body:s,isFormData:!0});if(!l.success)throw console.error("Upload failed:",l.error||"Unknown error"),new Error(l.error||"Failed to upload file");return{src:l.src,key:l.key,originalFilename:l.originalFilename}}catch(s){throw console.error("Error in uploadSingleMedia:",s),s}}),$N=(i,s)=>Kb(void 0,null,function*(){if(!i.length)return[];if(i.length===1)return[yield ul(i[0])];const l=i.map(c=>ul(c));return Promise.all(l)}),HN=(i,s,l)=>{if(!i||!i.contentWindow){console.error("Invalid iframe element or contentWindow not available");return}i.contentWindow.postMessage(JSON.stringify($S({type:s},l)),"*")};var Sf=(i,s,l)=>new Promise((c,u)=>{var d=p=>{try{m(l.next(p))}catch(g){u(g)}},h=p=>{try{m(l.throw(p))}catch(g){u(g)}},m=p=>p.done?c(p.value):Promise.resolve(p.value).then(d,h);m((l=l.apply(i,s)).next())});const Xc=(i,s)=>{const l=i.name;return i.type.startsWith("video/")?`<video src="${s.src}" data-width="100%" data-align="left" data-featurebase-content-filename="${l}"></video>`:i.type.startsWith("image/")?`<img src="${s.src}" alt="${l}" data-featurebase-content-filename="${l}" />`:`<file-preview-component data-featurebase-content-filename="${l}" data-featurebase-content-filesize="${i.size}" data-featurebase-content-filetype="${i.type}" src="${s.src}" data-featurebase-content-key="${s.contentKey||s.key||""}"></file-preview-component>`},Yb=({onSendMessage:i,onCreateFileHTML:s,setUploadingFilesRef:l,uploadingFiles:c,setUploadingFiles:u})=>{const{t:d}=Fn(),[h,m]=je(Ep),[p,g]=(0,j.useState)(h||""),b=(0,j.useRef)(p),w=(0,j.useRef)(""),_=(0,j.useRef)(null),k=(0,j.useRef)(null),E=(0,j.useRef)(null),[T]=je(Ps),[S,x]=(0,j.useState)(!1),A=(0,j.useRef)(null);(0,j.useEffect)(()=>{h&&k.current&&(g(h),k.current.commands.setContent(h),m(""))},[h,k.current]);const R=G=>{k.current=G,h&&(G.commands.setContent(h),g(h),m("")),G.commands.focus("end")};(0,j.useLayoutEffect)(()=>{b.current=p},[p]),(0,j.useEffect)(()=>{l&&l.current&&(l.current=u)},[l]);const[N]=je(Ni),F=(0,j.useRef)(N);(0,j.useEffect)(()=>{F.current=N},[N]);const P=G=>{G!==w.current&&(w.current=G,g(G))};(0,j.useEffect)(()=>{const G=N,te=A.current;G!==te&&!h?(A.current=G,g(""),w.current="",setTimeout(()=>{var ye,Pe;(Pe=(ye=k.current)==null?void 0:ye.commands)!=null&&Pe.focus&&k.current.commands.focus("end")},50)):G!==te&&h&&(A.current=G)},[N,h]);const O=()=>{const G=Zc();!G||!F.current||F.current==="new"||G.emit({event:or.USER_TYPING_START,conversationId:F.current})},C=()=>{const G=Zc();!G||!F.current||F.current==="new"||G.emit({event:or.USER_TYPING_STOP,conversationId:F.current})},{startTyping:D,stopTyping:L}=LS(O,3e3,C),M=(0,j.useRef)(C),z=(0,j.useRef)(!1);(0,j.useEffect)(()=>{M.current=C},[N]),(0,j.useEffect)(()=>{const G=!p.trim();!F.current||F.current==="new"||(G?(L(),z.current||M.current()):D())},[p,D,L]),(0,j.useEffect)(()=>()=>{L()},[L]);const I=()=>{var G;if(!b.current.trim())return;z.current=!0;const te=b.current;L(),i(te,[],[]),w.current="",g(""),(G=k.current)!=null&&G.commands&&(k.current.commands.setContent(""),setTimeout(()=>{var ye,Pe;(Pe=(ye=k.current)==null?void 0:ye.commands)!=null&&Pe.focus&&k.current.commands.focus()},0)),setTimeout(()=>{z.current=!1},100)},q=G=>Sf(void 0,null,function*(){if(G.length!==0){u(!0);try{const te=G.map(ye=>ye.type.startsWith("image/")?Z(ye):ae(ye));yield Promise.all(te)}catch(te){console.error("Error processing pasted files:",te)}finally{u(!1)}}}),Z=G=>Sf(void 0,null,function*(){try{const te=yield ul(G),ye=Xc(G,te);return i(ye,[],[]),!0}catch(te){return console.error("Error uploading image:",te),!1}}),ae=G=>Sf(void 0,null,function*(){try{const te=yield ul(G),ye=Xc(G,te);return i(ye,[],[]),!0}catch(te){return console.error("Error uploading file:",te),!1}}),se=()=>{var G;(G=_.current)==null||G.click()},Ae=()=>{x(G=>!G)},be=G=>{(!p.trim()||p==="<p></p>")&&k.current?(w.current=G,k.current.commands.setContent(G),g(G),b.current=G,setTimeout(()=>{I()},50)):k.current&&k.current.commands.insertContent(G),x(!1)},Le=G=>{const te=_.current;if(!te||!te.files||te.files.length===0){console.warn("No files selected or input element not valid");return}const ye=Array.from(te.files);q(ye).catch(Pe=>{console.error("Error handling selected files:",Pe)}),te.value=""};(0,j.useEffect)(()=>{if(!S||!E.current)return;const G=E.current,te=ye=>{try{const Pe=ye.target,Lt=G.querySelector(".emoji-mart"),Dt=G.querySelector('[aria-label="Open emoji picker"]'),cn=!Lt||!Lt.contains(Pe),Nt=!Dt||!Dt.contains(Pe);cn&&Nt&&x(!1)}catch(Pe){x(!1),console.error("Error in clickOutside handler:",Pe)}};return G.addEventListener("mousedown",te),()=>{G.removeEventListener("mousedown",te)}},[S]),(0,j.useEffect)(()=>{s||(Yb.createFileHTML=Xc)},[s]);const B=(0,j.useMemo)(()=>typeof navigator!="undefined"?navigator.userAgent.toLowerCase().includes("firefox"):!1,[]);return T!=null&&T.disableCustomerReply||(T==null?void 0:T.state)==="closed"&&ji("preventReplyingToClosedConversations")?y("div",{className:"py-6 text-sm border-t border-border/80 text-background-foreground/70",children:y("p",{className:"text-center",children:d("your-conversation-has-ended")})}):y("div",{ref:E,className:"relative flex-shrink-0 p-3 pb-3",onDragOver:G=>{G.preventDefault(),G.stopPropagation()},onDrop:G=>{var te;if(G.preventDefault(),G.stopPropagation(),(te=G.dataTransfer)!=null&&te.files&&G.dataTransfer.files.length>0){const ye=Array.from(G.dataTransfer.files);q(ye).catch(Pe=>{console.error("Error handling dropped files:",Pe)})}},children:[y(FS,{isOpen:S,onEmojiClick:be}),y("div",{className:Yt(Ec(!1,!0),"flex justify-center relative min-h-[56px] w-full cursor-text focus-within:ring-2 ring-accent/30 flex-col rounded-2xl pl-0 pr-1.5 py-0 transition-colors contain-inline-size bg-secondary"),children:y("div",{className:"flex h-full max-h-[140px] w-full overflow-auto custom-scrollbar",children:[y(wC,{editorRef:k,onChange:P,onSubmit:I,onFilesPasted:q,onEditorInit:R}),y("div",{children:[y("div",{className:"absolute bottom-3 right-4 items-center",children:p&&p!=="<p></p>"?y("div",{className:"flex gap-2.5",children:[!B&&y("button",{"aria-label":d("open-emoji-picker"),className:"flex justify-center items-center w-8 h-8 rounded-full main-transition hover:bg-secondary-foreground/20 text-secondary-foreground/70",onClick:Ae,children:y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:y("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.182 15.182a4.5 4.5 0 0 1-6.364 0M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0ZM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Z"})})}),y("button",{onClick:I,"aria-label":d("submit-message"),className:"flex justify-center items-center w-8 h-8 rounded-full animate-slide-down bg-primary text-primary-foreground",children:y("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:y("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.1918 8.90615C15.6381 8.45983 16.3618 8.45983 16.8081 8.90615L21.9509 14.049C22.3972 14.4953 22.3972 15.2189 21.9509 15.6652C21.5046 16.1116 20.781 16.1116 20.3347 15.6652L17.1428 12.4734V22.2857C17.1428 22.9169 16.6311 23.4286 15.9999 23.4286C15.3688 23.4286 14.8571 22.9169 14.8571 22.2857V12.4734L11.6652 15.6652C11.2189 16.1116 10.4953 16.1116 10.049 15.6652C9.60265 15.2189 9.60265 14.4953 10.049 14.049L15.1918 8.90615Z",fill:"currentColor"})})})]}):y("div",{className:"flex items-center gap-2.5",children:[!B&&y("button",{"aria-label":d("open-emoji-picker"),className:"flex justify-center items-center w-8 h-8 rounded-full main-transition hover:bg-secondary-foreground/20 text-secondary-foreground/70",onClick:Ae,disabled:c,children:y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:y("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.182 15.182a4.5 4.5 0 0 1-6.364 0M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0ZM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Z"})})}),y("button",{"aria-label":d("attach-file"),className:"flex justify-center items-center w-8 h-8 rounded-full main-transition hover:bg-secondary-foreground/20 text-secondary-foreground/70",onClick:se,disabled:c,children:c?y("svg",{className:"w-5 h-5 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[y("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:y("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m18.375 12.739-7.693 7.693a4.5 4.5 0 0 1-6.364-6.364l10.94-10.94A3 3 0 1 1 19.5 7.372L8.552 18.32m.009-.01-.01.01m5.699-9.941-7.81 7.81a1.5 1.5 0 0 0 2.112 2.13"})})})]})}),y("input",{type:"file",accept:"*/*",multiple:!0,ref:_,className:"sr-only",onChange:Le,disabled:c})]})]})}),y(DS,{})]})},HS=Yb;function pa(i,s,l=[],c=!0){(0,j.useEffect)(()=>{if(!c)return;const u=Zc();if(u)return u.on(i,s),()=>{u.off(i,s)}},[...l,c])}function Tf({className:i="",size:s=24,color:l="hsl(var(--foreground))"}){return y("div",{className:`inline-flex items-center justify-center ${i}`,children:y("svg",{viewBox:"0 0 24 8",xmlns:"http://www.w3.org/2000/svg",width:s,height:s,fill:"none",children:[y("style",{children:`
            @keyframes typingBubble {
              0% {
                transform: scale(1) translateY(0);
              }
              25% {
                transform: scale(1.15) translateY(-1px);
              }
              50% {
                transform: scale(1.2) translateY(0);
              }
              75% {
                transform: scale(1.15) translateY(1px);
              }
              100% {
                transform: scale(1) translateY(0);
              }
            }
          `}),y("g",{style:{animation:"typingBubble 1s ease-out infinite both",transformOrigin:"4px",animationDelay:"0s"},children:y("circle",{cx:"4",cy:"4",r:"1.5",fill:"currentColor"})}),y("g",{style:{animation:"typingBubble 1s ease-out infinite both",transformOrigin:"11px",animationDelay:"0.3s"},children:y("circle",{cx:"11",cy:"4",r:"1.5",fill:"currentColor"})}),y("g",{style:{animation:"typingBubble 1s ease-out infinite both",transformOrigin:"18px",animationDelay:"0.6s"},children:y("circle",{cx:"18",cy:"4",r:"1.5",fill:"currentColor"})})]})})}const VS=({typingUser:i,compact:s})=>{var l;const[c]=je(Ni),[u]=je(On),[d,h]=je(Ps);if(!i)return null;const m=(l=u==null?void 0:u.activeTeam)==null?void 0:l.find(p=>p.id===(i==null?void 0:i.id));return y(Qs,{children:y(nl,{avatarSrc:m==null?void 0:m.profilePicture,shouldShowAvatar:!0,isFromActiveUser:!1,children:y(tl,{showAvatarOnLeft:!0,avatarSrc:m==null?void 0:m.profilePicture,isFromActiveUser:!1,children:y("div",{className:"flex items-center gap-2 h-[20px] opacity-80",children:y(Tf,{size:32})})})})})};var qS=Object.defineProperty,GS=Object.defineProperties,KS=Object.getOwnPropertyDescriptors,Jb=Object.getOwnPropertySymbols,YS=Object.prototype.hasOwnProperty,JS=Object.prototype.propertyIsEnumerable,Zb=(i,s,l)=>s in i?qS(i,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[s]=l,Af=(i,s)=>{for(var l in s||(s={}))YS.call(s,l)&&Zb(i,l,s[l]);if(Jb)for(var l of Jb(s))JS.call(s,l)&&Zb(i,l,s[l]);return i},Of=(i,s)=>GS(i,KS(s));const Xb=({timeoutMs:i=3100}={})=>{const{user:s}=z0(),[l,c]=(0,j.useState)({}),u=(0,j.useRef)(new Map),d=(0,j.useCallback)(b=>{const w=`${b.conversationId}`,_=u.current.get(w);_&&clearTimeout(_),c(E=>{var T,S,x;return Of(Af({},E),{[b.conversationId]:{user:{id:(T=b.user)==null?void 0:T.id,type:(S=b.user)==null?void 0:S.type,picture:(x=b.user)==null?void 0:x.picture},lastTyped:Date.now()}})});const k=setTimeout(()=>{c(E=>Of(Af({},E),{[b.conversationId]:null})),u.current.delete(w)},i);u.current.set(w,k)},[i]),h=(0,j.useCallback)(b=>{const w=`${b.conversationId}`,_=u.current.get(w);_&&(clearTimeout(_),u.current.delete(w)),c(k=>Of(Af({},k),{[b.conversationId]:null}))},[]);(0,j.useEffect)(()=>()=>{u.current.forEach(b=>clearTimeout(b)),u.current.clear()},[]),pa(or.USER_TYPING_START,b=>{var w,_;((w=b.user)==null?void 0:w.id)!==(s==null?void 0:s.id)&&((_=b.user)==null?void 0:_.type)!==(s==null?void 0:s.type)&&d(b)},[s==null?void 0:s.id,s==null?void 0:s.type,d]),pa(or.USER_TYPING_STOP,b=>{var w,_;((w=b.user)==null?void 0:w.id)!==(s==null?void 0:s.id)&&((_=b.user)==null?void 0:_.type)!==(s==null?void 0:s.type)&&h(b)},[s==null?void 0:s.id,s==null?void 0:s.type,h]),pa(or.ADMIN_TYPING_START,b=>{d(b)},[d]),pa(or.ADMIN_TYPING_STOP,b=>{h(b)},[h]);const m=(0,j.useCallback)(b=>{var w;return((w=l[b])==null?void 0:w.user)||null},[l]),p=(0,j.useMemo)(()=>Object.entries(l).filter(([b,w])=>w!==null).reduce((b,[w,_])=>(b[w]=_.user,b),{}),[l]),g=(0,j.useCallback)(b=>!!(l!=null&&l[b]),[l]);return{typingState:l,getTypingState:m,activeTypingConversations:p,isTypingInConversation:g}},Zi=()=>y("div",{className:"flex flex-col items-center justify-center h-full absolute inset-0",children:y("div",{className:"!w-8 !h-8 default-loader-style ",children:y(ti,{})})}),Oa=({errorMessage:i,onRetry:s,onGoBack:l,isRetrying:c=!1,isCompact:u=!1})=>{const{t:d}=Fn();return y("div",{className:`flex flex-col items-center justify-center p-4 ${u?"mb-2":"mt-4"} text-center text-error`,children:[!u&&y("div",{className:"flex items-center justify-center mb-4 rounded-full",children:y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",className:"h-10 w-10 opacity-60 !stroke-[2] text-foreground",children:[y("path",{opacity:"0.4",d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",fill:"currentColor"}),y("path",{d:"M12 13.75C12.4142 13.75 12.75 13.4142 12.75 13V8C12.75 7.58579 12.4142 7.25 12 7.25C11.5858 7.25 11.25 7.58579 11.25 8V13C11.25 13.4142 11.5858 13.75 12 13.75Z",fill:"currentColor"}),y("path",{d:"M10.9993 16.0014C10.9898 16.553 11.4388 17.0086 11.9904 17C12.5452 16.9907 12.9992 16.5368 12.9985 15.982C12.9979 15.4352 12.5464 14.9907 11.9997 15C11.453 15.0093 11.0088 15.4499 10.9993 16.0014Z",fill:"currentColor"})]})}),y("p",{className:Yt("mx-3","text-sm"),children:i}),y("button",{className:`${u?"mt-2 px-3 text-sm":"mt-4 px-4"} primary-button`,onClick:s,disabled:c,children:d(c?"retrying":"try-again")}),l&&y("button",{className:"mt-4 text-sm",onClick:l,children:d("go-back")})]})};var ZS=Object.defineProperty,XS=Object.defineProperties,QS=Object.getOwnPropertyDescriptors,Qc=Object.getOwnPropertySymbols,Qb=Object.prototype.hasOwnProperty,ev=Object.prototype.propertyIsEnumerable,tv=(i,s,l)=>s in i?ZS(i,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[s]=l,e9=(i,s)=>{for(var l in s||(s={}))Qb.call(s,l)&&tv(i,l,s[l]);if(Qc)for(var l of Qc(s))ev.call(s,l)&&tv(i,l,s[l]);return i},t9=(i,s)=>XS(i,QS(s)),n9=(i,s)=>{var l={};for(var c in i)Qb.call(i,c)&&s.indexOf(c)<0&&(l[c]=i[c]);if(i!=null&&Qc)for(var c of Qc(i))s.indexOf(c)<0&&ev.call(i,c)&&(l[c]=i[c]);return l};const r9=i=>{var s=i,{children:l,className:c,shimmerWidth:u=100}=s,d=n9(s,["children","className","shimmerWidth"]);const[h]=je(ea);return y("span",{className:Yt(h.isDarkerTheme&&"dark"),children:y("span",t9(e9({style:{"--shiny-width":`${u}px`},className:Yt("mx-auto max-w-md text-active-foreground/70 dark:text-foreground/70","animate-shiny-text bg-clip-text bg-no-repeat [background-position:0_0] [background-size:var(--shiny-width)_100%] [transition:background-position_1s_cubic-bezier(.6,.6,0,1)_infinite]","bg-gradient-to-r from-transparent via-black via-50% to-transparent  dark:via-active-foreground",c)},d),{children:l}))})},a9=i=>[i("thinkingMessages.processing"),i("thinkingMessages.thinking"),i("thinkingMessages.compiling"),i("thinkingMessages.moment"),i("thinkingMessages.almostThere")],o9=({conversationParts:i})=>{var s,l,c,u,d;const{t:h}=Fn(),m=a9(h),[p,g]=je(Ps),[b,w]=(0,j.useState)(0);(0,j.useEffect)(()=>{w(0)},[i]),(0,j.useEffect)(()=>{const S=h("thinkingMessages.almostThere"),x=m.indexOf(S);if(b===x)return;const A=setInterval(()=>{w(R=>{const N=R+1;return N>=m.length||m[N]===S?(clearInterval(A),m.indexOf(S)):N%m.length})},3e3);return()=>clearInterval(A)},[b,h,m]);const _=i&&i.length>0?i[i.length-1]:null,k=_&&(((s=_.author)==null?void 0:s.type)==="guest"||((l=_.author)==null?void 0:l.type)==="lead"||((c=_.author)==null?void 0:c.type)==="customer"),E=(p==null?void 0:p.botConversationState)==="active"||(p==null?void 0:p.botConversationState)==="resolved";if(((u=p==null?void 0:p.customAttributes)==null?void 0:u.fibiLoading)!==!0&&!(k&&E))return null;const T=(p==null?void 0:p.workflowStatus)==="active"&&((d=p==null?void 0:p.customAttributes)==null?void 0:d.workflowLetFibiAllowed)!==!0;return y("div",{className:"mb-auto h-full animate-slide-down-big-delay",children:y(Qs,{children:y(nl,{isBot:!0,shouldShowAvatar:!T,isFromActiveUser:!1,children:y(tl,{isBot:!0,shouldShowAvatar:!T,name:xo(),isFromActiveUser:!1,children:T?y("div",{className:"flex items-center gap-2 h-[20px] opacity-80",children:y(Tf,{size:32})}):y("div",{className:"flex items-center gap-2 h-[20px] opacity-80",children:y(r9,{children:m[b]})})})})})})};function nv({onReconnect:i,enabled:s=!0,maxRetries:l=3,initialDelay:c=1e3,maxDelay:u=3e4,backoffMultiplier:d=2,onError:h}){const m=(0,he.li)(),p=(0,he.li)(Date.now());(0,he.vJ)(()=>{m.current=Q4(i,{maxRetries:l,initialDelay:c,maxDelay:u,backoffMultiplier:d,onError:h})},[i,l,c,u,d,h]),pa("reconnect",g=>{m.current&&m.current(g)},[s],s),pa("connect",()=>{Date.now()-p.current>5e3&&m.current&&(console.log("Detected reconnection via connect event"),m.current())},[s],s)}var i9=Object.defineProperty,s9=Object.defineProperties,l9=Object.getOwnPropertyDescriptors,rv=Object.getOwnPropertySymbols,c9=Object.prototype.hasOwnProperty,u9=Object.prototype.propertyIsEnumerable,av=(i,s,l)=>s in i?i9(i,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[s]=l,qn=(i,s)=>{for(var l in s||(s={}))c9.call(s,l)&&av(i,l,s[l]);if(rv)for(var l of rv(s))u9.call(s,l)&&av(i,l,s[l]);return i},ir=(i,s)=>s9(i,l9(s)),dl=(i,s,l)=>new Promise((c,u)=>{var d=p=>{try{m(l.next(p))}catch(g){u(g)}},h=p=>{try{m(l.throw(p))}catch(g){u(g)}},m=p=>p.done?c(p.value):Promise.resolve(p.value).then(d,h);m((l=l.apply(i,s)).next())});const d9=()=>{const i=s=>{if(s.preventDefault(),s.stopPropagation(),s.type==="dragover"){const l=s;l.dataTransfer&&(l.dataTransfer.dropEffect="copy")}return!1};return window.addEventListener("dragover",i,!1),window.addEventListener("drop",i,!1),window.addEventListener("dragenter",i,!1),window.addEventListener("dragleave",i,!1),document.addEventListener("dragover",i,!1),document.addEventListener("drop",i,!1),document.addEventListener("dragenter",i,!1),document.addEventListener("dragleave",i,!1),()=>{window.removeEventListener("dragover",i,!1),window.removeEventListener("drop",i,!1),window.removeEventListener("dragenter",i,!1),window.removeEventListener("dragleave",i,!1),document.removeEventListener("dragover",i,!1),document.removeEventListener("drop",i,!1),document.removeEventListener("dragenter",i,!1),document.removeEventListener("dragleave",i,!1)}},f9=()=>{var i,s,l;const[c,u]=je(Ni),[d,h]=(0,he.J0)(!1),m=(0,he.li)(c),[p,g]=je(Ps),[b]=je(On),w=(0,he.li)(null),_=(0,he.li)(!1),k=(0,he.li)(null),[E,T]=(0,he.J0)(!1),[S,x]=(0,he.J0)(null),[A,R]=(0,he.J0)(!1),[N,F]=je(gd),[P,O]=je(On),[C,D]=(0,he.J0)(!1),{t:L}=Fn(),[M,z]=(0,he.J0)({show:!1,count:0}),I=(0,he.li)(null);(0,he.vJ)(()=>(M.show&&(I.current&&clearTimeout(I.current),I.current=setTimeout(()=>{z(ge=>ir(qn({},ge),{show:!1}))},3e3)),()=>{I.current&&clearTimeout(I.current)}),[M.show]),(0,he.vJ)(()=>{N!==A&&(h(c==="new"),R(N))},[N,A,c]),(0,he.vJ)(()=>{m.current=c},[c]);const{user:q}=F0(),[Z,ae]=(0,he.J0)({error:null,isRetrying:!1}),[se,Ae]=je(Cp);(0,he.vJ)(()=>{var ge,qe,pt,lt,kt,ut,tt;if(!Z.error&&S!==m.current)if(x(m.current),m.current!=="new"&&m.current&&(N&&!A||!p||(p==null?void 0:p.id)!==m.current))ae({error:null,isRetrying:!1}),Jr.request(`/messenger/widget/conversations/${m.current}`).then(ve=>{Jr.request(`/messenger/widget/conversations/${m.current}/read`,{method:"POST"}).catch(et=>{console.error("Error setting conversation as read:",et),g(ir(qn({},ve==null?void 0:ve.conversation),{read:!1}))}),g(ir(qn({},ve==null?void 0:ve.conversation),{read:!0})),ye(et=>{var it;const rt=(et==null?void 0:et.filter(Je=>Je.sendStatus==="error"))||[];return[...((it=ve==null?void 0:ve.conversation)==null?void 0:it.conversationParts)||[],...rt]})}).catch(ve=>{console.error("Error fetching conversation data:",ve),ae({error:ve instanceof Error?ve:new Error("Failed to load conversation"),isRetrying:!1})}).finally(()=>{x(null)});else if(m.current==="new"){g(null),_.current=!1;const ve=new Date,et=P==null?void 0:P.workflowBoot,it=(et==null?void 0:et.target)==="new-conversation"&&(ge=et==null?void 0:et.preview)!=null&&ge.messageHtml?[{author:{type:"bot",id:"featurebase-bot",name:xo()},type:"conversation_part",id:"workflow-boot-intro-1",conversationId:"new",organizationId:((qe=b==null?void 0:b.organization)==null?void 0:qe.id)||"6595518396205e06b897ad65",partType:Vn.AutomatedBotMessage,body:et.preview.messageHtml,externalId:null,redacted:!1,createdAt:ve,updatedAt:ve,seenByAdmin:!0,seenByCurrentUser:!0,sendStatus:"sent",attachments:[],replyOptions:et.preview.replyOptions||[]}]:(lt=(pt=P==null?void 0:P.messenger)==null?void 0:pt.fibi)!=null&&lt.enabled?[{author:{type:"bot",id:"featurebase-bot",name:xo()},type:"conversation_part",id:"bot-intro-1",conversationId:"new",organizationId:((kt=b==null?void 0:b.organization)==null?void 0:kt.id)||"6595518396205e06b897ad65",partType:Vn.AutomatedBotMessage,body:L("bot-intro-greeting",{organizationName:(ut=b==null?void 0:b.organization)==null?void 0:ut.displayName}),externalId:null,redacted:!1,createdAt:ve,updatedAt:ve,seenByAdmin:!0,seenByCurrentUser:!0,sendStatus:"sent",attachments:[]},{author:{type:"bot",id:"featurebase-bot",name:xo()},type:"conversation_part",id:"bot-intro-2",conversationId:"new",organizationId:((tt=b==null?void 0:b.organization)==null?void 0:tt.id)||"6595518396205e06b897ad65",partType:Vn.AutomatedBotMessage,body:L("bot-intro-question"),externalId:null,redacted:!1,createdAt:new Date(ve.getTime()+1),updatedAt:new Date(ve.getTime()+1),seenByAdmin:!0,seenByCurrentUser:!0,sendStatus:"sent",attachments:[]}]:[],rt=setTimeout(()=>{ye(it)},0);x(null)}else x(null)},[c,p,S,N,A,F,u,Z.error]);const be=ge=>Jr.request(`/messenger/widget/conversations/${ge}`).then(qe=>(qe&&qe.conversation&&qe.conversation.conversationParts&&(ye(pt=>{const lt=(pt==null?void 0:pt.filter(kt=>kt.sendStatus==="error"))||[];return[...qe.conversation.conversationParts||[],...lt]}),g(ir(qn({},qe.conversation),{conversationParts:qe.conversation.conversationParts||[]}))),qe)).catch(qe=>{console.error("Error fetching conversation:",qe)});function Le(ge){return dl(this,null,function*(){ge.conversationId===m.current&&(console.log("handleMessagePartUpdated",ge),be(m.current),Jr.request(`/messenger/widget/conversations/${m.current}/read`,{method:"POST"}).then(qe=>{}).catch(qe=>{console.error("Error reading conversation:",qe)}))})}function B(ge){return dl(this,null,function*(){ge.conversationId===m.current&&be(m.current)})}pa(or.MESSAGE_SENT,Le,[m.current]),pa(or.MESSAGE_PART_UPDATED,B,[m.current]);const G=ge=>{var qe;ge.conversationId===m.current&&((qe=ge==null?void 0:ge.changes)!=null&&qe.botConversationState?g(pt=>ir(qn({},pt||{}),{botConversationState:"active",customAttributes:ir(qn({},(pt==null?void 0:pt.customAttributes)||{}),{workflowLetFibiAllowed:!0,workflowNextAvailable:!0,fibiLoading:!0})})):m.current&&be(m.current))};pa(or.CONVERSATION_UPDATED,G,[m.current]);const[te,ye]=(0,he.J0)([]),[Pe,Lt]=(0,he.J0)(null),Dt=(0,he.hb)(ge=>{var qe,pt,lt;const kt=te.find(tt=>tt.id===ge);if(!kt||kt.sendStatus!=="error")return;Lt({messageId:ge,isRetrying:!0}),ye(tt=>tt.map(ve=>ve.id===ge?ir(qn({},ve),{sendStatus:"pending"}):ve));const ut=m.current==="new"&&((qe=P==null?void 0:P.workflowBoot)==null?void 0:qe.target)==="new-conversation"&&((pt=P==null?void 0:P.workflowBoot)==null?void 0:pt.workflowId)&&!_.current;Jr.request(m.current!=="new"&&m.current?`/messenger/widget/conversations/${m.current}/reply`:"/messenger/widget/messages",{method:"POST",body:JSON.stringify(qn({body:kt.body,channel:tf.Desktop},ut&&{workflowId:(lt=P==null?void 0:P.workflowBoot)==null?void 0:lt.workflowId}))}).then(tt=>{if(tt&&tt.success===!0)return ut&&(_.current=!0),tt;if(tt&&tt.success===!1)throw new Error("API indicated retry failure: "+(tt.message||"Unknown error"));return console.warn("Unexpected retry response format:",tt),tt}).then(tt=>{const ve=tt==null?void 0:tt.conversation,et=ve==null?void 0:ve.conversationParts;ye(it=>it?!et||et.length===0?it.map(rt=>rt.id===ge?ir(qn({},rt),{sendStatus:"sent"}):rt):it.map(rt=>{if(rt.id===ge&&rt.sendStatus==="pending"&&tt.success===!0){let Je=et[et.length-1];const Wt=qs(rt.body||""),Ot=qs(Je.body);return Wt===Ot?ir(qn({},rt),{sendStatus:"sent"}):ir(qn({},rt),{sendStatus:"sent"})}return rt}):et||[])}).catch(tt=>{console.error("Error retrying message:",tt),ye(ve=>ve?ve.map(et=>et.id===ge?ir(qn({},et),{sendStatus:"error"}):et):[])}).finally(()=>{Lt(null)})},[te]);(0,he.vJ)(()=>{se&&se.chatId&&m.current===se.chatId&&(D(!0),cn(se.text||"",[],[],se.selectedOptionId,se.chatId),Ae(null))},[se,C,D,Ae]);const cn=(0,he.hb)((ge,qe=[],pt=[],lt,kt)=>{var ut,tt,ve;const et=new Date().toISOString(),it=Date.now().toString();if(Pe)return;const rt=kt!=null?kt:m.current;if(ge.includes("<file-preview-component")||ge.includes("<video src=")||ge.includes("<img src=")){const Je=rt==="new"&&((ut=P==null?void 0:P.workflowBoot)==null?void 0:ut.target)==="new-conversation"&&((tt=P==null?void 0:P.workflowBoot)==null?void 0:tt.workflowId)&&!_.current,Wt={author:{type:q.type,id:q.id,name:q.name},type:"conversation_part",id:it,conversationId:rt||"new",organizationId:"6595518396205e06b897ad65",partType:Vn.UserMessage,body:ge,externalId:null,redacted:!1,createdAt:new Date(et),updatedAt:new Date(et),seenByAdmin:!1,seenByCurrentUser:!0,sendStatus:"pending",attachments:[]};ye(Ot=>Ot?[...Ot,Wt]:[Wt]),Jr.request(rt!=="new"&&rt?`/messenger/widget/conversations/${rt}/reply`:"/messenger/widget/messages",{method:"POST",body:JSON.stringify(qn({body:ge,channel:tf.Desktop,selectedOptionId:lt},Je&&{workflowId:(ve=P==null?void 0:P.workflowBoot)==null?void 0:ve.workflowId}))}).then(Ot=>{if(Ot&&Ot.success===!0)return Je&&(_.current=!0),Ot;if(Ot&&Ot.success===!1)throw new Error("API indicated failure: "+(Ot.message||"Unknown error"));return console.warn("Unexpected response format:",Ot),Ot}).then(Ot=>{const Qt=Ot==null?void 0:Ot.conversation,pn=Qt==null?void 0:Qt.conversationParts;Qt!=null&&Qt.id&&m.current!==Qt.id&&(m.current=Qt.id),m.current==="new"&&Qt!=null&&Qt.id&&u(Qt.id),ye(xn=>xn?!pn||pn.length===0?xn.map(dt=>dt.id===it?ir(qn({},dt),{sendStatus:"sent"}):dt):xn.map(dt=>dt.id===it&&dt.sendStatus==="pending"&&Ot.success===!0?ir(qn({},dt),{sendStatus:"sent"}):dt):pn||[])}).catch(Ot=>{console.error("Error sending message:",Ot),ye(Qt=>Qt?Qt.map(pn=>pn.id===it?ir(qn({},pn),{sendStatus:"error"}):pn):[])}).finally(()=>{D(!1)});return}(Je=>dl(void 0,null,function*(){const Wt=Je.map(Ot=>new Promise(Qt=>{const pn=new FileReader;pn.onloadend=()=>{Qt(`<img src="${pn.result}" alt="${Ot.name}" data-featurebase-content-filename="${Ot.name}" />`)},pn.readAsDataURL(Ot)}));return Promise.all(Wt)}))(qe).then(Je=>{var Wt,Ot,Qt;const pn=rt==="new"&&((Wt=P==null?void 0:P.workflowBoot)==null?void 0:Wt.target)==="new-conversation"&&((Ot=P==null?void 0:P.workflowBoot)==null?void 0:Ot.workflowId)&&!_.current,xn={author:{type:q.type,id:q.id,name:q.name},type:"conversation_part",id:it,conversationId:rt||"new",organizationId:"6595518396205e06b897ad65",partType:Vn.UserMessage,body:`${ge}${Je.join("")}`,externalId:null,redacted:!1,createdAt:new Date(et),updatedAt:new Date(et),seenByAdmin:!1,seenByCurrentUser:!0,sendStatus:"pending",attachments:[]};ye(dt=>dt?[...dt,xn]:[xn]),Jr.request(rt!=="new"&&rt?`/messenger/widget/conversations/${rt}/reply`:"/messenger/widget/messages",{method:"POST",body:JSON.stringify(qn({body:`${ge}${Je.join("")}`,channel:tf.Desktop,selectedOptionId:lt},pn&&{workflowId:(Qt=P==null?void 0:P.workflowBoot)==null?void 0:Qt.workflowId}))}).then(dt=>{if(dt&&dt.success===!0)return pn&&(_.current=!0),dt;if(dt&&dt.success===!1)throw new Error("API indicated failure: "+(dt.message||"Unknown error"));return console.warn("Unexpected response format:",dt),dt}).then(dt=>{const Sr=dt==null?void 0:dt.conversation,Ee=Sr==null?void 0:Sr.conversationParts;m.current==="new"&&Sr!=null&&Sr.id&&u(Sr.id),ye(ot=>ot?!Ee||Ee.length===0?ot.map(Et=>Et.id===it?ir(qn({},Et),{sendStatus:"sent"}):Et):ot.map(Et=>{if(Et.id===it&&Et.sendStatus==="pending"&&dt.success===!0){let en=Ee[Ee.length-1];const Ut=qs(Et.body),Zn=qs(en.body);return Ut===Zn?ir(qn({},Et),{sendStatus:"sent"}):ir(qn({},Et),{sendStatus:"sent"})}return Et}):Ee||[])}).catch(dt=>{console.error("Error sending message:",dt),ye(Sr=>Sr?Sr.map(Ee=>Ee.id===it?ir(qn({},Ee),{sendStatus:"error"}):Ee):[])}).finally(()=>{D(!1)})})},[q,u,ye,Pe,D]),Nt=(0,he.hb)((ge,qe)=>{cn(ge,[],[],qe,m.current||void 0)},[cn]),{typingState:Bt}=Xb(),De=ge=>dl(void 0,null,function*(){if(Pe){z({show:!0,count:ge.length,isError:!0});return}try{k.current&&k.current(!0),T(!0),z({show:!0,count:ge.length,isError:!1});for(const qe of ge)try{const pt=yield ul(qe),lt=Xc(qe,pt);cn(lt,[],[])}catch(pt){console.error("Error processing file:",qe.name,pt),z({show:!0,count:ge.length,isError:!0})}z({show:!0,count:ge.length,isError:!1})}catch(qe){console.error("Error uploading dropped files:",qe),z({show:!0,count:ge.length,isError:!0})}finally{k.current&&k.current(!1),T(!1)}}),Ie=ge=>{ge.preventDefault(),ge.stopPropagation(),ge.dataTransfer&&(ge.dataTransfer.dropEffect="copy")},nt=ge=>{var qe;if(ge.preventDefault(),ge.stopPropagation(),!((qe=ge.dataTransfer)!=null&&qe.files.length))return;const pt=Array.from(ge.dataTransfer.files);pt.length!==0&&De(pt)};(0,he.vJ)(()=>d9(),[]);const Rt=(0,he.hb)(()=>{Z.isRetrying||!m.current||m.current==="new"||(ae(ge=>ir(qn({},ge),{isRetrying:!0})),x(m.current),Jr.request(`/messenger/widget/conversations/${m.current}`).then(ge=>{Jr.request(`/messenger/widget/conversations/${m.current}/read`,{method:"POST"}).catch(qe=>{console.error("Error setting conversation as read:",qe),g(ir(qn({},ge==null?void 0:ge.conversation),{read:!1}))}),g(ir(qn({},ge==null?void 0:ge.conversation),{read:!0})),ae({error:null,isRetrying:!1}),ye(qe=>{var pt;const lt=(qe==null?void 0:qe.filter(kt=>kt.sendStatus==="error"))||[];return[...((pt=ge==null?void 0:ge.conversation)==null?void 0:pt.conversationParts)||[],...lt]})}).catch(ge=>{console.error("Error retrying conversation load:",ge),ae({error:ge instanceof Error?ge:new Error("Failed to load conversation"),isRetrying:!1})}).finally(()=>{x(null)}))},[g,ye,ae,Z.isRetrying,x]);return(0,he.vJ)(()=>{ae({error:null,isRetrying:!1})},[c]),nv({onReconnect:()=>dl(void 0,null,function*(){Rt()}),enabled:!0,maxRetries:5,initialDelay:3e3,maxDelay:3e4,onError:ge=>{console.error("Failed to refetch conversations after reconnection:",ge)}}),S&&!d&&!Z.error?y(Zi,{}):y("div",{ref:w,className:"flex relative flex-col flex-grow w-full h-full",onDragOver:Ie,onDrop:nt,children:Z.error?y("div",{className:"flex justify-center items-center w-full h-full",children:y(Oa,{errorMessage:L("failed-to-load-conversation"),onRetry:Rt,isRetrying:Z.isRetrying,onGoBack:()=>{ae({error:null,isRetrying:!1}),F(!1),u(null)}})}):y(mn.Fragment,{children:[y("div",{style:{overflowAnchor:"none"},className:"flex overflow-auto flex-col-reverse flex-grow flex-shrink px-3 pb-6 custom-scrollbar",children:[y(VS,{typingUser:c?(i=Bt[c])==null?void 0:i.user:void 0}),(l=(s=P==null?void 0:P.messenger)==null?void 0:s.fibi)!=null&&l.enabled?y(o9,{conversationParts:te}):null,y(vC,{conversationParts:te,onRetryMessage:Dt,onReplyOptionClick:Nt},c),(te==null?void 0:te.some(ge=>ge.sendStatus==="error"))&&!Pe&&y(Oa,{errorMessage:L("check-connection"),onRetry:()=>{const ge=te.find(qe=>qe.sendStatus==="error");ge&&Dt(ge.id)},isRetrying:!1,isCompact:!0}),Pe&&y(Oa,{errorMessage:L("retrying-message"),onRetry:()=>{},isRetrying:!0,isCompact:!0}),y("div",{className:Yt((te==null?void 0:te.length)===0&&"mb-auto"),children:y(G3,{})})]}),(0,he.Kr)(()=>{var ge,qe,pt,lt,kt,ut,tt,ve;if(C)return null;const et=te&&te.length>0?te.reduce((pn,xn)=>{const dt=new Date(pn.createdAt).getTime();return new Date(xn.createdAt).getTime()>dt?xn:pn}):null,it=Array.isArray(et==null?void 0:et.replyOptions)?et==null?void 0:et.replyOptions:Array.isArray((ge=p==null?void 0:p.lastRenderablePart)==null?void 0:ge.replyOptions)&&(qe=p==null?void 0:p.lastRenderablePart)!=null&&qe.replyOptions?(pt=p==null?void 0:p.lastRenderablePart)==null?void 0:pt.replyOptions:[];if(it&&it.length>0)return y("div",{className:"flex flex-col flex-shrink-0 items-end px-4 pb-6",children:y(n0,{replyOptions:it,onReplyOptionClick:Nt})});const rt=((et==null?void 0:et.partType)||((lt=p==null?void 0:p.lastRenderablePart)==null?void 0:lt.partType))===Vn.AttributeCollectionPrompt,Je=(p==null?void 0:p.workflowId)||((kt=p==null?void 0:p.customAttributes)==null?void 0:kt.workflowId)||(c==="new"?(ut=P==null?void 0:P.workflowBoot)==null?void 0:ut.workflowId:void 0),Wt=(p==null?void 0:p.workflowStatus)==="active";if(rt&&Je&&Wt)return null;const Ot=(p==null?void 0:p.workflowStatus)==="active",Qt=((tt=p==null?void 0:p.customAttributes)==null?void 0:tt.workflowLetFibiAllowed)===!0;return(ve=P==null?void 0:P.workflowBoot)!=null&&ve.workflowId&&!p||Ot&&!Qt?null:y("div",{className:"flex flex-col flex-shrink-0",children:y(HS,{onSendMessage:cn,setUploadingFilesRef:k,uploadingFiles:E,setUploadingFiles:T},c)})},[te,cn,E,T,p,c,P,C])]})})},Mo=({in:i,direction:s="right",children:l,skipAnimation:c=!1})=>{const[u,d]=(0,he.J0)(""),[h,m]=(0,he.J0)(i);return(0,he.vJ)(()=>{if(i)m(!0),d(c?"":s==="right"?"animate-slide-in-from-right":"animate-slide-in-from-left");else if(d(c?"":s==="right"?"animate-slide-out-to-right":"animate-slide-out-to-left"),c)m(!1);else{const p=setTimeout(()=>{m(!1)},400);return()=>clearTimeout(p)}},[i,s,c]),y("div",{className:`absolute inset-0 w-full h-full transition-[visibility] ${h?"visible":"invisible"}`,style:{position:"absolute",overflow:"hidden"},children:y("div",{className:`absolute inset-0 w-full h-full ${u}`,style:{willChange:"transform",backfaceVisibility:"hidden",perspective:1e3,transformStyle:"preserve-3d"},children:l})})};var h9=Object.defineProperty,m9=(i,s,l)=>s in i?h9(i,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[s]=l,eu=(i,s,l)=>m9(i,typeof s!="symbol"?s+"":s,l),Nf=new Map,tu=new WeakMap,ov=0,iv=void 0;function ZN(i){iv=i}function p9(i){return i?(tu.has(i)||(ov+=1,tu.set(i,ov.toString())),tu.get(i)):"0"}function g9(i){return Object.keys(i).sort().filter(s=>i[s]!==void 0).map(s=>`${s}_${s==="root"?p9(i.root):i[s]}`).toString()}function b9(i){const s=g9(i);let l=Nf.get(s);if(!l){const c=new Map;let u;const d=new IntersectionObserver(h=>{h.forEach(m=>{var p;const g=m.isIntersecting&&u.some(b=>m.intersectionRatio>=b);i.trackVisibility&&typeof m.isVisible=="undefined"&&(m.isVisible=g),(p=c.get(m.target))==null||p.forEach(b=>{b(g,m)})})},i);u=d.thresholds||(Array.isArray(i.threshold)?i.threshold:[i.threshold||0]),l={id:s,observer:d,elements:c},Nf.set(s,l)}return l}function sv(i,s,l={},c=iv){if(typeof window.IntersectionObserver=="undefined"&&c!==void 0){const p=i.getBoundingClientRect();return s(c,{isIntersecting:c,target:i,intersectionRatio:typeof l.threshold=="number"?l.threshold:0,time:0,boundingClientRect:p,intersectionRect:p,rootBounds:p}),()=>{}}const{id:u,observer:d,elements:h}=b9(l),m=h.get(i)||[];return h.has(i)||h.set(i,m),m.push(s),d.observe(i),function(){m.splice(m.indexOf(s),1),m.length===0&&(h.delete(i),d.unobserve(i)),h.size===0&&(d.disconnect(),Nf.delete(u))}}function v9(i){return typeof i.children!="function"}var XN=class extends j.Component{constructor(i){super(i),eu(this,"node",null),eu(this,"_unobserveCb",null),eu(this,"handleNode",s=>{this.node&&(this.unobserve(),!s&&!this.props.triggerOnce&&!this.props.skip&&this.setState({inView:!!this.props.initialInView,entry:void 0})),this.node=s||null,this.observeNode()}),eu(this,"handleChange",(s,l)=>{s&&this.props.triggerOnce&&this.unobserve(),v9(this.props)||this.setState({inView:s,entry:l}),this.props.onChange&&this.props.onChange(s,l)}),this.state={inView:!!i.initialInView,entry:void 0}}componentDidMount(){this.unobserve(),this.observeNode()}componentDidUpdate(i){(i.rootMargin!==this.props.rootMargin||i.root!==this.props.root||i.threshold!==this.props.threshold||i.skip!==this.props.skip||i.trackVisibility!==this.props.trackVisibility||i.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())}componentWillUnmount(){this.unobserve()}observeNode(){if(!this.node||this.props.skip)return;const{threshold:i,root:s,rootMargin:l,trackVisibility:c,delay:u,fallbackInView:d}=this.props;this._unobserveCb=sv(this.node,this.handleChange,{threshold:i,root:s,rootMargin:l,trackVisibility:c,delay:u},d)}unobserve(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)}render(){const{children:i}=this.props;if(typeof i=="function"){const{inView:E,entry:T}=this.state;return i({inView:E,entry:T,ref:this.handleNode})}const k=this.props,{as:s,triggerOnce:l,threshold:c,root:u,rootMargin:d,onChange:h,skip:m,trackVisibility:p,delay:g,initialInView:b,fallbackInView:w}=k,_=gn(k,["as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"]);return j.createElement(s||"div",W({ref:this.handleNode},_),i)}};function lv({threshold:i,delay:s,trackVisibility:l,rootMargin:c,root:u,triggerOnce:d,skip:h,initialInView:m,fallbackInView:p,onChange:g}={}){var b;const[w,_]=j.useState(null),k=j.useRef(g),[E,T]=j.useState({inView:!!m,entry:void 0});k.current=g,j.useEffect(()=>{if(h||!w)return;let R;return R=sv(w,(N,F)=>{T({inView:N,entry:F}),k.current&&k.current(N,F),F.isIntersecting&&d&&R&&(R(),R=void 0)},{root:u,rootMargin:c,threshold:i,trackVisibility:l,delay:s},p),()=>{R&&R()}},[Array.isArray(i)?i.toString():i,w,u,c,d,h,l,p,s]);const S=(b=E.entry)==null?void 0:b.target,x=j.useRef(void 0);!w&&S&&!d&&!h&&x.current!==S&&(x.current=S,T({inView:!!m,entry:void 0}));const A=[_,E.inView,E.entry];return A.ref=A[0],A.inView=A[1],A.entry=A[2],A}const y9=({clickCallback:i})=>{var s,l,c,u;const[d]=je(On);return y("button",{onClick:()=>{i()},className:Yt("primary-button flex-shrink-0"),children:[y("span",{className:"max-w-[300px] truncate",children:Eo((u=(c=(l=(s=d==null?void 0:d.messenger)==null?void 0:s.config)==null?void 0:l.content)==null?void 0:c.conversationButtonText)==null?void 0:u[Co()])||"Send us a message"}),y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",className:"h-3.5 w-3.5 ml-2 opacity-80 flex-shrink-0",children:y("path",{d:"M21.5973 2.54257C21.1299 2.03918 20.397 1.85063 19.6968 1.78314C18.9611 1.71223 18.08 1.75939 17.1313 1.88382C15.2288 2.13337 12.9302 2.71102 10.7222 3.42176C8.51281 4.13295 6.35914 4.98865 4.74626 5.80847C3.94355 6.21648 3.24734 6.62932 2.74121 7.02586C2.48919 7.22331 2.25922 7.436 2.08623 7.66237C1.92123 7.87829 1.74764 8.18549 1.75002 8.55582C1.75629 9.5279 2.41829 10.2149 3.12327 10.676C3.84284 11.1467 4.77998 11.5014 5.71161 11.7792C6.65324 12.06 7.64346 12.2776 8.49473 12.454C8.55052 12.4655 8.66203 12.4886 8.79867 12.5168C9.31323 12.6231 9.57051 12.6763 9.81237 12.6039C10.0542 12.5315 10.2402 12.3456 10.612 11.9737L14.2929 8.29289C14.6834 7.90237 15.3166 7.90237 15.7071 8.29289C16.0976 8.68342 16.0976 9.31659 15.7071 9.70711L12.2745 13.1397C11.8954 13.5188 11.7059 13.7083 11.6342 13.9543C11.5624 14.2003 11.6203 14.4614 11.736 14.9837C12.1844 17.0084 12.5738 18.6815 12.9623 19.8071C13.1892 20.4645 13.4445 21.0336 13.7678 21.4533C14.1052 21.8913 14.5642 22.2222 15.1683 22.2489C15.5444 22.2655 15.8571 22.0938 16.0715 21.9344C16.2975 21.7666 16.51 21.5414 16.7071 21.2953C17.1031 20.8005 17.5192 20.1159 17.9332 19.3247C18.7652 17.7347 19.6462 15.6028 20.3917 13.4096C21.1368 11.2173 21.7577 8.9306 22.0568 7.0301C22.206 6.0823 22.2798 5.20207 22.2388 4.46477C22.1999 3.76556 22.0509 3.03106 21.5973 2.54257Z",fill:"currentColor"})})]})},nu=({query:i,text:s,Icon:l})=>y("div",{className:"flex flex-col animate-slide-down items-center justify-center h-full",children:[l&&y(l,{className:"h-10 w-10 opacity-60 !stroke-[2] mb-5"}),y("p",{className:"font-medium",children:s})]}),cv=()=>y("div",{className:"flex justify-center py-4",children:y("div",{className:"default-loader-style",children:y(ti,{})})});var uv=de(9888),dv=Object.prototype.hasOwnProperty;function Rf(i,s){var l,c;if(i===s)return!0;if(i&&s&&(l=i.constructor)===s.constructor){if(l===Date)return i.getTime()===s.getTime();if(l===RegExp)return i.toString()===s.toString();if(l===Array){if((c=i.length)===s.length)for(;c--&&Rf(i[c],s[c]););return c===-1}if(!l||typeof i=="object"){c=0;for(l in i)if(dv.call(i,l)&&++c&&!dv.call(s,l)||!(l in s)||!Rf(i[l],s[l]))return!1;return Object.keys(s).length===c}}return i!==i&&s!==s}const Wa=new WeakMap,Lo=()=>{},kr=Lo(),ru=Object,Gt=i=>i===kr,ga=i=>typeof i=="function",ro=(i,s)=>W(W({},i),s),fv=i=>ga(i.then),Pf={},au={},If="undefined",ou=typeof window!=If,Mf=typeof document!=If,w9=()=>ou&&typeof window.requestAnimationFrame!=If,Do=(i,s)=>{const l=Wa.get(i);return[()=>!Gt(s)&&i.get(s)||Pf,c=>{if(!Gt(s)){const u=i.get(s);s in au||(au[s]=u),l[5](s,ro(u,c),u||Pf)}},l[6],()=>!Gt(s)&&s in au?au[s]:!Gt(s)&&i.get(s)||Pf]};let Lf=!0;const _9=()=>Lf,[Df,jf]=ou&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Lo,Lo],k9=()=>{const i=Mf&&document.visibilityState;return Gt(i)||i!=="hidden"},x9=i=>(Mf&&document.addEventListener("visibilitychange",i),Df("focus",i),()=>{Mf&&document.removeEventListener("visibilitychange",i),jf("focus",i)}),E9=i=>{const s=()=>{Lf=!0,i()},l=()=>{Lf=!1};return Df("online",s),Df("offline",l),()=>{jf("online",s),jf("offline",l)}},C9={isOnline:_9,isVisible:k9},S9={initFocus:x9,initReconnect:E9},hv=!j.default.useId,fl=!ou||"Deno"in globalThis,T9=i=>w9()?window.requestAnimationFrame(i):setTimeout(i,1),hl=fl?j.useEffect:j.useLayoutEffect,zf=typeof navigator!="undefined"&&navigator.connection,mv=!fl&&zf&&(["slow-2g","2g"].includes(zf.effectiveType)||zf.saveData),iu=new WeakMap,Ff=(i,s)=>ru.prototype.toString.call(i)===`[object ${s}]`;let A9=0;const Bf=i=>{const s=typeof i,l=Ff(i,"Date"),c=Ff(i,"RegExp"),u=Ff(i,"Object");let d,h;if(ru(i)===i&&!l&&!c){if(d=iu.get(i),d)return d;if(d=++A9+"~",iu.set(i,d),Array.isArray(i)){for(d="@",h=0;h<i.length;h++)d+=Bf(i[h])+",";iu.set(i,d)}if(u){d="#";const m=ru.keys(i).sort();for(;!Gt(h=m.pop());)Gt(i[h])||(d+=h+":"+Bf(i[h])+",");iu.set(i,d)}}else d=l?i.toJSON():s=="symbol"?i.toString():s=="string"?JSON.stringify(i):""+i;return d},ml=i=>{if(ga(i))try{i=i()}catch(l){i=""}const s=i;return i=typeof i=="string"?i:(Array.isArray(i)?i.length:i)?Bf(i):"",[i,s]};let O9=0;const Wf=()=>++O9,pv=0,gv=1,bv=2;var pl={__proto__:null,ERROR_REVALIDATE_EVENT:3,FOCUS_EVENT:pv,MUTATE_EVENT:bv,RECONNECT_EVENT:gv};function vv(...i){return Sn(this,null,function*(){const[s,l,c,u]=i,d=ro({populateCache:!0,throwOnError:!0},typeof u=="boolean"?{revalidate:u}:u||{});let h=d.populateCache;const m=d.rollbackOnError;let p=d.optimisticData;const g=_=>typeof m=="function"?m(_):m!==!1,b=d.throwOnError;if(ga(l)){const _=l,k=[],E=s.keys();for(const T of E)!/^\$(inf|sub)\$/.test(T)&&_(s.get(T)._k)&&k.push(T);return Promise.all(k.map(w))}return w(l);function w(_){return Sn(this,null,function*(){const[k]=ml(_);if(!k)return;const[E,T]=Do(s,k),[S,x,A,R]=Wa.get(s),N=()=>{const I=S[k];return(ga(d.revalidate)?d.revalidate(E().data,_):d.revalidate!==!1)&&(delete A[k],delete R[k],I&&I[0])?I[0](bv).then(()=>E().data):E().data};if(i.length<3)return N();let F=c,P;const O=Wf();x[k]=[O,0];const C=!Gt(p),D=E(),L=D.data,M=D._c,z=Gt(M)?L:M;if(C&&(p=ga(p)?p(z,L):p,T({data:p,_c:z})),ga(F))try{F=F(z)}catch(I){P=I}if(F&&fv(F))if(F=yield F.catch(I=>{P=I}),O!==x[k][0]){if(P)throw P;return F}else P&&C&&g(P)&&(h=!0,T({data:z,_c:kr}));if(h&&!P)if(ga(h)){const I=h(F,z);T({data:I,error:kr,_c:kr})}else T({data:F,error:kr,_c:kr});if(x[k][1]=Wf(),Promise.resolve(N()).then(()=>{T({_c:kr})}),P){if(b)throw P;return}return F})}})}const yv=(i,s)=>{for(const l in i)i[l][0]&&i[l][0](s)},wv=(i,s)=>{if(!Wa.has(i)){const l=ro(S9,s),c={},u=vv.bind(kr,i);let d=Lo;const h={},m=(b,w)=>{const _=h[b]||[];return h[b]=_,_.push(w),()=>_.splice(_.indexOf(w),1)},p=(b,w,_)=>{i.set(b,w);const k=h[b];if(k)for(const E of k)E(w,_)},g=()=>{if(!Wa.has(i)&&(Wa.set(i,[c,{},{},{},u,p,m]),!fl)){const b=l.initFocus(setTimeout.bind(kr,yv.bind(kr,c,pv))),w=l.initReconnect(setTimeout.bind(kr,yv.bind(kr,c,gv)));d=()=>{b&&b(),w&&w(),Wa.delete(i)}}};return g(),[i,u,g,d]}return[i,Wa.get(i)[4]]},N9=(i,s,l,c,u)=>{const d=l.errorRetryCount,h=u.retryCount,m=~~((Math.random()+.5)*(1<<(h<8?h:8)))*l.errorRetryInterval;!Gt(d)&&h>d||setTimeout(c,m,u)},R9=Rf,[su,P9]=wv(new Map),_v=ro({onLoadingSlow:Lo,onSuccess:Lo,onError:Lo,onErrorRetry:N9,onDiscarded:Lo,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:mv?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:mv?5e3:3e3,compare:R9,isPaused:()=>!1,cache:su,mutate:P9,fallback:{}},C9),kv=(i,s)=>{const l=ro(i,s);if(s){const{use:c,fallback:u}=i,{use:d,fallback:h}=s;c&&d&&(l.use=c.concat(d)),u&&h&&(l.fallback=ro(u,h))}return l},Uf=(0,j.createContext)({}),I9=i=>{const{value:s}=i,l=(0,j.useContext)(Uf),c=ga(s),u=(0,j.useMemo)(()=>c?s(l):s,[c,l,s]),d=(0,j.useMemo)(()=>c?u:kv(l,u),[c,l,u]),h=u&&u.provider,m=(0,j.useRef)(kr);h&&!m.current&&(m.current=wv(h(d.cache||su),u));const p=m.current;return p&&(d.cache=p[0],d.mutate=p[1]),hl(()=>{if(p)return p[2]&&p[2](),p[3]},[]),(0,j.createElement)(Uf.Provider,ro(i,{value:d}))},xv="$inf$",Ev=ou&&window.__SWR_DEVTOOLS_USE__,M9=Ev?window.__SWR_DEVTOOLS_USE__:[],L9=()=>{Ev&&(window.__SWR_DEVTOOLS_REACT__=j.default)},Cv=i=>ga(i[1])?[i[0],i[1],i[2]||{}]:[i[0],null,(i[1]===null?i[2]:i[1])||{}],$f=()=>ro(_v,(0,j.useContext)(Uf)),rR=(i,s)=>{const[l,c]=serialize(i),[,,,u]=SWRGlobalState.get(cache);if(u[l])return u[l];const d=s(c);return u[l]=d,d},D9=i=>(s,l,c)=>i(s,l&&((...d)=>{const[h]=ml(s),[,,,m]=Wa.get(su);if(h.startsWith(xv))return l(...d);const p=m[h];return Gt(p)?l(...d):(delete m[h],p)}),c),j9=M9.concat(D9),z9=i=>function(...l){const c=$f(),[u,d,h]=Cv(l),m=kv(c,h);let p=i;const{use:g}=m,b=(g||[]).concat(j9);for(let w=b.length;w--;)p=b[w](p);return p(u,d||m.fetcher||null,m)},F9=(i,s,l)=>{const c=s[i]||(s[i]=[]);return c.push(l),()=>{const u=c.indexOf(l);u>=0&&(c[u]=c[c.length-1],c.pop())}},B9=(i,s)=>(...l)=>{const[c,u,d]=Cv(l),h=(d.use||[]).concat(s);return i(c,u,Te(W({},d),{use:h}))};L9();const W9=void 0,Hf=null,Sv=i=>i===W9,U9=i=>typeof i=="function",lu=new WeakMap,Vf=(i,s)=>Hf.prototype.toString.call(i)===`[object ${s}]`;let $9=0;const qf=i=>{const s=typeof i,l=Vf(i,"Date"),c=Vf(i,"RegExp"),u=Vf(i,"Object");let d,h;if(Hf(i)===i&&!l&&!c){if(d=lu.get(i),d)return d;if(d=++$9+"~",lu.set(i,d),Array.isArray(i)){for(d="@",h=0;h<i.length;h++)d+=qf(i[h])+",";lu.set(i,d)}if(u){d="#";const m=Hf.keys(i).sort();for(;!Sv(h=m.pop());)Sv(i[h])||(d+=h+":"+qf(i[h])+",");lu.set(i,d)}}else d=l?i.toJSON():s=="symbol"?i.toString():s=="string"?JSON.stringify(i):""+i;return d},H9=i=>{if(U9(i))try{i=i()}catch(l){i=""}const s=i;return i=typeof i=="string"?i:(Array.isArray(i)?i.length:i)?qf(i):"",[i,s]},oR=i=>H9(i)[0],Gf=j.default.use||(i=>{switch(i.status){case"pending":throw i;case"fulfilled":return i.value;case"rejected":throw i.reason;default:throw i.status="pending",i.then(s=>{i.status="fulfilled",i.value=s},s=>{i.status="rejected",i.reason=s}),i}}),Kf={dedupe:!0},V9=(i,s,l)=>{const{cache:c,compare:u,suspense:d,fallbackData:h,revalidateOnMount:m,revalidateIfStale:p,refreshInterval:g,refreshWhenHidden:b,refreshWhenOffline:w,keepPreviousData:_}=l,[k,E,T,S]=Wa.get(c),[x,A]=ml(i),R=(0,j.useRef)(!1),N=(0,j.useRef)(!1),F=(0,j.useRef)(x),P=(0,j.useRef)(s),O=(0,j.useRef)(l),C=()=>O.current,D=()=>C().isVisible()&&C().isOnline(),[L,M,z,I]=Do(c,x),q=(0,j.useRef)({}).current,Z=Gt(h)?Gt(l.fallback)?kr:l.fallback[x]:h,ae=(Ie,nt)=>{for(const Rt in q){const ge=Rt;if(ge==="data"){if(!u(Ie[ge],nt[ge])&&(!Gt(Ie[ge])||!u(Pe,nt[ge])))return!1}else if(nt[ge]!==Ie[ge])return!1}return!0},se=(0,j.useMemo)(()=>{const Ie=!x||!s?!1:Gt(m)?C().isPaused()||d?!1:p!==!1:m,nt=kt=>{const ut=ro(kt);return delete ut._k,Ie?W({isValidating:!0,isLoading:!0},ut):ut},Rt=L(),ge=I(),qe=nt(Rt),pt=Rt===ge?qe:nt(ge);let lt=qe;return[()=>{const kt=nt(L());return ae(kt,lt)?(lt.data=kt.data,lt.isLoading=kt.isLoading,lt.isValidating=kt.isValidating,lt.error=kt.error,lt):(lt=kt,kt)},()=>pt]},[c,x]),Ae=(0,uv.useSyncExternalStore)((0,j.useCallback)(Ie=>z(x,(nt,Rt)=>{ae(Rt,nt)||Ie()}),[c,x]),se[0],se[1]),be=!R.current,Le=k[x]&&k[x].length>0,B=Ae.data,G=Gt(B)?Z&&fv(Z)?Gf(Z):Z:B,te=Ae.error,ye=(0,j.useRef)(G),Pe=_?Gt(B)?ye.current:B:G,Lt=Le&&!Gt(te)?!1:be&&!Gt(m)?m:C().isPaused()?!1:d?Gt(G)?!1:p:Gt(G)||p,Dt=!!(x&&s&&be&&Lt),cn=Gt(Ae.isValidating)?Dt:Ae.isValidating,Nt=Gt(Ae.isLoading)?Dt:Ae.isLoading,Bt=(0,j.useCallback)(Ie=>Sn(wa,null,function*(){const nt=P.current;if(!x||!nt||N.current||C().isPaused())return!1;let Rt,ge,qe=!0;const pt=Ie||{},lt=!T[x]||!pt.dedupe,kt=()=>hv?!N.current&&x===F.current&&R.current:x===F.current,ut={isValidating:!1,isLoading:!1},tt=()=>{M(ut)},ve=()=>{const it=T[x];it&&it[1]===ge&&delete T[x]},et={isValidating:!0};Gt(L().data)&&(et.isLoading=!0);try{if(lt&&(M(et),l.loadingTimeout&&Gt(L().data)&&setTimeout(()=>{qe&&kt()&&C().onLoadingSlow(x,l)},l.loadingTimeout),T[x]=[nt(A),Wf()]),[Rt,ge]=T[x],Rt=yield Rt,lt&&setTimeout(ve,l.dedupingInterval),!T[x]||T[x][1]!==ge)return lt&&kt()&&C().onDiscarded(x),!1;ut.error=kr;const it=E[x];if(!Gt(it)&&(ge<=it[0]||ge<=it[1]||it[1]===0))return tt(),lt&&kt()&&C().onDiscarded(x),!1;const rt=L().data;ut.data=u(rt,Rt)?rt:Rt,lt&&kt()&&C().onSuccess(Rt,x,l)}catch(it){ve();const rt=C(),{shouldRetryOnError:Je}=rt;rt.isPaused()||(ut.error=it,lt&&kt()&&(rt.onError(it,x,rt),(Je===!0||ga(Je)&&Je(it))&&(!C().revalidateOnFocus||!C().revalidateOnReconnect||D())&&rt.onErrorRetry(it,x,rt,Wt=>{const Ot=k[x];Ot&&Ot[0]&&Ot[0](pl.ERROR_REVALIDATE_EVENT,Wt)},{retryCount:(pt.retryCount||0)+1,dedupe:!0})))}return qe=!1,tt(),!0}),[x,c]),De=(0,j.useCallback)((...Ie)=>vv(c,F.current,...Ie),[]);if(hl(()=>{P.current=s,O.current=l,Gt(B)||(ye.current=B)}),hl(()=>{if(!x)return;const Ie=Bt.bind(kr,Kf);let nt=0;const ge=F9(x,k,(qe,pt={})=>{if(qe==pl.FOCUS_EVENT){const lt=Date.now();C().revalidateOnFocus&&lt>nt&&D()&&(nt=lt+C().focusThrottleInterval,Ie())}else if(qe==pl.RECONNECT_EVENT)C().revalidateOnReconnect&&D()&&Ie();else{if(qe==pl.MUTATE_EVENT)return Bt();if(qe==pl.ERROR_REVALIDATE_EVENT)return Bt(pt)}});return N.current=!1,F.current=x,R.current=!0,M({_k:A}),Lt&&(Gt(G)||fl?Ie():T9(Ie)),()=>{N.current=!0,ge()}},[x]),hl(()=>{let Ie;function nt(){const ge=ga(g)?g(L().data):g;ge&&Ie!==-1&&(Ie=setTimeout(Rt,ge))}function Rt(){!L().error&&(b||C().isVisible())&&(w||C().isOnline())?Bt(Kf).then(nt):nt()}return nt(),()=>{Ie&&(clearTimeout(Ie),Ie=-1)}},[g,b,w,x]),(0,j.useDebugValue)(Pe),d&&Gt(G)&&x){if(!hv&&fl)throw new Error("Fallback data is required when using Suspense in SSR.");P.current=s,O.current=l,N.current=!1;const Ie=S[x];if(!Gt(Ie)){const nt=De(Ie);Gf(nt)}if(Gt(te)){const nt=Bt(Kf);Gt(Pe)||(nt.status="fulfilled",nt.value=!0),Gf(nt)}else throw te}return{mutate:De,get data(){return q.data=!0,Pe},get error(){return q.error=!0,te},get isValidating(){return q.isValidating=!0,cn},get isLoading(){return q.isLoading=!0,Nt}}},q9=ru.defineProperty(I9,"defaultValue",{value:_v}),Xi=z9(V9),G9=void 0,Yf=Object,Tv=i=>i===G9,K9=i=>typeof i=="function",cu=new WeakMap,Jf=(i,s)=>Yf.prototype.toString.call(i)===`[object ${s}]`;let Y9=0;const Zf=i=>{const s=typeof i,l=Jf(i,"Date"),c=Jf(i,"RegExp"),u=Jf(i,"Object");let d,h;if(Yf(i)===i&&!l&&!c){if(d=cu.get(i),d)return d;if(d=++Y9+"~",cu.set(i,d),Array.isArray(i)){for(d="@",h=0;h<i.length;h++)d+=Zf(i[h])+",";cu.set(i,d)}if(u){d="#";const m=Yf.keys(i).sort();for(;!Tv(h=m.pop());)Tv(i[h])||(d+=h+":"+Zf(i[h])+",");cu.set(i,d)}}else d=l?i.toJSON():s=="symbol"?i.toString():s=="string"?JSON.stringify(i):""+i;return d},J9=i=>{if(K9(i))try{i=i()}catch(l){i=""}const s=i;return i=typeof i=="string"?i:(Array.isArray(i)?i.length:i)?Zf(i):"",[i,s]},Z9="$inf$",Av=i=>J9(i?i(0,null):null)[0],sR=i=>Z9+Av(i),Xf=Promise.resolve(),X9=B9(Xi,i=>(s,l,c)=>{const u=(0,j.useRef)(!1),{cache:d,initialSize:h=1,revalidateAll:m=!1,persistSize:p=!1,revalidateFirstPage:g=!0,revalidateOnMount:b=!1,parallel:w=!1}=c,[,,,_]=Wa.get(su);let k;try{k=Av(s),k&&(k=xv+k)}catch(C){}const[E,T,S]=Do(d,k),x=(0,j.useCallback)(()=>Gt(E()._l)?h:E()._l,[d,k,h]);(0,uv.useSyncExternalStore)((0,j.useCallback)(C=>k?S(k,()=>{C()}):()=>{},[d,k]),x,x);const A=(0,j.useCallback)(()=>{const C=E()._l;return Gt(C)?h:C},[k,h]),R=(0,j.useRef)(A());hl(()=>{if(!u.current){u.current=!0;return}k&&T({_l:p?R.current:A()})},[k,d]);const N=b&&!u.current,F=i(k,C=>Sn(wa,null,function*(){const D=E()._i,L=E()._r;T({_r:kr});const M=[],z=A(),[I]=Do(d,C),q=I().data,Z=[];let ae=null;for(let se=0;se<z;++se){const[Ae,be]=ml(s(se,w?null:ae));if(!Ae)break;const[Le,B]=Do(d,Ae);let G=Le().data;const te=m||D||Gt(G)||g&&!se&&!Gt(q)||N||q&&!Gt(q[se])&&!c.compare(q[se],G);if(l&&(typeof L=="function"?L(G,be):te)){const ye=()=>Sn(wa,null,function*(){if(!(Ae in _))G=yield l(be);else{const Lt=_[Ae];delete _[Ae],G=yield Lt}B({data:G,_k:be}),M[se]=G});w?Z.push(ye):yield ye()}else M[se]=G;w||(ae=G)}return w&&(yield Promise.all(Z.map(se=>se()))),T({_i:kr}),M}),c),P=(0,j.useCallback)(function(C,D){const L=typeof D=="boolean"?{revalidate:D}:D||{},M=L.revalidate!==!1;return k?(M&&(Gt(C)?T({_i:!0,_r:L.revalidate}):T({_i:!1,_r:L.revalidate})),arguments.length?F.mutate(C,Te(W({},L),{revalidate:M})):F.mutate()):Xf},[k,d]),O=(0,j.useCallback)(C=>{if(!k)return Xf;const[,D]=Do(d,k);let L;if(ga(C)?L=C(A()):typeof C=="number"&&(L=C),typeof L!="number")return Xf;D({_l:L}),R.current=L;const M=[],[z]=Do(d,k);let I=null;for(let q=0;q<L;++q){const[Z]=ml(s(q,I)),[ae]=Do(d,Z),se=Z?ae().data:kr;if(Gt(se))return P(z().data);M.push(se),I=se}return P(M)},[k,d,P,A]);return{size:A(),setSize:O,mutate:P,get data(){return F.data},get error(){return F.error},get isValidating(){return F.isValidating},get isLoading(){return F.isLoading}}});function Q9(i,s="page",l=!0,c={}){var u,d,h,m,p,g;const[b,w]=(0,he.J0)(null),[_,k]=(0,he.J0)(!1),E=(C,D)=>{var L;if(!l||D&&!((L=D.results)!=null&&L.length))return null;const M=i.includes("?")?"&":"?";return`${i}${M}${s}=${C+1}`},{data:T,size:S,setSize:x,isLoading:A,isValidating:R,error:N,mutate:F}=X9(l&&!_?E:()=>null,{revalidateFirstPage:(u=c.revalidateFirstPage)!=null?u:!0,persistSize:(d=c.persistSize)!=null?d:!0,revalidateAll:(h=c.revalidateAll)!=null?h:!1,shouldRetryOnError:(m=c.shouldRetryOnError)!=null?m:!1,errorRetryCount:(p=c.errorRetryCount)!=null?p:0,onSuccess:()=>{var C;w(null),k(!1),(C=c.onSuccess)==null||C.call(c)},onError:C=>{var D;console.error(`Error fetching data from ${i}:`,C),w("Unable to load data. Please check your connection and try again."),k(!1),(D=c.onError)==null||D.call(c,C)}}),P=T?T.flatMap(C=>C.results||[]):void 0,O=T?((g=T[T.length-1])==null?void 0:g.total)>((P==null?void 0:P.length)||0):!1;return{data:P,isLoading:A,isValidating:R,error:N,hasMorePages:O,networkError:b,isRetrying:_,mutate:F,handleRetry:()=>{k(!0),w(null),setTimeout(()=>{F(),k(!1)},1e3)},setSize:x,size:S}}var e8=Object.defineProperty,t8=Object.defineProperties,n8=Object.getOwnPropertyDescriptors,Ov=Object.getOwnPropertySymbols,r8=Object.prototype.hasOwnProperty,a8=Object.prototype.propertyIsEnumerable,Nv=(i,s,l)=>s in i?e8(i,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[s]=l,o8=(i,s)=>{for(var l in s||(s={}))r8.call(s,l)&&Nv(i,l,s[l]);if(Ov)for(var l of Ov(s))a8.call(s,l)&&Nv(i,l,s[l]);return i},i8=(i,s)=>t8(i,n8(s)),s8=(i,s,l)=>new Promise((c,u)=>{var d=p=>{try{m(l.next(p))}catch(g){u(g)}},h=p=>{try{m(l.throw(p))}catch(g){u(g)}},m=p=>p.done?c(p.value):Promise.resolve(p.value).then(d,h);m((l=l.apply(i,s)).next())});const l8=({activePage:i,setActivePage:s})=>{var l,c,u,d,h,m,p,g,b,w,_,k,E,T,S,x,A;const{ref:R,inView:N}=lv({threshold:.1}),[F,P]=je(Ni),[O,C]=je(gd),[D,L]=je(Ps),{typingState:M,isTypingInConversation:z}=Xb(),[I,q]=je(On),{t:Z}=Fn(),{data:ae,isLoading:se,isValidating:Ae,hasMorePages:be,networkError:Le,isRetrying:B,handleRetry:G,mutate:te,setSize:ye,size:Pe}=Q9("/messenger/widget/conversations/list","page",i==="messages");(0,he.vJ)(()=>{if(N&&!se&&!Ae&&be&&!B&&i==="messages"){const Ie=setTimeout(()=>{ye(Pe+1)},500);return()=>clearTimeout(Ie)}},[N,se,Ae,be,B,i,Pe]),(0,he.vJ)(()=>{if(ae&&ae.length>0){const Ie=ae.slice(0,10).filter(nt=>!nt.seenByUser).length||0;yn("UNREAD_COUNT_CHANGE",{unreadCount:Ie},"parent")}},[ae]);const[Lt,Dt]=(0,he.J0)(!0),cn=Ie=>{P(Ie),C(!0),Dt(!1)},Nt=()=>{P(null)};pa(or.MESSAGE_SENT,Ie=>{te()}),pa(or.MESSAGE_PART_UPDATED,Ie=>{te()}),nv({onReconnect:()=>s8(void 0,null,function*(){te()}),enabled:i==="messages",maxRetries:5,initialDelay:3e3,maxDelay:3e4,onError:Ie=>{console.error("Failed to refetch conversations after reconnection:",Ie)}});const Bt=(c=(l=D==null?void 0:D.conversationParts)==null?void 0:l.find(Ie=>{var nt;return((nt=Ie.author)==null?void 0:nt.type)==="admin"}))==null?void 0:c.author,De=((m=(h=(d=(u=I==null?void 0:I.messenger)==null?void 0:u.config)==null?void 0:d.style)==null?void 0:h.logo)==null?void 0:m.imageUrl)||((p=I==null?void 0:I.organization)==null?void 0:p.picture);return y(Sc,{showBackground:!1,title:Z("messages"),hasFooter:!1,headerInfo:{allowGoingBack:O,goBackFunction:()=>{te(),Nt(),C(!1)},mutedBorder:!!F,muted:!!F,customHeaderContent:F&&y("div",{className:"flex flex-col w-full pl-[50px]",children:y("div",{className:"flex items-center gap-2.5",children:[y("div",{className:"w-8 h-8",children:y(el,{notAbsolute:!0,src:(b=(g=I==null?void 0:I.messenger)==null?void 0:g.fibi)!=null&&b.enabled?(Bt==null?void 0:Bt.picture)||"":De,isBot:(_=(w=I==null?void 0:I.messenger)==null?void 0:w.fibi)!=null&&_.enabled?!(Bt!=null&&Bt.picture):!1})}),y("div",{className:"flex flex-col",children:[y(ia,{placeholderStyle:{width:150},className:"text-sm font-medium text-active-foreground",children:F==="new"?xo():!D||D.id!==F?void 0:Bt?Bt.name:xo()}),y(ia,{placeholderStyle:{width:80},className:"text-xs text-foreground",children:F==="new"?(E=(k=I==null?void 0:I.messenger)==null?void 0:k.fibi)!=null&&E.enabled?Z("team-can-also-help"):"":!D||D.id!==F?void 0:Bt?(!Bt.type||Bt.type==="bot")&&(A=(x=I==null?void 0:I.messenger)==null?void 0:x.fibi)!=null&&A.enabled?Z("team-can-also-help"):"":(S=(T=I==null?void 0:I.messenger)==null?void 0:T.fibi)!=null&&S.enabled?Z("team-can-also-help"):""})]})]})})},hideFadeout:!0,children:y("div",{className:"overflow-hidden relative w-full h-full",children:[y(Mo,{in:!O,direction:"left",skipAnimation:Lt,children:y("div",{className:"flex absolute inset-0 z-10 flex-col bg-background",children:[y("div",{className:"flex relative flex-col flex-1 h-full",children:[y("div",{className:Yt("animate-slide-down relative flex flex-col flex-grow overflow-y-auto custom-scrollbar flex-1",!ae||ae.length===0&&!se&&"overflow-hidden"),children:se&&Pe===1?y(Zi,{}):Le&&(!ae||ae.length===0)?y("div",{className:"flex absolute inset-0 z-30 flex-col justify-center items-center bg-background/95",children:y(Oa,{errorMessage:Le,onRetry:G,isRetrying:B})}):y(mn.Fragment,{children:ae&&ae.length>0?y(mn.Fragment,{children:[ae.map((Ie,nt)=>{var Rt,ge,qe,pt,lt,kt,ut,tt,ve,et,it,rt,Je;return y("div",{children:[y("button",{onClick:()=>{cn(Ie.id)},className:`flex items-center w-full min-w-0 
                                     main-transition hover:bg-border/30 gap-3 
                                     px-[17px] py-4 cursor-pointer`,children:[y("div",{className:"w-10 h-10",children:y(el,{size:"w-10 h-10",notAbsolute:!0,src:(ge=(Rt=I==null?void 0:I.messenger)==null?void 0:Rt.fibi)!=null&&ge.enabled?((qe=Ie==null?void 0:Ie.lastParticipatingAdmin)==null?void 0:qe.picture)||"":((pt=Ie==null?void 0:Ie.lastParticipatingAdmin)==null?void 0:pt.picture)||De,isBot:(kt=(lt=I==null?void 0:I.messenger)==null?void 0:lt.fibi)!=null&&kt.enabled?!((ut=Ie==null?void 0:Ie.lastParticipatingAdmin)!=null&&ut.picture):!1})}),y("div",{className:"flex-1 min-w-0 text-left",children:[y("p",{className:Yt("flex items-center min-w-0 text-sm truncate text-background-foreground",!(Ie!=null&&Ie.seenByUser)&&"font-medium"),children:[Ie!=null&&Ie.seenByUser?null:y("span",{className:"inline-block flex-shrink-0 w-1.5 h-1.5 mr-1.5 rounded-full bg-accent"}),z(Ie.id)?y("span",{className:"min-w-0 truncate opacity-80",children:y(Tf,{className:"h-[20px]"})}):y("span",{className:"min-w-0 truncate",children:qs((tt=Ie.lastRenderablePart)==null?void 0:tt.body)||Z("uploaded-custom-content")})]}),y("div",{className:"flex items-center mt-px gap-1.5 text-foreground",children:y("span",{className:"inline-flex items-center text-[13px]",children:[((et=(ve=Ie==null?void 0:Ie.source)==null?void 0:ve.author)==null?void 0:et.id)===((it=I==null?void 0:I.user)==null?void 0:it.id)?Z("you"):(Je=(rt=Ie==null?void 0:Ie.source)==null?void 0:rt.author)==null?void 0:Je.name," ",y("span",{className:"px-1.5",children:"\xB7"}),y("span",{className:"first-letter:uppercase",children:[" ",K4(Ie.lastActivityAt)]})]})})]})]}),y("div",{className:"h-[1px] bg-border/60 -mt-px w-full"})]},Ie.id||nt)}),Le&&y(Oa,{errorMessage:Le,onRetry:G,isRetrying:B,isCompact:!0}),be&&!Le&&!B&&y("div",{ref:R,children:y(cv,{})})]}):y(nu,{Icon:Ie=>y("svg",i8(o8({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none"},Ie),{children:[y("path",{opacity:"0.4",d:"M14.1706 20.8905C18.3536 20.6125 21.6856 17.2332 21.9598 12.9909C22.0134 12.1607 22.0134 11.3009 21.9598 10.4707C21.6856 6.22838 18.3536 2.84913 14.1706 2.57107C12.7435 2.47621 11.2536 2.47641 9.8294 2.57107C5.64639 2.84913 2.31441 6.22838 2.04024 10.4707C1.98659 11.3009 1.98659 12.1607 2.04024 12.9909C2.1401 14.536 2.82343 15.9666 3.62791 17.1746C4.09501 18.0203 3.78674 19.0758 3.30021 19.9978C2.94941 20.6626 2.77401 20.995 2.91484 21.2351C3.05568 21.4752 3.37026 21.4829 3.99943 21.4982C5.24367 21.5285 6.08268 21.1757 6.74868 20.6846C7.1264 20.4061 7.31527 20.2668 7.44544 20.2508C7.5756 20.2348 7.83177 20.3403 8.34401 20.5513C8.8044 20.7409 9.33896 20.8579 9.8294 20.8905C11.2536 20.9852 12.7435 20.9854 14.1706 20.8905Z",fill:"currentColor"}),y("circle",{cx:"12",cy:"12",r:"1",fill:"currentColor",opacity:"0.9"}),y("circle",{cx:"16",cy:"12",r:"1",fill:"currentColor",opacity:"0.9"}),y("circle",{cx:"8",cy:"12",r:"1",fill:"currentColor",opacity:"0.9"})]})),text:Z("no-messages-yet")})})}),y(Hg,{})]}),ji("allowStartingConversations")&&!Le&&y("div",{className:"flex fixed bottom-32 left-1/2 justify-center -translate-x-1/2",children:y(y9,{clickCallback:()=>{cn("new")}})})]})}),y(Mo,{in:O,direction:"right",skipAnimation:Lt,children:y("div",{className:"flex absolute inset-0 z-20 flex-col bg-background",children:y(f9,{})})})]})})};var c8=Object.defineProperty,u8=Object.defineProperties,d8=Object.getOwnPropertyDescriptors,Rv=Object.getOwnPropertySymbols,f8=Object.prototype.hasOwnProperty,h8=Object.prototype.propertyIsEnumerable,Pv=(i,s,l)=>s in i?c8(i,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[s]=l,m8=(i,s)=>{for(var l in s||(s={}))f8.call(s,l)&&Pv(i,l,s[l]);if(Rv)for(var l of Rv(s))h8.call(s,l)&&Pv(i,l,s[l]);return i},p8=(i,s)=>u8(i,d8(s));const g8=({activePage:i,setActivePage:s})=>{const{t:l}=Fn(),[c,u]=(0,he.J0)(!0),[d,h]=(0,he.J0)(null),[m,p]=je(pd),[g,b]=(0,he.J0)(!1),[w,_]=(0,he.J0)(1),[k,E]=je(ek),[T,S]=(0,he.J0)(!0),[x,A]=(0,he.J0)(null),[R,N]=(0,he.J0)(!1),[F,P]=(0,he.J0)(0),{mutate:O}=$f(),{ref:C,inView:D}=lv({threshold:.1}),L=be(w,300),{data:M,error:z,isLoading:I,isValidating:q}=Xi(i==="changelog"&&!g&&!R?`/changelog?page=${L}&limit=10&locale=${ha.language}`:null,{keepPreviousData:!0,shouldRetryOnError:!1,errorRetryCount:0,onSuccess:te=>{A(null),N(!1),te&&Array.isArray(te.results)&&(E(ye=>{const Pe=[...ye];return te.results.forEach(Lt=>{Pe.some(Dt=>Dt.id===Lt.id)||Pe.push(Lt)}),Pe}),S(te.page<te.totalPages))},onError:te=>{console.error("Error fetching changelogs:",te),A(l("error-loading-updates")),N(!1)}}),{data:Z,error:ae,isLoading:se,isValidating:Ae}=Xi(m&&!R?`/changelog?id=${m}`:null,{keepPreviousData:!0,shouldRetryOnError:!1,errorRetryCount:0,onError:te=>{console.error("Error fetching single changelog:",te),A(l("error-loading-update-details")),N(!1)},onSuccess:()=>{A(null),N(!1)}});function be(te,ye){const[Pe,Lt]=(0,he.J0)(te);return(0,he.vJ)(()=>{const Dt=setTimeout(()=>{Lt(te)},ye);return()=>{clearTimeout(Dt)}},[te,ye]),Pe}const Le=te=>{N(!0),A(null),setTimeout(()=>{O(te),N(!1)},1e3)};(0,he.vJ)(()=>{var te;if(!d&&m){const ye=k.find(Pe=>Pe.id===m);ye?(h(ye),b(!0)):((te=Z==null?void 0:Z.results)==null?void 0:te.length)>0&&Z.results[0].id===m&&(h(Z.results[0]),b(!0))}},[Z,d,m,k]),(0,he.vJ)(()=>{if(D&&!I&&!q&&T&&!R&&i==="changelog"){const te=setTimeout(()=>{_(ye=>ye+1)},500);return()=>clearTimeout(te)}},[D,I,q,T,R,i]),(0,he.vJ)(()=>{i==="changelog"&&!g&&k.length===0&&!I&&!q&&!x&&!R&&(_(1),S(!0),setTimeout(()=>{O("/changelog?page=1&limit=10")},1e3))},[i,g,k.length,I,q,x,R]);const B=te=>{u(!1),h(te),p(te.id)},G=()=>{b(!1),p(null)};return y(Sc,{showBackground:!1,title:g?d==null?void 0:d.title:l("latest-updates"),onPageLeave:G,hasFooter:!g,headerInfo:{allowGoingBack:g,goBackFunction:()=>{G()},externalLink:g?d==null?void 0:d.externalUrl:void 0,muted:!0},isExpanded:g,children:y("div",{className:"relative w-full h-full overflow-hidden",children:[y(Mo,{in:!g,direction:"left",skipAnimation:c,children:y("div",{className:"absolute inset-0 z-10 flex flex-col bg-background",children:y("div",{className:Yt("relative flex flex-col flex-1 custom-scrollbar overflow-y-auto flex-grow animate-slide-down",k.length===0&&!I&&!q&&"overflow-hidden"),children:I&&k.length===0?y(Zi,{}):y(mn.Fragment,{children:[x&&k.length===0?y("div",{className:"absolute inset-0 z-30 flex flex-col items-center justify-center bg-background/95",children:y(Oa,{errorMessage:x,onRetry:()=>Le(`/changelog?page=${w}&limit=10`),isRetrying:R})}):y("div",{className:"flex flex-col px-4 gap-2.5 relative z-20",children:[k.map(te=>y(Gs,{title:te.title,wide:{img:te.featuredImage},description:Mg(te.content),onClick:()=>{B(te),b(!0)}},te.id)),T&&!x&&!R&&k.length>0&&y("div",{ref:C,children:y(cv,{})}),x&&k.length>0&&y(Oa,{errorMessage:x,onRetry:()=>Le(`/changelog?page=${w}&limit=10`),isRetrying:R,isCompact:!0})]}),k.length===0&&!I&&!q&&!x&&y(nu,{Icon:te=>y("svg",p8(m8({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none"},te),{children:[y("path",{opacity:"0.4",d:"M5.99989 14.7755V15.7498C5.99989 16.4013 6.05407 17.0106 6.33892 17.5803C6.62376 18.1499 7.07867 18.5588 7.59989 18.9498L8.83175 19.8737C9.31819 20.2385 9.72898 20.5466 10.0713 20.7647C10.4093 20.98 10.8133 21.198 11.2754 21.2397C12.2185 21.3247 13.1287 20.8696 13.6265 20.0641C13.8704 19.6695 13.9384 19.2155 13.969 18.8159C13.9861 18.5922 13.9937 18.3353 13.9971 18.0476L11.9984 17.0734C11.9984 17.0744 11.9984 17.0753 11.9984 17.0763C11.9992 17.1342 11.9999 17.192 11.9999 17.2498C11.9999 17.9083 11.9992 18.3443 11.9748 18.6634C11.9556 18.9141 11.926 19.0034 11.921 19.0186L11.9204 19.0202C11.8215 19.1741 11.6464 19.2616 11.464 19.2485L11.4623 19.2479C11.4472 19.2428 11.3579 19.2129 11.1459 19.0779C10.876 18.9059 10.5267 18.6449 9.99989 18.2498L8.79989 17.3498C8.34365 17.0076 8.19856 16.8274 8.12777 16.6858C8.05698 16.5442 7.99989 16.3201 7.99989 15.7498V15.1245L7.71288 14.9846C7.17002 14.72 6.59068 14.6495 5.99989 14.7755Z",fill:"currentColor"}),y("path",{opacity:"0.5",d:"M7.71288 7.51497L14.92 4.00213C16.5744 3.19574 17.4017 2.79254 18.324 3.10681C19.2463 3.42109 19.5628 4.09544 20.196 5.44416C21.0653 7.29594 21.4999 9.27297 21.4999 11.25C21.4999 13.227 21.0653 15.2041 20.196 17.0558C19.5628 18.4046 19.2463 19.0789 18.324 19.3932C17.4017 19.7075 16.5744 19.3043 14.92 18.4979L7.71288 14.985C7.15819 14.7147 6.56542 14.647 5.96126 14.7844L5.96124 14.7844C5.56593 14.8743 5.36824 14.9193 5.20905 14.9377C3.23211 15.167 1.99989 13.5782 1.99989 11.7513V10.7487C1.99989 8.92177 3.23211 7.33303 5.20905 7.56226C5.36824 7.58071 5.56594 7.62568 5.96126 7.7156C6.56542 7.85303 7.15819 7.78532 7.71288 7.51497Z",fill:"currentColor"})]})),text:l("no-changelogs")})]})})})}),y(Mo,{in:g,direction:"right",skipAnimation:c,children:y("div",{className:"absolute inset-0 z-20 flex flex-col overflow-y-auto custom-scrollbar animate-slide-down bg-background/90",children:[x&&g&&!d&&y("div",{className:"absolute inset-0 z-30 flex flex-col items-center justify-center bg-background/95",children:y(Oa,{errorMessage:x,onRetry:()=>Le(`/changelog?id=${m}`),onGoBack:G,isRetrying:R})}),d&&y(mn.Fragment,{children:[(d==null?void 0:d.featuredImage)&&y("img",{className:"mx-2 rounded-lg",src:d==null?void 0:d.featuredImage,alt:d==null?void 0:d.title}),y("div",{className:"flex flex-col p-8 gap-2.5 relative z-20",children:[y("p",{className:"text-2xl font-semibold text-secondary-active-foreground",children:d==null?void 0:d.title}),y(Xs,{helpCenterUrlParts:{subpath:"/help/",locale:"en",helpCenterId:"qdf9htojyz0ribwp",articleId:""},content:(d==null?void 0:d.content)||""})]})]})]},d==null?void 0:d.id)})]})})},Qf=({element:i,onSelect:s})=>{var l,c,u,d;const{t:h}=Fn();return y("div",{children:[y("button",{onClick:()=>s(i),className:"flex items-center gap-3 text-left w-full min-w-0 main-transition hover:bg-border/30 px-[17px] py-4 cursor-pointer",children:[y("div",{className:"flex-1 min-w-0",children:[y(ia,{renderAsHTML:!0,renderHTML:(i==null?void 0:i.name)||((l=i==null?void 0:i._formatted)==null?void 0:l.title)||(i==null?void 0:i.title),className:"flex justify-between text-[15px] font-semibold items-center text-background-foreground",children:(i==null?void 0:i.name)||((c=i==null?void 0:i._formatted)==null?void 0:c.title)||(i==null?void 0:i.title)}),y(ia,{renderAsHTML:!0,renderHTML:((u=i==null?void 0:i._formatted)==null?void 0:u.description)||(i==null?void 0:i.description)||"",className:"text-sm mt-1.5 min-w-0 text-foreground line-clamp-2",children:((d=i==null?void 0:i._formatted)==null?void 0:d.description)||(i==null?void 0:i.description)||""}),(i==null?void 0:i.articleCount)>0&&y(ia,{className:"flex items-center gap-2 mt-1.5 text-[13px] text-foreground/80",children:h("article-count",{count:Number(i.articleCount)})})]}),y(Zd,{className:"w-4 h-4 text-foreground/60"})]}),y("div",{className:"h-[1px] bg-border/60 -mt-px w-full"})]},i.collectionId)},dR=Fi({header:{type:"solid",color:"#1e1b4b"},background:"#ffffff",transparencyPercentage:0,isDarkerTheme:!1,primary:"#07080A"}),fR=Fi(""),eh=Fi(""),b8=()=>{const{t:i}=Fn(),[s,l]=je(md),[c,u]=je(_p);return y("div",{className:"pb-2 relative",children:[y("input",{value:s,onChange:d=>{var h,m,p;l(((h=d==null?void 0:d.target)==null?void 0:h.value)||""),((m=d==null?void 0:d.target)==null?void 0:m.value)!==s&&(p=d==null?void 0:d.target)!=null&&p.value&&u(!0)},placeholder:i("search-for-help-input-placeholder"),className:"bg-primary-foreground/10 placeholder:text-primary-foreground/60 rounded-lg text-[15px] w-full px-2.5 decoration-primary-foreground/60 text-primary-foreground focus:outline-none focus:ring-0 focus:ring-primary-foreground/20 py-2"}),c&&y("div",{className:"absolute right-2.5 top-2.5 flex items-center justify-center",children:y("div",{className:"w-5 h-5 text-primary-foreground/80",children:y(ti,{})})})]})};var v8=Object.defineProperty,y8=Object.defineProperties,w8=Object.getOwnPropertyDescriptors,Iv=Object.getOwnPropertySymbols,_8=Object.prototype.hasOwnProperty,k8=Object.prototype.propertyIsEnumerable,Mv=(i,s,l)=>s in i?v8(i,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[s]=l,x8=(i,s)=>{for(var l in s||(s={}))_8.call(s,l)&&Mv(i,l,s[l]);if(Iv)for(var l of Iv(s))k8.call(s,l)&&Mv(i,l,s[l]);return i},E8=(i,s)=>y8(i,w8(s)),C8=(i,s,l)=>new Promise((c,u)=>{var d=p=>{try{m(l.next(p))}catch(g){u(g)}},h=p=>{try{m(l.throw(p))}catch(g){u(g)}},m=p=>p.done?c(p.value):Promise.resolve(p.value).then(d,h);m((l=l.apply(i,s)).next())});const S8=({handleCollectionViewClick:i})=>{const{t:s}=Fn(),[l,c]=je(md),[u,d]=(0,j.useState)([]),[h,m]=je(_p);return(0,j.useEffect)(()=>{const p=setTimeout(()=>C8(void 0,null,function*(){if(!l){d([]);return}try{const g=yield Jr.request("/messenger/widget/search/articles",{method:"POST",body:JSON.stringify({q:l,limit:10,state:"live",locale:ha.language,attributesToHighlight:["title","description","body"],attributesToCrop:["body:70","description:70"]})});d(g.results)}catch(g){console.error("Search failed:",g)}finally{m(!1)}}),300);return()=>clearTimeout(p)},[l]),y("div",{className:Yt("h-full",(u==null?void 0:u.length)===0&&!h&&"overflow-hidden"),children:[u==null?void 0:u.map(p=>y(Qf,{element:p,onSelect:g=>{i(g)}},p.articleId)),(u==null?void 0:u.length)===0&&!h&&y(nu,{Icon:p=>y("svg",E8(x8({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none"},p),{children:[y("path",{opacity:"1",d:"M2.5 12C2.5 7.52166 2.5 5.28249 3.89124 3.89124C5.28249 2.5 7.52166 2.5 12 2.5C16.4783 2.5 18.7175 2.5 20.1088 3.89124C21.5 5.28249 21.5 7.52166 21.5 12C21.5 16.4783 21.5 18.7175 20.1088 20.1088C18.7175 21.5 16.4783 21.5 12 21.5C7.52166 21.5 5.28249 21.5 3.89124 20.1088C2.5 18.7175 2.5 16.4783 2.5 12Z",fill:"currentColor"}),y("path",{d:"M10 9C10 7.89543 10.8954 7 12 7C13.1046 7 14 7.89543 14 9C14 9.39815 13.8837 9.76913 13.6831 10.0808C13.0854 11.0097 12 11.8954 12 13V13.5",stroke:"hsla(var(--background))",strokeWidth:"1.5",strokeLinecap:"round"}),y("circle",{cx:"12",cy:"16",r:"1",fill:"hsla(var(--background))"})]})),text:l?s("no-results-for",{query:l}):s("no-results")})]})};var T8=Object.defineProperty,A8=Object.defineProperties,O8=Object.getOwnPropertyDescriptors,Lv=Object.getOwnPropertySymbols,N8=Object.prototype.hasOwnProperty,R8=Object.prototype.propertyIsEnumerable,Dv=(i,s,l)=>s in i?T8(i,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[s]=l,P8=(i,s)=>{for(var l in s||(s={}))N8.call(s,l)&&Dv(i,l,s[l]);if(Lv)for(var l of Lv(s))R8.call(s,l)&&Dv(i,l,s[l]);return i},I8=(i,s)=>A8(i,O8(s));const M8=()=>{var i,s,l,c,u,d,h,m;const{t:p}=Fn(),[g,b]=(0,he.J0)(!0),[w,_]=je(wp),[k,E]=(0,he.J0)([]),[T,S]=je(md),[x,A]=(0,he.J0)(null),[R,N]=(0,he.J0)(!1),[F,P]=(0,he.J0)(0),{mutate:O}=$f(),{data:C,error:D,isLoading:L}=Xi(`/helpcenter?withStructure=true&locale=${ha.language}`,{onSuccess:()=>{A(null),N(!1)},onError:B=>{console.error("Error fetching help center structure:",B),A(p("error-loading-help-center")),N(!1)}}),{data:M,error:z}=Xi(w!=null&&w.collectionId?`/helpcenter/collections?collectionId=${w==null?void 0:w.collectionId}&locale=${ha.language}`:null,{onSuccess:()=>{A(null),N(!1)},onError:B=>{console.error("Error fetching collection data:",B),A(p("error-loading-collection")),N(!1)}}),{data:I,error:q}=Xi(w!=null&&w.articleId?`/helpcenter/articles?articleId=${w==null?void 0:w.articleId}&locale=${ha.language}`:null,{onSuccess:()=>{A(null),N(!1)},onError:B=>{console.error("Error fetching article data:",B),A(p("error-loading-article")),N(!1)}}),Z=(i=I==null?void 0:I.results)==null?void 0:i[0],ae=B=>{const G=Date.now();if(G-F<5e3){console.log("Throttling retry attempts");return}N(!0),P(G),A(null),setTimeout(()=>{O(B),N(!1)},1e3)};(0,he.vJ)(()=>{C&&E(Z4(C,{locale:ha.language,subpath:"/help"}))},[C]);const se=B=>{B!=null&&B.articleId?eh.value=B==null?void 0:B.articleId:eh.value="",_(B)},Ae=!!T,be=()=>{if(Ae){_(null);return}w!=null&&w.articleId&&Z!=null&&Z.parentId?(_({collectionId:Z.parentId,animateInFromLeft:!0}),eh.value=""):(w!=null&&w.parentId&&w!=null&&w.collectionId,_(null))},Le=w?(Z==null?void 0:Z.title)||(M==null?void 0:M.name):p("help");return y(Sc,{showBackground:!1,title:Le,hasFooter:!(w&&w!=null&&w.articleId),headerInfo:{customComponent:w?null:y(b8,{}),allowGoingBack:!!(w||Ae),goBackFunction:Ae&&!w?()=>S(""):be},isExpanded:!!(w&&w!=null&&w.articleId),children:y("div",{className:"overflow-hidden relative w-full h-full",children:[y(Mo,{in:!w&&!Ae,direction:"left",skipAnimation:g,children:y("div",{className:"flex absolute inset-0 z-10 flex-col bg-background",children:y("div",{className:"flex relative flex-col flex-1 h-full",children:y("div",{className:Yt("animate-slide-down flex flex-col custom-scrollbar flex-grow overflow-y-auto flex-1",(k==null?void 0:k.length)===0&&!L&&"overflow-hidden"),children:L?y(Zi,{}):x&&k.length===0?y("div",{className:"flex absolute inset-0 z-30 flex-col justify-center items-center bg-background/95",children:y(Oa,{errorMessage:x,onRetry:()=>ae("/helpcenter?withStructure=true&locale=en"),isRetrying:R})}):y(mn.Fragment,{children:k&&k.length>0?k.map(B=>y(Qf,{element:B,onSelect:G=>{b(!1),_(G)}},B.collectionId)):y(nu,{Icon:B=>y("svg",I8(P8({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none"},B),{children:[y("path",{opacity:"1",d:"M2.5 12C2.5 7.52166 2.5 5.28249 3.89124 3.89124C5.28249 2.5 7.52166 2.5 12 2.5C16.4783 2.5 18.7175 2.5 20.1088 3.89124C21.5 5.28249 21.5 7.52166 21.5 12C21.5 16.4783 21.5 18.7175 20.1088 20.1088C18.7175 21.5 16.4783 21.5 12 21.5C7.52166 21.5 5.28249 21.5 3.89124 20.1088C2.5 18.7175 2.5 16.4783 2.5 12Z",fill:"currentColor"}),y("path",{d:"M10 9C10 7.89543 10.8954 7 12 7C13.1046 7 14 7.89543 14 9C14 9.39815 13.8837 9.76913 13.6831 10.0808C13.0854 11.0097 12 11.8954 12 13V13.5",stroke:"hsla(var(--background))",strokeWidth:"1.5",strokeLinecap:"round"}),y("circle",{cx:"12",cy:"16",r:"1",fill:"hsla(var(--background))"})]})),text:p("no-help-articles")})})})})})}),y(Mo,{in:Ae,direction:"right",skipAnimation:!0,children:y("div",{className:"flex overflow-auto absolute inset-0 z-30 flex-col custom-scrollbar bg-background/90",children:y("div",{className:"flex relative flex-col flex-1 flex-grow",children:y(S8,{handleCollectionViewClick:se})})})}),y(Mo,{in:!!(w!=null&&w.collectionId)&&!(w!=null&&w.articleId),direction:w!=null&&w.animateInFromLeft||w!=null&&w.articleId?"left":"right",skipAnimation:g,children:y("div",{className:"flex absolute inset-0 z-20 flex-col bg-background",children:y("div",{className:"overflow-y-auto px-0 h-full custom-scrollbar animate-slide-down",children:L?y(Zi,{}):x&&(!M||M.length===0)?y("div",{className:"flex absolute inset-0 z-30 flex-col justify-center items-center bg-background/95",children:y(Oa,{errorMessage:x,onRetry:()=>ae(`/helpcenter/collections?collectionId=${w==null?void 0:w.collectionId}&locale=en`),onGoBack:be,isRetrying:R})}):y("div",{className:"flex relative z-20 flex-col",children:[y("div",{className:"px-4 border-b border-border/60  py-4 flex flex-col gap-2.5",children:[y(ia,{placeholderStyle:{width:160},className:"text-base font-semibold text-secondary-active-foreground",children:M==null?void 0:M.name}),y(ia,{placeholderStyle:[{width:"100%"},{width:"60%"}],className:"text-sm text-secondary-foreground",children:M?(M==null?void 0:M.description)||"":void 0}),y("div",{className:"flex gap-2 justify-between items-center",children:[y(ia,{placeholderStyle:{width:50},className:"text-[13px] text-secondary-foreground/80",children:(M==null?void 0:M.articleCount)>0&&p("article-count",{count:Number(M.articleCount)})}),y("div",{className:"flex items-center justify-centers",children:(s=M==null?void 0:M.authors)==null?void 0:s.map((B,G)=>y("img",{src:B==null?void 0:B.avatarUrl,className:`w-6 h-6 rounded-full animate-fade-in  ${G!==0?"z-10 -ml-1 avatar-border":""}`},B==null?void 0:B.authorId))})]})]}),y("div",{className:"flex flex-col",children:(l=M==null?void 0:M.structure)==null?void 0:l.map(B=>y(Qf,{element:B,onSelect:G=>{se(G)}},B.articleId))})]})})})}),y(Mo,{in:!!(w!=null&&w.articleId),direction:"right",skipAnimation:g,children:y("div",{className:"flex absolute inset-0 z-30 flex-col bg-background",children:y("div",{className:"overflow-y-auto px-0 h-full custom-scrollbar animate-slide-down",children:L?y(Zi,{}):x&&!Z?y("div",{className:"flex absolute inset-0 z-30 flex-col justify-center items-center bg-background/95",children:y(Oa,{errorMessage:x,onRetry:()=>ae(`/helpcenter/articles?articleId=${w==null?void 0:w.articleId}`),onGoBack:be,isRetrying:R})}):y("div",{className:"flex relative z-20 flex-col",children:y("div",{className:"p-8 border-b border-border/60 flex flex-col gap-2.5",children:[y(ia,{placeholderStyle:{width:"80%"},className:"text-2xl font-semibold text-secondary-active-foreground",children:Z==null?void 0:Z.title}),Z!=null&&Z.title&&!(Z!=null&&Z.description)?null:y(ia,{placeholderStyle:[{width:"90%",marginTop:5},{width:"60%",marginTop:10,marginBottom:3}],className:"mt-4 text-base text-secondary-foreground",children:Z==null?void 0:Z.description}),Z!=null&&Z.title&&!((c=Z==null?void 0:Z.author)!=null&&c.name)?null:y("div",{className:"flex gap-3 items-center mt-6 mb-4",children:[(u=Z==null?void 0:Z.author)!=null&&u.avatarUrl?y("img",{src:(d=Z==null?void 0:Z.author)==null?void 0:d.avatarUrl,className:"flex overflow-hidden relative w-10 h-10 rounded-full shrink-0 bg-secondary"}):y("div",{className:"flex overflow-hidden relative w-10 h-10 rounded-full animate-pulse shrink-0 bg-secondary"}),y("div",{className:"flex flex-col gap-2 items-start",children:[y("div",{className:"text-[13px] flex items-center gap-1 !leading-none text-secondary-foreground/80",children:[p("written-by"),y(ia,{placeholderStyle:{width:100,marginBottom:0,marginTop:0},className:"font-medium text-[13px] text-foreground",children:(h=Z==null?void 0:Z.author)==null?void 0:h.name})]}),Z!=null&&Z.title&&!((m=Z==null?void 0:Z.updatedAt)!=null&&m.toString())?null:y("div",{className:"text-[13px] flex items-center gap-1 !leading-none text-secondary-foreground/80",children:[p("updated"),y(ia,{placeholderStyle:{width:100,marginBottom:0,marginTop:0},className:"font-medium text-[13px] text-foreground",children:(Z==null?void 0:Z.updatedAt)&&xc(new Date(Z==null?void 0:Z.updatedAt.toString()),{includeSeconds:!0,addSuffix:!0})})]})]})]}),y("div",{className:"mt-3",children:y(Xs,{helpCenterUrlParts:{subpath:"/help/",locale:"en",helpCenterId:"qdf9htojyz0ribwp",articleId:""},setActiveItem:_,content:(Z==null?void 0:Z.body)||""})})]})})})})})]})})};function gR(i,s){const l=useSetAtom(i,s);return useCallback(()=>l(RESET),[l])}function bR(i,s,l){console.warn("[DEPRECATED] useReducerAtom is deprecated and will be removed in the future. Please create your own version using the recipe. https://github.com/pmndrs/jotai/pull/2467");const[c,u]=useAtom(i,l),d=useCallback(h=>{u(m=>s(m,h))},[u,s]);return[c,d]}function vR(i,s){const l=useMemo(()=>atom(null,(c,u,...d)=>i(c,u,...d)),[i]);return useSetAtom(l,s)}const jv=new WeakMap;function L8(i,s){const l=jd(s),c=D8(l);for(const[u,d]of i)(!c.has(u)||s!=null&&s.dangerouslyForceHydrate)&&(c.add(u),l.set(u,d))}const D8=i=>{let s=jv.get(i);return s||(s=new WeakSet,jv.set(i,s)),s};var zv=(i,s,l)=>new Promise((c,u)=>{var d=p=>{try{m(l.next(p))}catch(g){u(g)}},h=p=>{try{m(l.throw(p))}catch(g){u(g)}},m=p=>p.done?c(p.value):Promise.resolve(p.value).then(d,h);m((l=l.apply(i,s)).next())});function j8({sourceFilter:i="any"}={}){const[s,l]=je(lc),[c,u]=je(hd),[d,h]=je(Rs),[m,p]=je(pd),[g,b]=je(wp),[w,_]=je(Ni),[k,E]=je(Zo),[T,S]=je(gd),[x,A]=je(Ep),[R]=je(On),[N,F]=je(Cp),[P]=je(kp),[O,C]=(0,he.J0)(!1),D=(0,he.li)(null);return Lr("MESSENGER_TOGGLE",L=>{l(L.isOpen),L.isOpen||(_(null),S(!1))},void 0,i),Lr("MESSENGER_OPEN_MESSAGES",L=>{if(L.initialText!==void 0){const M=L.initialText.toString().trim();M.length>0&&(A(M),u("messages"),_("new"),S(!0))}},void 0,i),Lr("MESSENGER_THEME_CHANGE",L=>{console.log("[Featurebase SDK] Received theme change message:",L),h(L.theme)},void 0,i),Lr("MESSENGER_NAVIGATE",L=>{L.page&&(console.log("[Featurebase SDK] Navigating to page:",L.page),u(L.page))},void 0,i),Lr("MESSENGER_OPEN_CHANGELOG",L=>{u("changelog"),p((L==null?void 0:L.changelogId)||null),console.log("[Featurebase SDK] Received changelog open message:",L)},()=>!!Dd("changelog"),i),Lr("MESSENGER_OPEN_HELP_CENTER",L=>{u("help");const M=L==null?void 0:L.articleId,z=L==null?void 0:L.collectionId;b(M?{articleId:M}:z?{collectionId:z}:null)},()=>!!Dd("help"),i),Lr("MESSENGER_OPEN_MESSAGES",L=>{u("messages"),L!=null&&L.new?ji("allowStartingConversations")?(_("new"),S(!0)):console.log("[Featurebase SDK] Not allowed to start a new conversation"):L!=null&&L.chatId&&(_(L==null?void 0:L.chatId),S(!0))},()=>!!Dd("messages"),i),Lr("MESSENGER_QUICK_REPLY",L=>{u("messages"),L.chatId&&(F({chatId:L.chatId,text:L.text||"",selectedOptionId:L.selectedOptionId}),_(L.chatId),S(!0))},void 0,i),Lr("MESSENGER_VIEWPORT_CHANGE",L=>{P||E(L.isMobile)},()=>!0,i),Lr("MARK_CONVERSATION_READ",L=>{L.chatId&&Jr.request(`/messenger/widget/conversations/${L.chatId}/read`,{method:"POST"}).then(()=>zv(this,null,function*(){var M;try{const z=((M=(yield Jr.request("/messenger/widget/conversations/list?page=1")).results)==null?void 0:M.filter(I=>!I.seenByUser).length)||0;yn("UNREAD_COUNT_CHANGE",{unreadCount:z},"parent")}catch(z){console.error("Error setting conversation as read:",z)}})).catch(M=>{console.error("Error setting conversation as read:",M)})},void 0,"any"),Lr("MESSENGER_LANGUAGE_CHANGE",L=>zv(this,null,function*(){const M=L.language;if(console.log("[Featurebase SDK] Received language change:",M),!(O||M===fr.language||D.current===M))try{C(!0);const z=yield Lg(M,D);z.success?yn("LANGUAGE_CHANGE_COMPLETE",{language:z.language},"parent"):yn("LANGUAGE_CHANGE_ERROR",{error:z.error||"Failed to load language resources"},"parent")}finally{C(!1)}}),()=>!0,i),{isOpen:s,activePage:c,theme:d,changelogId:m,isMobile:k}}var z8=Object.defineProperty,F8=Object.defineProperties,B8=Object.getOwnPropertyDescriptors,Fv=Object.getOwnPropertySymbols,W8=Object.prototype.hasOwnProperty,U8=Object.prototype.propertyIsEnumerable,Bv=(i,s,l)=>s in i?z8(i,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[s]=l,uu=(i,s)=>{for(var l in s||(s={}))W8.call(s,l)&&Bv(i,l,s[l]);if(Fv)for(var l of Fv(s))U8.call(s,l)&&Bv(i,l,s[l]);return i},th=(i,s)=>F8(i,B8(s)),$8=(i,s,l)=>new Promise((c,u)=>{var d=p=>{try{m(l.next(p))}catch(g){u(g)}},h=p=>{try{m(l.throw(p))}catch(g){u(g)}},m=p=>p.done?c(p.value):Promise.resolve(p.value).then(d,h);m((l=l.apply(i,s)).next())});const Wv="#030310",Uv="#533C91",H8=80,V8=0,yR=null;class $v extends Error{constructor(s){super(s),this.name="NetworkError"}}const Hv=(i,s=!1)=>{const l=Vs(i);return s?l?H8:V8:101-Ts(i).luminance()},q8=(i,s,l)=>{l(th(uu({},i),{transparencyPercentage:Hv(s,!0)}))},Vv=(i,s,l)=>({header:{type:(l==null?void 0:l.type)||"color",blurPercentage:.3,color:(l==null?void 0:l.color)||(l==null?void 0:l.colorStart),colorStart:l==null?void 0:l.colorStart,colorEnd:l==null?void 0:l.colorEnd,src:l==null?void 0:l.imageUrl,headerForegroundColor:l==null?void 0:l.foreground},background:i,transparencyPercentage:Hv(i),primary:s,keepSecondaryWhiteTreshold:Ig(i),isDarkerTheme:Vs(i)}),G8=({config:i,messengerData:s})=>{var l,c,u,d,h,m,p,g,b,w,_,k,E,T,S,x,A;const{t:R,i18n:N}=Fn(),[F,P]=je(On),[O,C]=Da(s,!1,tt=>{P(tt)}),[D,L]=je(Zo),[M,z]=Da(i,!0),[I,q]=(0,he.J0)(!0),[Z,ae]=(0,he.J0)(!1);(0,he.vJ)(()=>{var tt,ve,et;if(!Z&&I){const it=((et=(ve=(tt=O==null?void 0:O.messenger)==null?void 0:tt.config)==null?void 0:ve.content)==null?void 0:et.defaultLocale)||"en",rt=M.language||it;rt!==N.language&&Lg(rt),q(!1)}},[N,I,O,Z,M.language]);const se=M.theme||"light",[Ae,be]=(0,he.J0)(se==="dark"?((u=(c=(l=O==null?void 0:O.messenger)==null?void 0:l.config)==null?void 0:c.style)==null?void 0:u.compiledThemeDark)||"":((m=(h=(d=O==null?void 0:O.messenger)==null?void 0:d.config)==null?void 0:h.style)==null?void 0:m.compiledTheme)||""),Le=to(Ae,"background")||Wv,B=to(Ae,"primary")||Uv,G=se==="dark"?(w=(b=(g=(p=O==null?void 0:O.messenger)==null?void 0:p.config)==null?void 0:g.style)==null?void 0:b.header)==null?void 0:w.backgroundDark:(T=(E=(k=(_=O==null?void 0:O.messenger)==null?void 0:_.config)==null?void 0:k.style)==null?void 0:E.header)==null?void 0:T.background,te=Vv(Le,B,G),[ye]=je(yp),[Pe,Lt]=je(Rs),[Dt,cn]=je(ea),[Nt,Bt]=je(pd),[De,Ie]=je(ak),[nt,Rt]=je(hd),[ge,qe]=je(lc),pt=(0,he.li)(null),lt=Vs(Le);j8({sourceFilter:"any"}),(0,he.vJ)(()=>{var tt,ve,et,it,rt,Je,Wt,Ot,Qt,pn,xn,dt,Sr,Ee;const ot=Pe==="dark"?(et=(ve=(tt=O==null?void 0:O.messenger)==null?void 0:tt.config)==null?void 0:ve.style)==null?void 0:et.compiledThemeDark:(Je=(rt=(it=O==null?void 0:O.messenger)==null?void 0:it.config)==null?void 0:rt.style)==null?void 0:Je.compiledTheme;if(be(ot||""),ot){const Et=to(ot,"background")||Wv,en=to(ot,"primary")||Uv,Ut=Pe==="dark"?(pn=(Qt=(Ot=(Wt=O==null?void 0:O.messenger)==null?void 0:Wt.config)==null?void 0:Ot.style)==null?void 0:Qt.header)==null?void 0:pn.backgroundDark:(Ee=(Sr=(dt=(xn=O==null?void 0:O.messenger)==null?void 0:xn.config)==null?void 0:dt.style)==null?void 0:Sr.header)==null?void 0:Ee.background,Zn=Vv(Et,en,Ut);q8(Zn,Et,cn)}},[Pe,O,cn]),(0,he.vJ)(()=>{var tt,ve;j5(M.appId,{email:M.email,userId:M.userId,userHash:M.userHash,accessToken:(tt=O.user)==null?void 0:tt.accessToken,anonymousId:(ve=O.user)==null?void 0:ve.anonymousId}),$8(void 0,null,function*(){var et,it,rt,Je;try{const Wt=yield Jr.request("/messenger/widget/conversations/list?page=1"),Ot=((et=Wt.results)==null?void 0:et.filter(Qt=>!Qt.seenByUser).length)||0;yn("UNREAD_COUNT_CHANGE",{unreadCount:Ot},"parent"),Wt.results&&Wt.results.length>0&&((rt=(it=Wt.results)==null?void 0:it[0])!=null&&rt.seenByUser||yn("SHOW_NOTIFICATION_PREVIEW_FOR",{conversation:(Je=Wt.results)==null?void 0:Je[0]},"parent"))}catch(Wt){console.error("[MessengerApp] Error fetching conversations:",Wt)}})},[M.appId,M.email,M.userId,M.userHash]);const kt=ye!=null&&ye.header?ye:te;L8([[yp,kt],[On,O],[Rs,se],[ea,te],[lc,(S=M==null?void 0:M.initialOpen)!=null?S:!1],[Zo,(x=M==null?void 0:M.hideDefaultLauncher)!=null?x:!1],[kp,(A=M==null?void 0:M.hideDefaultLauncher)!=null?A:!1]]);const ut=Dt.header.color;return(0,he.vJ)(()=>{yn("IFRAME_READY",{iframeName:"messenger"},"parent")},[]),y(q9,{value:{dedupingInterval:5e3,revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!0,fetcher:(tt,ve)=>{var et,it,rt;const Je=new AbortController,Wt=Je.signal,Ot=setTimeout(()=>Je.abort(),15e3),Qt=th(uu({},ve),{signal:Wt,method:"GET",headers:uu(th(uu({},ve==null?void 0:ve.headers),{"Content-Type":"application/json","x-organization-id":M.appId,"x-featurebase-anon-id":(et=O.user)==null?void 0:et.anonymousId}),((it=O.user)==null?void 0:it.accessToken)&&{[`x-featurebase-access-${M.appId}`]:(rt=O.user)==null?void 0:rt.accessToken})});let pn;return pn=`https://${ar()==="development"?"do.fbasedev.com":"do.featurebase.app"}/v1${tt}`,fetch(pn,Qt).then(xn=>{if(clearTimeout(Ot),!xn.ok){const dt=new $v("An error occurred while fetching the data.");throw dt.info=xn.statusText,dt.status=xn.status,dt}return xn.json()}).catch(xn=>{if(clearTimeout(Ot),xn.name==="AbortError"){const dt=new $v("Request timed out");throw dt.status=408,dt}throw xn})},onError:(tt,ve)=>{console.error("SWR Error:",tt,"on key:",ve)},errorRetryInterval:1e3,errorRetryCount:2,shouldRetryOnError:tt=>!((tt==null?void 0:tt.status)>=400&&(tt==null?void 0:tt.status)<600)},children:y(l5,{children:y("div",{className:"flex overflow-hidden flex-col w-full max-w-full h-[100dvh] animate-slide-down-with-delay text-foreground bg-background",children:[y("style",{children:`
      :root {
        ${Ae}
      }

      html body {
        background-color: hsl(var(--background));
      }

      `}),nt==="home"&&y($3,{darkerTheme:lt,headerColor:ut,scrollRef:pt,isOpen:ge}),nt==="messages"&&y(l8,{activePage:nt,setActivePage:Rt}),nt==="changelog"&&y(g8,{activePage:nt,setActivePage:Rt}),nt==="help"&&y(M8,{})]},ge?"open":"closed")})})};function K8(i){const s=(0,j.useRef)(null),l=(0,j.useRef)({width:0,height:0}),c=(0,j.useRef)(null);return(0,j.useCallback)(u=>{if(c.current&&(c.current.disconnect(),c.current=null),s.current=u,!u)return;const d=()=>{const h={width:u.offsetWidth,height:u.offsetHeight};(Math.abs(l.current.width-h.width)>1||Math.abs(l.current.height-h.height)>1)&&(l.current=h,i&&i(h))};c.current=new ResizeObserver(()=>{d()}),c.current.observe(u),d()},[i])}const Y8=K8;function qv(i="notification",s=!1){const l=(0,j.useRef)(0),c=(0,j.useRef)(0);return Y8(u=>{const d=u.height,h=u.width;!d||isNaN(d)||(Math.abs(d-l.current)>=1&&(l.current=d,yn(i==="popup"?"popupHeightChanged":"notificationHeightChanged",{height:d},"parent")),s&&h&&!isNaN(h)&&Math.abs(h-c.current)>=1&&(c.current=h,yn(i==="popup"?"popupWidthChanged":"notificationWidthChanged",{width:h},"parent")))})}var J8=Object.defineProperty,Z8=Object.defineProperties,X8=Object.getOwnPropertyDescriptors,Gv=Object.getOwnPropertySymbols,Q8=Object.prototype.hasOwnProperty,e6=Object.prototype.propertyIsEnumerable,Kv=(i,s,l)=>s in i?J8(i,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[s]=l,Gn=(i,s)=>{for(var l in s||(s={}))Q8.call(s,l)&&Kv(i,l,s[l]);if(Gv)for(var l of Gv(s))e6.call(s,l)&&Kv(i,l,s[l]);return i},Zr=(i,s)=>Z8(i,X8(s));const Yv="https://global.featurebase-attachments.com/c/static/featurebase-notification-sound.mp3",Jv="https://global.featurebase-attachments.com/c/static/featurebase-notification-sound-2.mp3",t6=({config:i,onPreviewClick:s,messengerData:l})=>{var c,u,d,h,m,p,g,b,w,_,k;const{t:E}=Fn(),[T,S]=Da(i,!0),[x,A]=Da(l),R=(0,he.li)(null);(0,he.vJ)(()=>{yn("IFRAME_READY",{iframeName:"notification"},"parent")},[]);const N=Ee=>{R.current=new Audio(Ee),R.current&&(R.current.pause(),R.current.currentTime=0,R.current.play().catch(ot=>{ot.name==="NotAllowedError"||console.warn("Error playing notification sound:",ot)}))},[F,P]=(0,he.J0)({conversations:{results:[]}}),[O,C]=(0,he.J0)(0),[D,L]=(0,he.J0)(new Date().toLocaleTimeString()),[M,z]=(0,he.J0)(""),[I,q]=(0,he.J0)(!1),[Z,ae]=(0,he.J0)(!0),[se]=je(ea),[Ae,be]=je(Rs),[Le,B]=(0,he.J0)(Ae==="dark"?((d=(u=(c=x==null?void 0:x.messenger)==null?void 0:c.config)==null?void 0:u.style)==null?void 0:d.compiledThemeDark)||"":((p=(m=(h=x==null?void 0:x.messenger)==null?void 0:h.config)==null?void 0:m.style)==null?void 0:p.compiledTheme)||""),G=(0,he.Kr)(()=>{const Ee=to(Le,"background")||"#000";return Ig(Ee)},[Le]),te=(0,he.Kr)(()=>{const Ee=to(Le,"background")||"#000";return Vs(Ee)},[Le]),[ye,Pe]=(0,he.J0)({}),[Lt,Dt]=(0,he.J0)({}),[cn,Nt]=(0,he.J0)({}),Bt=qv(),De=(b=(g=F==null?void 0:F.conversations)==null?void 0:g.results)==null?void 0:b[0],Ie=(De==null?void 0:De.messages)||[],nt=(k=(_=(w=F==null?void 0:F.conversations)==null?void 0:w.results)==null?void 0:_[0])==null?void 0:k.lastRenderablePart,Rt=!(De!=null&&De.id)||!cn[De.id]?nt&&Array.isArray(nt.replyOptions)?nt.replyOptions:[]:[],ge=De!=null&&De.id?Lt[De.id]||[]:[],qe=(ge&&ge.length>0?ge:Rt)||[],pt=(se==null?void 0:se.primary)||"#533C91",lt=!Le&&se?Object.entries(se).map(([Ee,ot])=>`--${Ee}: ${ot};`).join(`
`):"",kt=(0,he.li)(null),ut=Le||lt,[tt,ve]=(0,he.J0)(null),et=[...B0,...W0,Vn.AttributeCollectionPrompt],it=Ee=>{var ot,Et,en,Ut,Zn,ta;const{partType:ii,messageId:mr,body:as,timestamp:pr,conversationId:nn,user:Tr}=Ee;if(!et.includes(ii))return;let lo=as;try{if(ii===Vn.AttributeCollectionPrompt){const Rn=(Et=(ot=Ee==null?void 0:Ee.metadata)==null?void 0:ot.form)==null?void 0:Et.attributes,xr=(en=Ee==null?void 0:Ee.metadata)==null?void 0:en.attributes,Ht=(Array.isArray(Rn)?Rn:Array.isArray(xr)?xr:[]).filter(Wn=>Wn&&typeof Wn.name=="string"&&Wn.name).map(Wn=>Wn.name);Ht.length>0&&(lo=E("attribute-collection-prompt",{attributes:Ht.join(", ")}))}}catch(Rn){}try{const Rn=(Ut=Ee==null?void 0:Ee.metadata)==null?void 0:Ut.quickReplyOptions;if(Array.isArray(Rn)&&nn){const xr=Rn.filter(Ht=>Ht&&Ht.id&&Ht.text).map(Ht=>({id:Ht.id,text:Ht.text,type:Ht.type}));xr.length>0?(Dt(Ht=>Zr(Gn({},Ht),{[nn]:xr})),Nt(Ht=>Zr(Gn({},Ht),{[nn]:!1}))):(Dt(Ht=>{if(!Ht[nn])return Ht;const Wn=Gn({},Ht);return delete Wn[nn],Wn}),Nt(Ht=>Zr(Gn({},Ht),{[nn]:!0})))}else nn&&(Dt(xr=>{if(!xr[nn])return xr;const Ht=Gn({},xr);return delete Ht[nn],Ht}),Nt(xr=>Zr(Gn({},xr),{[nn]:!0})))}catch(Rn){}const Uo=document.querySelector(".featurebase-messenger-frame-wrapper");if(Uo&&!Uo.classList.contains("featurebase-messenger-frame-wrapper-closed"))return;const co={id:mr,text:lo,timestamp:(()=>{try{if(typeof pr=="string"){const Rn=new Date(pr).getTime();return isNaN(Rn)?Date.now():Rn}else if(typeof pr=="number"&&!isNaN(pr))return pr;return Date.now()}catch(Rn){return console.warn("Invalid timestamp, using current time instead:",Rn),Date.now()}})(),author:{name:(Tr==null?void 0:Tr.id)==="677ab192b871ecb4bdcbde39"?((ta=(Zn=x==null?void 0:x.messenger)==null?void 0:Zn.fibi)==null?void 0:ta.name)||"Fibi AI agent":Tr.name,avatar:Tr.picture}};document.visibilityState==="visible"?Pe(Rn=>Zr(Gn({},Rn),{[mr]:!0})):Pe(Rn=>Zr(Gn({},Rn),{[mr]:!1}));let $o=!1;P(Rn=>{var xr;const Ht=Rn.conversations.results.findIndex(Wn=>Wn.id===nn);if(Ht>=0){const Wn=[...Rn.conversations.results],gr=Wn[Ht];return(xr=gr.messages)!=null&&xr.some(Xn=>Xn.id===mr)?(setTimeout(()=>{Pe(Xn=>{const ya=Gn({},Xn);return delete ya[mr],ya})},0),Rn):($o=!0,Wn.splice(Ht,1),Wn.unshift(Zr(Gn({},gr),{preview:lo,lastActivity:(()=>{try{if(typeof pr=="string"){const Xn=new Date(pr).getTime();return isNaN(Xn)?Date.now():Xn}else if(typeof pr=="number"&&!isNaN(pr))return pr;return Date.now()}catch(Xn){return Date.now()}})(),author:{name:Tr.name,avatar:Tr.picture},messages:[co,...gr.messages||[]]})),setTimeout(()=>{C(Xn=>Xn+1),q(!0),window.parent&&yn("NOTIFICATION_AVAILABLE",{conversationId:nn,messageId:mr},"parent"),document.visibilityState==="visible"&&requestAnimationFrame(()=>{setTimeout(()=>{ve(mr),Pe(Xn=>{const ya=Gn({},Xn);return delete ya[mr],ya}),setTimeout(()=>{ve(null)},800)},50)});try{const Xn=document.visibilityState!=="visible"?Yv:Jv;N(Xn)}catch(Xn){}},0),{conversations:{results:Wn}})}else{$o=!0;const Wn={id:nn,preview:lo,lastActivity:(()=>{try{if(typeof pr=="string"){const gr=new Date(pr).getTime();return isNaN(gr)?Date.now():gr}else if(typeof pr=="number"&&!isNaN(pr))return pr;return Date.now()}catch(gr){return Date.now()}})(),author:{name:Tr.name,avatar:Tr.picture},messages:[co]};return setTimeout(()=>{C(gr=>gr+1),q(!0),window.parent&&yn("NOTIFICATION_AVAILABLE",{conversationId:nn,messageId:mr},"parent"),document.visibilityState==="visible"&&requestAnimationFrame(()=>{setTimeout(()=>{ve(mr),Pe(gr=>{const Xn=Gn({},gr);return delete Xn[mr],Xn}),setTimeout(()=>{ve(null)},800)},50)});try{const gr=document.visibilityState!=="visible"?Yv:Jv;N(gr)}catch(gr){}},0),{conversations:{results:[Wn,...Rn.conversations.results]}}}})};(0,he.vJ)(()=>{Z&&requestAnimationFrame(()=>{setTimeout(()=>{ae(!1)},100)})},[Z]),(0,he.vJ)(()=>{if(Ie.length>0&&Object.keys(ye).length===0){const Ee={};Ie.forEach(ot=>{ye[ot.id]===void 0&&(Ee[ot.id]=!1)}),Object.keys(Ee).length>0&&Pe(Ee)}},[Ie.length]),(0,he.vJ)(()=>{const Ee=ot=>{var Et,en,Ut,Zn,ta,ii,mr,as,pr,nn,Tr,lo,Uo,co,$o,Rn,xr,Ht,Wn,gr,Xn,ya;if(ot.data&&ot.data.type==="UPDATE_NOTIFICATIONS"){const _l=document.querySelector(".featurebase-messenger-frame-wrapper");if(_l&&!_l.classList.contains("featurebase-messenger-frame-wrapper-closed"))return;const Un=(Ut=(en=(Et=ot.data.data)==null?void 0:Et.conversations)==null?void 0:en.results)==null?void 0:Ut[0];if(!(Un!=null&&Un.lastRenderablePart))return;let kl="";((Zn=Un.lastRenderablePart)==null?void 0:Zn.partType)===Vn.AttributeCollectionPrompt&&(kl=E("attribute-collection-prompt",{attributes:(mr=(ii=(ta=Un.lastRenderablePart)==null?void 0:ta.form)==null?void 0:ii.attributes)==null?void 0:mr.map(xl=>xl==null?void 0:xl.name).join(", ")}));let wu=((pr=(as=Un.lastRenderablePart)==null?void 0:as.author)==null?void 0:pr.id)==="bot"?((Tr=(nn=x==null?void 0:x.messenger)==null?void 0:nn.fibi)==null?void 0:Tr.name)||"Fibi AI agent":((Uo=(lo=Un.lastRenderablePart)==null?void 0:lo.author)==null?void 0:Uo.name)||(($o=(co=x==null?void 0:x.messenger)==null?void 0:co.fibi)==null?void 0:$o.name)||"Unknown";it({messageId:((Rn=Un.lastRenderablePart)==null?void 0:Rn.id)||`msg-${Date.now()}`,partType:Vn.UserMessage,body:kl||((xr=Un.lastRenderablePart)==null?void 0:xr.body)||((Ht=Un.source)==null?void 0:Ht.body)||"",timestamp:((Wn=Un.lastRenderablePart)==null?void 0:Wn.createdAt)||Un.lastActivityAt||Un.updatedAt,conversationId:Un.id,user:{name:wu,picture:(Xn=(gr=Un.lastRenderablePart)==null?void 0:gr.author)==null?void 0:Xn.picture},metadata:{quickReplyOptions:((ya=Un.lastRenderablePart)==null?void 0:ya.replyOptions)||[]}}),ot.data.isVisible!==void 0&&!ot.data.isVisible&&q(!1)}else ot.data&&ot.data.type==="MESSENGER_THEME_CHANGE"?be(ot.data.theme):ot.data&&ot.data.type==="HIDE_NOTIFICATION"?q(!1):ot.data&&ot.data.type};return window.addEventListener("message",Ee),()=>{window.removeEventListener("message",Ee)}},[]),(0,he.vJ)(()=>{var Ee,ot,Et,en,Ut,Zn;const ta=Ae==="dark"?(Et=(ot=(Ee=x==null?void 0:x.messenger)==null?void 0:Ee.config)==null?void 0:ot.style)==null?void 0:Et.compiledThemeDark:(Zn=(Ut=(en=x==null?void 0:x.messenger)==null?void 0:en.config)==null?void 0:Ut.style)==null?void 0:Zn.compiledTheme;B(ta||"")},[Ae,x]),(0,he.vJ)(()=>{if(kt.current&&!Z&&Ie.length>0){const Ee=kt.current;Ee.querySelector(".message-item")&&requestAnimationFrame(()=>{Ee.scrollTop=0})}},[O,Z,Ie.length]);const rt=Ee=>{Ee.stopPropagation(),Je(),window.parent&&De&&yn("NOTIFICATION_CLOSE",{chatId:De.id,isVisible:!1},"parent")},Je=()=>{q(!1),P(Ee=>({conversations:{results:Ee.conversations.results.map(ot=>Zr(Gn({},ot),{messages:[]}))}})),Pe({}),C(0),ve(null)},Wt=()=>{De&&(s(De.id),Je(),window.parent&&yn("NOTIFICATION_CLICKED",{chatId:De.id},"parent"))},Ot=Ee=>{z(Ee.target.value)},Qt=()=>{if(!M.trim())return;const Ee=`msg-user-${Date.now()}`,ot={id:Ee,text:M,timestamp:new Date().getTime(),author:{name:"You",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=you"}};document.visibilityState==="visible"?Pe(Et=>Zr(Gn({},Et),{[Ee]:!0})):Pe(Et=>Zr(Gn({},Et),{[Ee]:!1})),P(Et=>({conversations:{results:[Zr(Gn({},Et.conversations.results[0]),{messages:[ot,...Et.conversations.results[0].messages||[]]})]}})),C(Et=>Et+1),z(""),document.visibilityState==="visible"&&requestAnimationFrame(()=>{setTimeout(()=>{ve(Ee),Pe(Et=>{const en=Gn({},Et);return delete en[Ee],en}),setTimeout(()=>{ve(null)},800)},50)}),De&&(window.parent&&yn("NOTIFICATION_CLICKED",{chatId:De.id,messageText:M.trim()},"parent"),q(!1))},pn=Ee=>{Ee.key==="Enter"&&Qt()},xn=Ee=>{Ee.stopPropagation(),Qt()},dt=(Ee,ot)=>{De&&(window.parent&&yn("NOTIFICATION_CLICKED",{chatId:De.id,messageText:Ee,selectedOptionId:ot,quickReplySelected:!0},"parent"),q(!1))};(0,he.vJ)(()=>{const Ee=()=>{if(document.visibilityState==="visible"){const ot=Object.keys(ye).filter(Et=>ye[Et]);ot.length>0&&Pe(Et=>{const en=Gn({},Et);return ot.forEach(Ut=>{en[Ut]=!1}),en})}};return document.addEventListener("visibilitychange",Ee),()=>{document.removeEventListener("visibilitychange",Ee)}},[ye]),(0,he.vJ)(()=>()=>{ve(null),Pe({})},[]),(0,he.vJ)(()=>{window.parent&&yn("NOTIFICATION_PREVIEW_READY",{isInitiallyHidden:!0},"parent");const Ee=ot=>{var Et,en;((Et=ot.data)==null?void 0:Et.target)==="FeaturebaseMessengerWidget"&&((en=ot.data)==null?void 0:en.type)==="NOTIFICATION_TOGGLE"&&(ot.data.isVisible?q(!0):Je())};return window.addEventListener("message",Ee),()=>{window.removeEventListener("message",Ee)}},[]),pa(or.MESSAGE_SENT,Ee=>{var ot;try{const Et=(ot=Ee==null?void 0:Ee.metadata)==null?void 0:ot.quickReplyOptions;if(Array.isArray(Et)&&Ee!=null&&Ee.conversationId){const en=Et.filter(Ut=>Ut&&Ut.id&&Ut.text).map(Ut=>({id:Ut.id,text:Ut.text,type:Ut.type}));en.length>0?(Dt(Ut=>Zr(Gn({},Ut),{[Ee.conversationId]:en})),Nt(Ut=>Zr(Gn({},Ut),{[Ee.conversationId]:!1}))):Ee!=null&&Ee.conversationId&&(Dt(Ut=>{if(!Ut[Ee.conversationId])return Ut;const Zn=Gn({},Ut);return delete Zn[Ee.conversationId],Zn}),Nt(Ut=>Zr(Gn({},Ut),{[Ee.conversationId]:!0})))}else Ee!=null&&Ee.conversationId&&(Dt(en=>{if(!en[Ee.conversationId])return en;const Ut=Gn({},en);return delete Ut[Ee.conversationId],Ut}),Nt(en=>Zr(Gn({},en),{[Ee.conversationId]:!0})))}catch(Et){}it(Ee)},[]);const Sr=Ee=>{const ot=Date.now()-Ee,Et=Math.floor(ot/6e4),en=Math.floor(ot/36e5),Ut=Math.floor(ot/864e5),Zn=Math.floor(Ut/30),ta=Math.floor(Ut/365);return Et<1?E("notifications.message-time.now"):Et<60?E("notifications.message-time.minutes-ago",{count:Et}):en<24?E("notifications.message-time.hours-ago",{count:en}):Ut<30?E("notifications.message-time.days-ago",{count:Ut}):Zn<12?E("notifications.message-time.months-ago",{count:Zn}):E("notifications.message-time.years-ago",{count:ta})};return y("div",{className:`absolute bottom-0 right-0 w-full cursor-pointer animate-slide-down ${I?"":"hidden"}`,onClick:Wt,children:[y("style",{children:`
        :root {
          ${ut}
        }
        html {
          overflow: hidden;
        }
        html,body {
          scroll-behavior: smooth;
        }
        
        /* Scrollbar styling */
        .messages-container {
          scrollbar-width: thin;
          scrollbar-color: ${G?"hsl(var(--foreground)/0.2)":"hsl(var(--secondary))"} transparent;
          overscroll-behavior: contain;
          -webkit-overflow-scrolling: touch;
        }
        
        .messages-container::-webkit-scrollbar {
          width: 6px;
        }
        
        .messages-container::-webkit-scrollbar-track {
          background: transparent;
        }
        
        .messages-container::-webkit-scrollbar-thumb {
          background-color: hsl(var(--secondary));
          border-radius: 3px;
        }
        
        /* Base message styling - smoother transitions */
        .message-item {
          transition: opacity 0.45s ease-out, 
                      transform 0.5s cubic-bezier(0.2, 0.8, 0.2, 1), 
                      max-height 0.6s cubic-bezier(0.2, 0.8, 0.2, 1),
                      padding 0.5s cubic-bezier(0.2, 0.8, 0.2, 1),
                      margin 0.5s cubic-bezier(0.2, 0.8, 0.2, 1),
                      filter 0.5s cubic-bezier(0.2, 0.8, 0.2, 1);
          opacity: 1;
          transform: translateY(0);
          max-height: 1000px; /* Large enough for any message */
          margin-bottom: 1rem;
          transform-origin: top;
          will-change: transform, opacity, max-height, filter;
          filter: blur(0px);
        }
        
        /* Animation state for messages pending animation */
        .message-item-pending {
          opacity: 0 !important;
          transform: translateY(-8px) !important;
          max-height: 0 !important;
          margin-top: 0 !important;
          margin-bottom: 0 !important;
          padding-top: 0 !important;
          padding-bottom: 0 !important;
          overflow: hidden !important;
          pointer-events: none !important;
          filter: blur(4px) !important;
        }
        
        /* First render state - no animations */
        .first-render .message-item {
          transition: none !important;
        }
        
        /* Message appears animation */
        @keyframes messageAppear {
          0% {
            opacity: 0;
            transform: translateY(-8px);
            filter: blur(4px);
          }
          100% {
            opacity: 1;
            transform: translateY(0);
            filter: blur(0px);
          }
        }
        
        /* Apply animation to messages that are appearing */
        .message-item:not(.message-item-pending) {
          animation: messageAppear 0.5s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
        }
        
        /* Animation class for messages that are actively animating */
        .animate-appear {
          animation: messageAppear 0.6s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
        }
        
        /* Ensure text wrapping on long messages */
        .message-item p {
          word-break: break-word;
          overflow-wrap: break-word;
          hyphens: auto;
        }
        
        /* Performance optimizations */
        * {
          -webkit-font-smoothing: antialiased;
          -moz-osx-font-smoothing: grayscale;
        }
      `}),y("div",{ref:Bt,className:"absolute right-0 bottom-0 pr-2 pb-4 w-full group",children:[y("button",{onClick:rt,className:"flex absolute right-2 top-16 z-50 justify-center items-center w-8 h-8 rounded-full border shadow-2xl opacity-0 backdrop-blur-sm transition-opacity duration-200 ease-out cursor-pointer group-hover:opacity-100 border-border bg-secondary shadow-background hover:bg-border","aria-label":"Close notification",children:y(zi,{className:"w-4 h-4 text-foreground/80"})}),y("div",{className:"w-full h-full rounded-2xl",children:y("div",{ref:kt,className:`flex flex-col-reverse group max-h-[100vh] pl-4 pr-2  pb-1 pt-20 h-full overflow-auto messages-container w-full ${Z?"first-render":""}`,style:{willChange:"scroll-position"},children:Ie.map(Ee=>{var ot;const Et=ye[Ee.id]===!0;return y("div",{"data-id":Ee.id,className:Yt("flex items-start py-4 flex-shrink-0 px-4 overflow-hidden shadow-background/50 shadow-xl transition-all duration-300 ease-out bg-secondary/[95%] border border-border backdrop-blur-lg rounded-xl message-item mb-4",Et?"message-item-pending":"",tt===Ee.id?"animate-appear":"",G?"!shadow-lg border  !shadow-secondary-foreground/5 border-secondary-foreground/[8%]":""),children:[y("div",{className:"mr-2 w-7 h-7",children:y(el,{size:"w-7 h-7",notAbsolute:!0,src:Ee.author.avatar||"",isBot:!Ee.author.avatar||((ot=Ee.author.avatar)==null?void 0:ot.includes("support-bot-icon"))})}),y("div",{className:"flex-1 w-full min-w-0 h-full",children:[y("p",{className:"w-full h-full text-sm text-secondary-active-foreground",children:y(j0,{forceLoadContent:!0,type:"muted",content:Ee.text})}),y("div",{className:"flex items-center gap-3 justify-between mt-2.5",children:[y("span",{className:"text-sm font-semibold leading-none truncate text-secondary-foreground/90",children:Ee.author.name}),y("span",{className:"text-xs leading-none truncate first-letter:uppercase text-secondary-foreground/80",children:Sr(Ee.timestamp)})]})]})]},Ee.id)})})}),y("div",{className:"px-4 pr-2",children:qe&&qe.length>0?y("div",{className:"flex justify-end pb-3 -mt-3",children:y(n0,{strongShadowStyle:!0,replyOptions:qe,onReplyOptionClick:dt})}):y("div",{className:Yt("flex items-center gap-2 p-2 shadow-background/50 border border-border shadow-lg rounded-2xl bg-secondary/95 backdrop-blur-sm",G?"!shadow-lg border !shadow-secondary-foreground/5 border-secondary-foreground/[8%]":""),children:[y("div",{className:Yt("flex-1 p-2 px-3 text-sm rounded-full text-foreground/80 border-border focus:outline-none ",te?"bg-background/[35%]":"bg-foreground/5"),children:E("notifications.send-message-placeholder")}),y("button",{onClick:xn,className:"flex justify-center items-center w-8 h-8 rounded-full text-primary-foreground bg-primary send-btn",children:y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4",children:y("path",{d:"M3.478 2.404a.75.75 0 0 0-.926.941l2.432 7.905H13.5a.75.75 0 0 1 0 1.5H4.984l-2.432 7.905a.75.75 0 0 0 .926.94 60.519 60.519 0 0 0 18.445-8.986.75.75 0 0 0 0-1.218A60.517 60.517 0 0 0 3.478 2.404Z"})})})]})})]})]})},n6=({messengerData:i,config:s})=>{var l,c,u,d,h,m,p,g,b,w,_,k;const[E,T]=Da(i),[S,x]=Da(s,!0),[A,R]=(0,he.J0)(0),[N,F]=(0,he.J0)(!1),[P,O]=(0,he.J0)(S.theme==="dark"?(u=(c=(l=E==null?void 0:E.messenger)==null?void 0:l.config)==null?void 0:c.style)==null?void 0:u.compiledThemeDark:(m=(h=(d=E==null?void 0:E.messenger)==null?void 0:d.config)==null?void 0:h.style)==null?void 0:m.compiledTheme);return(0,he.vJ)(()=>{yn("IFRAME_READY",{iframeName:"badge"},"parent")},[]),(0,he.vJ)(()=>{const C=D=>{var L,M,z,I,q,Z;if(D.data&&D.data.type==="MESSENGER_THEME_CHANGE"){const ae=D.data.theme==="dark";O(ae?(z=(M=(L=E==null?void 0:E.messenger)==null?void 0:L.config)==null?void 0:M.style)==null?void 0:z.compiledThemeDark:(Z=(q=(I=E==null?void 0:E.messenger)==null?void 0:I.config)==null?void 0:q.style)==null?void 0:Z.compiledTheme)}else D.data&&D.data.type==="UNREAD_COUNT_CHANGE"?R(D.data.unreadCount||0):D.data&&D.data.type==="MESSENGER_OPENED"?F(!0):D.data&&D.data.type==="MESSENGER_CLOSED"&&F(!1)};return window.addEventListener("message",C),()=>{window.removeEventListener("message",C)}},[(b=(g=(p=E==null?void 0:E.messenger)==null?void 0:p.config)==null?void 0:g.style)==null?void 0:b.compiledTheme,(k=(_=(w=E==null?void 0:E.messenger)==null?void 0:w.config)==null?void 0:_.style)==null?void 0:k.compiledThemeDark]),y("div",{children:[y("style",{children:`
        :root {
          ${P}
        }
      `}),A>0&&!N&&y("div",{className:"relative",children:y("div",{className:"inline-flex items-center justify-center w-auto h-5 px-1.5 text-[11px] font-semibold text-white rounded-full bg-accent-foreground min-w-5 -bottom-4",children:A})})]})},r6=({messengerData:i,config:s,content:l})=>{var c,u,d,h,m,p;const[g,b]=Da(i),[w,_]=Da(s,!0),[k,E]=(0,he.J0)(w.theme==="dark"?(d=(u=(c=g==null?void 0:g.messenger)==null?void 0:c.config)==null?void 0:u.style)==null?void 0:d.compiledThemeDark:(p=(m=(h=g==null?void 0:g.messenger)==null?void 0:h.config)==null?void 0:m.style)==null?void 0:p.compiledTheme),[T,S]=je(tk),x=(0,he.li)(null),A=qv("popup",!0);(0,he.vJ)(()=>{yn("IFRAME_READY",{iframeName:"popup"},"parent")},[]);const R=C=>{x.current=C,A(C)};Lr("MESSENGER_THEME_CHANGE",C=>{var D,L,M,z,I,q;const Z=C.theme==="dark";E(Z?(M=(L=(D=g==null?void 0:g.messenger)==null?void 0:D.config)==null?void 0:L.style)==null?void 0:M.compiledThemeDark:(q=(I=(z=g==null?void 0:g.messenger)==null?void 0:z.config)==null?void 0:I.style)==null?void 0:q.compiledTheme)}),Lr("MESSENGER_FULLSCREEN_POPUP_OPENED",C=>{C.content&&S(C)}),Lr("MESSENGER_FULLSCREEN_POPUP_CLOSED",()=>{S(null),x.current&&setTimeout(()=>{x.current&&(x.current.style.width="",x.current.style.height="")},100)});const N=()=>{yn("MESSENGER_CLOSE_FULLSCREEN_POPUP",{},"parent")},F=!k&&w.style?Object.entries(w.style).map(([C,D])=>`--${C}: ${D};`).join(`
`):"",P=k||F,O=(()=>{const C=to(k,"background")||"#000";return Vs(C)})();return y("div",{className:"absolute bottom-0 right-0 w-full h-full !select-none",children:[y("style",{children:`
        :root {
          ${P}
        }
        html {
          overflow: hidden;
          user-select: none;
        }
        html,body {
          scroll-behavior: smooth;
          user-select: none;
        }
        
        /* Scrollbar styling */
        .popup-content {
          scrollbar-width: thin;
          scrollbar-color: hsl(var(--secondary)) transparent;
          overscroll-behavior: contain;
          -webkit-overflow-scrolling: touch;
        }
        
        .popup-content::-webkit-scrollbar {
          width: 6px;
        }
        
        .popup-content::-webkit-scrollbar-track {
          background: transparent;
        }
        
        .popup-content::-webkit-scrollbar-thumb {
          background-color: hsl(var(--secondary));
          border-radius: 3px;
        }
      `}),y("div",{className:"absolute inset-0 max-h-full bg-background h-full group",children:[y("div",{className:"absolute inset-0 flex items-center justify-center",children:y("div",{className:"text-foreground/60 !h-8 !w-8",children:y(ti,{})})}),y("div",{className:"relative w-auto h-full max-h-full overflow-auto rounded-none",children:[y("button",{onClick:N,className:"absolute z-50 p-2.5 transition-colors rounded-full bg-background backdrop-blur transform-gpu hover:bg-background top-3 right-3","aria-label":"Close popup",children:y(zi,{className:"w-6 h-6 text-foreground/80"})}),y("div",{onClick:C=>{N()},className:"z-50  inline-block w-auto popup-content !select-none",ref:R,children:y(Xs,{fullscreenPopup:!0,content:T==null?void 0:T.content})})]})]})]})},a6=50,o6=14,i6={launcher:{h:0,v:0},messenger:{h:0,v:0},notification:{h:-16,v:-16}};function Zv(i,s){var l,c,u,d,h,m,p;const g=(l=i.alignment)!=null?l:(s==null?void 0:s.position)==="bottom-left"?"left":"right",b=(d=(u=i.horizontalPadding)!=null?u:(c=s==null?void 0:s.spacing)==null?void 0:c.side)!=null?d:20,w=(p=(m=i.verticalPadding)!=null?m:(h=s==null?void 0:s.spacing)==null?void 0:h.bottom)!=null?p:20;return{alignment:g,horizontalPadding:b,verticalPadding:w}}function Xv(i,s,l){const{alignment:c,horizontalPadding:u,verticalPadding:d}=l,{h,v:m}=i6[s];let p=d;s==="messenger"||s==="notification"?(p+=a6+o6,i.style.setProperty("--fb-element-transform-origin",c==="left"?"left bottom":"right bottom")):i.style.removeProperty("--fb-element-transform-origin"),i.style.setProperty("--fb-element-bottom",`${p+m}px`),c==="left"?(i.style.setProperty("--fb-element-left",`${u+h}px`),i.style.setProperty("--fb-element-right","auto")):(i.style.setProperty("--fb-element-right",`${u+h}px`),i.style.setProperty("--fb-element-left","auto"))}var s6=Object.defineProperty,l6=Object.defineProperties,c6=Object.getOwnPropertyDescriptors,Qv=Object.getOwnPropertySymbols,u6=Object.prototype.hasOwnProperty,d6=Object.prototype.propertyIsEnumerable,e1=(i,s,l)=>s in i?s6(i,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[s]=l,jo=(i,s)=>{for(var l in s||(s={}))u6.call(s,l)&&e1(i,l,s[l]);if(Qv)for(var l of Qv(s))d6.call(s,l)&&e1(i,l,s[l]);return i},t1=(i,s)=>l6(i,c6(s));const f6="featurebase-messenger-container";let du="";const ER=()=>He()==="production"?"https://do.featurebase.app/messenger.css":"http://localhost:5500/dist/messenger.css",n1=(i,s=300)=>{let l;return function(...c){clearTimeout(l),l=setTimeout(()=>i.apply(this,c),s)}},h6=()=>window.matchMedia("(max-width: 768px)").matches,r1=(i,s)=>{i.classList.add("featurebase-notification-frame-wrapper-closed"),s.style.opacity="0",Bn(["notification"],{type:"HIDE_NOTIFICATION"})},zo={messenger:!1,notification:!1,popup:!1,badge:!1,launcher:!1},Fo={messenger:[],notification:[],popup:[],badge:[],launcher:[]},a1=i=>{Fo[i].length>0&&(Fo[i].forEach(({targets:s,message:l})=>{const c=s.filter(u=>u===i);c.length>0&&nh(c,l)}),Fo[i]=[])},nh=(i,s)=>{const l=t1(jo({},s),{isParentMessage:!0});let c=!1;return i.forEach(u=>{let d=".featurebase-messenger-frame";u==="notification"?d=".featurebase-notification-frame":u==="popup"?d=".featurebase-messenger-popup-iframe":u==="badge"?d=".featurebase-messenger-badge-frame":u==="launcher"&&(d=".featurebase-messenger-launcher-frame");const h=document.querySelector(d);h!=null&&h.contentWindow?(h.contentWindow.parent.postMessage(l,"*"),c=!0):console.warn(`[Featurebase SDK] Failed to send message to ${u} - iframe not found or not ready`)}),c},Bn=(i,s)=>{if(i.every(l=>zo[l]))return nh(i,s);{const l=i.filter(u=>!zo[u]);l.length>0&&l.forEach(u=>{Fo[u].push({targets:[u],message:s})});const c=i.filter(u=>zo[u]);return c.length>0?nh(c,s):!0}},o1=(i,s,l,c)=>{try{du=document.title,window.__featurebase_original_page_title=du;let u=jo({},i);const d={launcher:!1,badge:!1,notification:!1,messenger:!1};let h=null,m=null,p=null,g=null,b=null,w=null;const _=()=>{if(d.launcher&&d.badge&&d.notification&&d.messenger){const B=localStorage.getItem("fb-messenger-active-chat-id"),G=localStorage.getItem("fb-messenger-chat-page-shown");if(B&&G&&B!=="null"){const te=JSON.parse(B);zo.messenger?k.openMessages({chatId:te}):(console.log("[Featurebase SDK] Queueing openMessages command with chatId:",te),Fo.messenger.push({targets:["messenger"],message:{type:"MESSENGER_OPEN_MESSAGES",chatId:te}}))}}},k={messengerReady:!1,_hideCallbacks:[],_showCallbacks:[],_unreadCountChangeCallbacks:[],onHide:B=>typeof B=="function"?(k._hideCallbacks.push(B),!0):!1,onShow:B=>typeof B=="function"?(k._showCallbacks.push(B),!0):!1,onUnreadCountChange:B=>typeof B=="function"?(k._unreadCountChangeCallbacks.push(B),!0):!1,_triggerHideCallbacks:()=>{k._hideCallbacks.forEach(B=>{try{B()}catch(G){console.error("[Featurebase SDK] Error in hide callback:",G)}})},_triggerShowCallbacks:()=>{k._showCallbacks.forEach(B=>{try{B()}catch(G){console.error("[Featurebase SDK] Error in show callback:",G)}})},_triggerUnreadCountChangeCallbacks:B=>{k._unreadCountChangeCallbacks.forEach(G=>{try{G(B)}catch(te){console.error("[Featurebase SDK] Error in unread count change callback:",te)}})},sendMessage:B=>Bn(["messenger"],B),updateConfig:(B,G)=>{var te,ye,Pe;if(Bn(["messenger","notification","popup","badge","launcher"],{target:"FeaturebaseMessengerWidget",type:"CONFIG_CHANGED",messengerConfig:B,userConfig:G}),G){u=jo({},G);const Lt=document.getElementById("featurebase-messenger-launcher-frame-wrapper");G.hideDefaultLauncher!==void 0&&Lt&&(Lt.style.display=G.hideDefaultLauncher?"none":"");const Dt=document.getElementById("featurebase-iframe-wrapper"),cn=document.getElementById("featurebase-notification-wrapper"),Nt=[];if(Lt&&Nt.push({element:Lt,type:"launcher"}),Dt&&Nt.push({element:Dt,type:"messenger"}),cn&&Nt.push({element:cn,type:"notification"}),G.alignment!==void 0||G.horizontalPadding!==void 0||G.verticalPadding!==void 0){const Bt=(Pe=(ye=(te=B.messenger)==null?void 0:te.config)==null?void 0:ye.style)==null?void 0:Pe.launcher,De=Zv(jo(jo({},u),G),Bt);Nt.forEach(({element:Ie,type:nt})=>{Ie.id==="featurebase-messenger-launcher-frame-wrapper"&&u.hideDefaultLauncher===!0&&G.hideDefaultLauncher===void 0||Xv(Ie,nt,De)})}}return!0},getBootConfig:()=>u,handleViewportChange:()=>{const B=h6();return Bn(["messenger"],{type:"MESSENGER_VIEWPORT_CHANGE",isMobile:B})},navigateTo:B=>Bn(["messenger"],{type:"MESSENGER_NAVIGATE",page:B}),setTheme:B=>{const G=document.querySelector(".featurebase-messenger-frame-wrapper");return G&&(B==="dark"?G.style.boxShadow="rgba(0, 0, 0, 0.25) 0px 5px 42px":G.style.boxShadow=""),u.theme=B,Bn(["messenger","notification","badge","launcher"],{type:"MESSENGER_THEME_CHANGE",theme:B})},toggle:B=>{const G=document.querySelector(".featurebase-messenger-frame-wrapper"),te=!G.classList.contains("featurebase-messenger-frame-wrapper-closed"),ye=(B==null?void 0:B.isOpen)!==void 0?B.isOpen:!te;return k.hideNotifications(),ye?(G.classList.remove("featurebase-messenger-frame-wrapper-closed"),k._triggerShowCallbacks(),Bn(["notification","badge","launcher"],{type:"MESSENGER_OPENED"})):(G.classList.add("featurebase-messenger-frame-wrapper-closing"),G.offsetWidth,G.classList.add("featurebase-messenger-frame-wrapper-closed"),setTimeout(()=>{G.classList.remove("featurebase-messenger-frame-wrapper-closing")},0),k._triggerHideCallbacks(),Bn(["notification","badge","launcher"],{type:"MESSENGER_CLOSED"})),ye&&B!=null&&B.page?(Bn(["messenger"],{type:"MESSENGER_TOGGLE",isOpen:ye}),Bn(["messenger"],{type:"MESSENGER_NAVIGATE",page:B.page}),ye):(Bn(["messenger"],{type:"MESSENGER_TOGGLE",isOpen:ye}),ye)},hideNotifications:()=>(r1(C,I),C.classList.add("featurebase-notification-frame-wrapper-closed"),I.style.opacity="0",I.style.pointerEvents="none",!0),openHelpCenter:B=>{const G=!document.querySelector(".featurebase-messenger-frame-wrapper").classList.contains("featurebase-messenger-frame-wrapper-closed");return k.hideNotifications(),G||k.toggle({isOpen:!0}),Bn(["messenger"],jo({type:"MESSENGER_OPEN_HELP_CENTER"},B))},openChangelog:B=>{const G=!document.querySelector(".featurebase-messenger-frame-wrapper").classList.contains("featurebase-messenger-frame-wrapper-closed");return k.hideNotifications(),G||k.toggle({isOpen:!0}),Bn(["messenger"],{type:"MESSENGER_OPEN_CHANGELOG",changelogId:B})},openMessages:B=>{const G=!document.querySelector(".featurebase-messenger-frame-wrapper").classList.contains("featurebase-messenger-frame-wrapper-closed");return k.hideNotifications(),G||k.toggle({isOpen:!0}),Bn(["messenger"],jo({type:"MESSENGER_OPEN_MESSAGES"},B))},showNewMessage:B=>{const G=!document.querySelector(".featurebase-messenger-frame-wrapper").classList.contains("featurebase-messenger-frame-wrapper-closed");k.hideNotifications(),G||k.toggle({isOpen:!0});const te=B?B.toString().trim():"";return Bn(["messenger"],{type:"MESSENGER_OPEN_MESSAGES",new:!0,initialText:te})},openFullscreenPopup:B=>(ae.classList.remove("featurebase-messenger-popup-wrapper-hidden"),Bn(["popup"],{type:"MESSENGER_FULLSCREEN_POPUP_OPENED",content:B})),closeFullscreenPopup:()=>(ae.classList.add("featurebase-messenger-popup-wrapper-hidden"),M=!1,z=!1,se.style.maxHeight="",se.style.maxWidth="",se.style.opacity="0",se.style.pointerEvents="none",Bn(["popup"],{type:"MESSENGER_FULLSCREEN_POPUP_CLOSED"})),setLanguage:B=>(u.language=B,Bn(["messenger","notification","popup","badge","launcher"],{type:"MESSENGER_LANGUAGE_CHANGE",language:B})),_cleanupInProgress:!1,cleanup:()=>{var B,G,te,ye,Pe,Lt,Dt,cn,Nt,Bt;if(k._cleanupInProgress){console.log("[Featurebase SDK] Cleanup already in progress, skipping...");return}k._cleanupInProgress=!0,console.log("[Featurebase SDK] Cleaning up messenger resources...");try{console.log("[Featurebase SDK] Unmounting React components...");try{const De=document.querySelector(".featurebase-notification-frame");(G=(B=De==null?void 0:De.contentDocument)==null?void 0:B.body)!=null&&G.firstChild&&(0,mn.render)(null,De.contentDocument.body.firstChild)}catch(De){console.warn("[Featurebase SDK] Error unmounting notification component:",De)}try{const De=document.querySelector(".featurebase-messenger-launcher-frame");(ye=(te=De==null?void 0:De.contentDocument)==null?void 0:te.body)!=null&&ye.firstChild&&(0,mn.render)(null,De.contentDocument.body.firstChild)}catch(De){console.warn("[Featurebase SDK] Error unmounting launcher component:",De)}try{const De=document.querySelector(".featurebase-messenger-badge-frame");(Lt=(Pe=De==null?void 0:De.contentDocument)==null?void 0:Pe.body)!=null&&Lt.firstChild&&(0,mn.render)(null,De.contentDocument.body.firstChild)}catch(De){console.warn("[Featurebase SDK] Error unmounting badge component:",De)}try{const De=document.querySelector(".featurebase-messenger-frame");(cn=(Dt=De==null?void 0:De.contentDocument)==null?void 0:Dt.body)!=null&&cn.firstChild&&(0,mn.render)(null,De.contentDocument.body.firstChild)}catch(De){console.warn("[Featurebase SDK] Error unmounting messenger component:",De)}try{const De=document.querySelector(".featurebase-messenger-popup-iframe");(Bt=(Nt=De==null?void 0:De.contentDocument)==null?void 0:Nt.body)!=null&&Bt.querySelector("#popup-root")&&(0,mn.render)(null,De.contentDocument.body.querySelector("#popup-root"))}catch(De){console.warn("[Featurebase SDK] Error unmounting popup component:",De)}if(h&&(window.removeEventListener("message",h),h=null),m&&(m.disconnect(),m=null),p&&(window.removeEventListener("orientationchange",p),p=null),g&&(window.removeEventListener("resize",g),g=null),b&&window.matchMedia){const De=window.matchMedia("(max-width: 768px)");De.removeEventListener?De.removeEventListener("change",b):De.removeListener&&De.removeListener(b),b=null}if(w){const De=document.getElementById("featurebase-messenger-popup-wrapper");De&&De.removeEventListener("click",w),w=null}k._hideCallbacks=[],k._showCallbacks=[],k._unreadCountChangeCallbacks=[],Object.keys(zo).forEach(De=>{zo[De]=!1}),Object.keys(Fo).forEach(De=>{Fo[De]=[]}),console.log("[Featurebase SDK] Messenger cleanup complete")}catch(De){console.error("[Featurebase SDK] Error during cleanup:",De)}finally{k._cleanupInProgress=!1}}},E=()=>{var B;d.notification=!0,_();const G=I.contentDocument||((B=I.contentWindow)==null?void 0:B.document);if(G)try{const te=G.createElement("style");te.textContent=l,G.head.appendChild(te);const ye=G.createElement("div");G.body.appendChild(ye),(0,mn.render)(y(t6,{config:i,messengerData:s,onPreviewClick:Pe=>{k.toggle()}}),ye)}catch(te){console.error("[Featurebase SDK] Error setting up NotificationPreview:",te)}},T=()=>{var B;d.launcher=!0,_();const G=be.contentDocument||((B=be.contentWindow)==null?void 0:B.document);if(G)try{const te=G.createElement("style");te.textContent=l,G.head.appendChild(te),G.documentElement.style.overflow="hidden";const ye=G.createElement("div");G.body.appendChild(ye),(0,mn.render)(y(o3,{messengerData:s,onClick:()=>{k.toggle()},config:i}),ye)}catch(te){console.error("[Featurebase SDK] Error setting up LauncherButton:",te)}},S=()=>{var B;d.badge=!0,_();const G=Ae.contentDocument||((B=Ae.contentWindow)==null?void 0:B.document);if(G)try{const te=G.createElement("style");te.textContent=l,G.head.appendChild(te),G.documentElement.style.overflow="visible";const ye=G.createElement("div");G.body.appendChild(ye),(0,mn.render)(y(n6,{messengerData:s,config:i}),ye)}catch(te){console.error("[Featurebase SDK] Error setting up NotificationBadge:",te)}},x=()=>{var B;d.messenger=!0,_();const G=Le.contentDocument||((B=Le.contentWindow)==null?void 0:B.document);if(G)try{const te=G.createElement("style");te.textContent=l,G.head.appendChild(te),G.documentElement.style.overflow="hidden";const ye=G.createElement("div");G.body.appendChild(ye),(0,mn.render)(y(G8,{messengerData:s,config:t1(jo({},i),{initialOpen:Z})}),ye)}catch(te){console.error("[Featurebase SDK] Error setting up MessengerApp:",te)}},A=document.createElement("div");A.id="fb-messenger-root",A.className="featurebase-messenger-root";const R=s.messenger.config.style.launcher,N=Zv(i,R),F=(B,G)=>{Xv(B,G,N)},P=document.createElement("div");P.className="featurebase-messenger-launcher-frame-wrapper",P.id="featurebase-messenger-launcher-frame-wrapper",F(P,"launcher"),i.hideDefaultLauncher===!0&&(P.style.display="none");const O=document.createElement("div");O.id=f6,O.className="featurebase-messenger-container",O.__featurebaseAPI=k,A.appendChild(O);const C=document.createElement("div");C.className="featurebase-notification-frame-wrapper",C.id="featurebase-notification-wrapper",F(C,"notification");let D=!1,L=!1,M=!1,z=!1;const I=document.createElement("iframe");I.onload=E,I.className="featurebase-notification-frame",I.setAttribute("title","Featurebase Message Notification"),I.setAttribute("role","status"),I.setAttribute("aria-live","polite"),I.setAttribute("scrolling","no"),I.src="about:blank",C.appendChild(I),A.appendChild(C);const q=document.createElement("div");q.id="featurebase-iframe-wrapper";const Z=(i==null?void 0:i.initialOpen)===!0;q.className=Z?"featurebase-messenger-frame-wrapper":"featurebase-messenger-frame-wrapper featurebase-messenger-frame-wrapper-closed",F(q,"messenger"),(i==null?void 0:i.theme)==="dark"&&(q.style.boxShadow="rgba(0, 0, 0, 0.25) 0px 5px 42px");const ae=document.createElement("div");ae.className="featurebase-messenger-popup-wrapper featurebase-messenger-popup-wrapper-hidden";const se=document.createElement("iframe");se.setAttribute("allowfullscreen","true"),se.setAttribute("name","fb-fullscreen-popup-frame"),se.className="featurebase-messenger-popup-iframe",se.setAttribute("title","Featurebase fullscreen popup"),se.setAttribute("role","dialog"),se.src="about:blank",se.onload=()=>{var B;const G=se.contentDocument||((B=se.contentWindow)==null?void 0:B.document);if(G)try{const te=G.createElement("style");te.textContent=l,G.head.appendChild(te);const ye=G.createElement("div");ye.id="popup-root",G.body.appendChild(ye),(0,mn.render)(y(r6,{messengerData:s,config:i,content:null}),ye)}catch(te){console.error("[Featurebase SDK] Error setting up MessengerFullscreenPopup:",te)}};const Ae=document.createElement("iframe");Ae.onload=S,Ae.className="featurebase-messenger-badge-frame",Ae.setAttribute("title","Featurebase Messenger Badge"),Ae.setAttribute("allowtransparency","true"),Ae.src="about:blank",P.appendChild(Ae);const be=document.createElement("iframe");be.onload=T,be.className="featurebase-messenger-launcher-frame",be.setAttribute("title","Featurebase Messenger Launcher"),be.setAttribute("role","button"),be.setAttribute("aria-label","Open Featurebase Messenger"),be.src="about:blank",P.appendChild(be),A.appendChild(P);const Le=document.createElement("iframe");return Le.onload=x,Le.setAttribute("allowfullscreen","true"),Le.setAttribute("name","fb-messenger-frame"),Le.className="featurebase-messenger-iframe featurebase-messenger-frame",Le.setAttribute("title","Featurebase live chat"),Le.setAttribute("role","dialog"),Le.src="about:blank",q.appendChild(Le),A.appendChild(q),ae.appendChild(se),A.appendChild(ae),w=B=>{B.target===ae&&k.closeFullscreenPopup()},ae.addEventListener("click",w),document.body.appendChild(A),Z&&k.hideNotifications(),(()=>{if(k.handleViewportChange(),window.ResizeObserver){const B=n1(()=>{k.handleViewportChange()},250);m=new ResizeObserver(B),m.observe(document.documentElement),p=()=>{setTimeout(()=>k.handleViewportChange(),100)},window.addEventListener("orientationchange",p)}else{const B=window.matchMedia("(max-width: 768px)");b=()=>{k.handleViewportChange()},B.addEventListener?B.addEventListener("change",b):B.addListener&&B.addListener(b),g=n1(()=>{k.handleViewportChange()},250),window.addEventListener("resize",g)}})(),h=B=>{var G,te,ye,Pe,Lt,Dt,cn,Nt,Bt,De,Ie,nt,Rt,ge,qe,pt,lt,kt,ut,tt,ve,et,it,rt;if(((G=B.data)==null?void 0:G.type)==="IFRAME_READY"&&((te=B.data)==null?void 0:te.target)==="FeaturebaseMessengerWidget"){const Je=B.data.iframeName;if(Je&&zo.hasOwnProperty(Je))if(zo[Je]=!0,Je==="messenger"){const Wt=Fo.messenger.filter(Qt=>Qt.message.type==="MESSENGER_OPEN_MESSAGES"),Ot=Wt.length>0?Wt[0].message.chatId:null;a1(Je),Ot&&k.openMessages({chatId:Ot}),c&&(k.messengerReady=!0,c(null,{event:"MessengerReady",messengerAPI:k}))}else a1(Je);return}if(((ye=B.data)==null?void 0:ye.target)==="FeaturebaseMessengerWidget"){if(((Pe=B.data)==null?void 0:Pe.target)==="FeaturebaseMessengerWidget"&&((Lt=B.data)==null?void 0:Lt.type)==="notificationHeightChanged"){const Je=B.data.height;Je&&!isNaN(Je)&&(D||(I.style.opacity="1",I.style.pointerEvents="auto",D=!0,C.classList.remove("featurebase-notification-frame-wrapper-closed")),I.style.transition="opacity 0.2s ease",I.style.height=`${Je}px`,C.style.height="auto")}if(((Dt=B.data)==null?void 0:Dt.target)==="FeaturebaseMessengerWidget"&&((cn=B.data)==null?void 0:cn.type)==="notificationWidthChanged"){const Je=B.data.width;Je&&!isNaN(Je)&&(L||(I.style.opacity="1",I.style.pointerEvents="auto",L=!0,I.style.transition="opacity 0.2s ease",I.style.maxWidth=`min(${Je}px, 90vw)`,C.style.width="100%",C.classList.remove("featurebase-notification-frame-wrapper-closed")))}if(((Nt=B.data)==null?void 0:Nt.target)==="FeaturebaseMessengerWidget"&&(((Bt=B.data)==null?void 0:Bt.type)==="unreadCountChanged"||((De=B.data)==null?void 0:De.type)==="UNREAD_COUNT_CHANGE")){const Je=(B.data.type,B.data.unreadCount);typeof Je=="number"&&k._triggerUnreadCountChangeCallbacks(Je)}if(((Ie=B.data)==null?void 0:Ie.target)==="FeaturebaseMessengerWidget"&&((nt=B.data)==null?void 0:nt.type)==="popupHeightChanged"){const Je=B.data.height,Wt=ae.classList.contains("featurebase-messenger-popup-wrapper-hidden");Je&&!isNaN(Je)&&!Wt&&(M||(se.style.transition="opacity 0.2s ease",se.style.maxHeight=`min(${Je}px, 90vh)`,ae.style.height="100%",se.style.opacity="1",se.style.pointerEvents="auto",M=!0))}if(((Rt=B.data)==null?void 0:Rt.target)==="FeaturebaseMessengerWidget"&&((ge=B.data)==null?void 0:ge.type)==="popupWidthChanged"){const Je=B.data.width,Wt=ae.classList.contains("featurebase-messenger-popup-wrapper-hidden");Je&&!isNaN(Je)&&!Wt&&(z||(se.style.maxWidth=`${Je}px`,se.style.width="100%",se.style.opacity="1",se.style.pointerEvents="auto",z=!0))}if(B.data.type==="MESSENGER_TOGGLE"?k.toggle()?k._triggerShowCallbacks():k._triggerHideCallbacks():B.data.type==="NOTIFICATION_AVAILABLE"?!document.querySelector(".featurebase-messenger-frame-wrapper").classList.contains("featurebase-messenger-frame-wrapper-closed")||(C.classList.remove("featurebase-notification-frame-wrapper-closed"),I.style.opacity="1",I.style.pointerEvents="auto",Bn(["notification"],{type:"NOTIFICATION_TOGGLE",isVisible:!0})):B.data.type==="SHOW_NOTIFICATION_PREVIEW_FOR"?document.querySelector(".featurebase-messenger-frame-wrapper").classList.contains("featurebase-messenger-frame-wrapper-closed")&&B.data.conversation&&(C.classList.remove("featurebase-notification-frame-wrapper-closed"),I.style.opacity="1",I.style.pointerEvents="auto",Bn(["notification"],{type:"UPDATE_NOTIFICATIONS",data:{conversations:{results:[B.data.conversation]}},isVisible:!0}),Bn(["notification"],{type:"NOTIFICATION_TOGGLE",isVisible:!0})):B.data.type==="MESSENGER_TOGGLE_WIDE"?B.data.force==="open"?(q.classList.add("featurebase-messenger-frame-wrapper-wide"),k.hideNotifications()):B.data.force==="closed"?q.classList.remove("featurebase-messenger-frame-wrapper-wide"):(q.classList.toggle("featurebase-messenger-frame-wrapper-wide"),k.hideNotifications()):B.data.type==="MESSENGER_TOGGLE_NARROW"?q.classList.contains("featurebase-messenger-frame-wrapper-wide")&&q.classList.remove("featurebase-messenger-frame-wrapper-wide"):((qe=B.data)==null?void 0:qe.type)==="MESSENGER_OPEN_FULLSCREEN_POPUP"?k.openFullscreenPopup(B.data.content):((pt=B.data)==null?void 0:pt.type)==="MESSENGER_CLOSE_FULLSCREEN_POPUP"?k.closeFullscreenPopup():B.data.type==="NOTIFICATION_TOGGLE"?B.data.isVisible?(C.classList.remove("featurebase-notification-frame-wrapper-closed"),I.style.opacity="1"):(C.classList.add("featurebase-notification-frame-wrapper-closed"),I.style.opacity="0"):B.data.type==="NOTIFICATION_CLICKED"?(k.toggle({page:"messages",isOpen:!0}),B.data.chatId&&k.openMessages({chatId:B.data.chatId}),B.data.selectedOptionId?Bn(["messenger"],{type:"MESSENGER_QUICK_REPLY",chatId:B.data.chatId,text:B.data.messageText||"",selectedOptionId:B.data.selectedOptionId}):B.data.messageText&&Bn(["messenger"],{type:"MESSENGER_QUICK_REPLY",chatId:B.data.chatId,text:B.data.messageText||"",selectedOptionId:void 0})):B.data.type==="NOTIFICATION_CLOSE"&&(r1(C,I),B.data.chatId&&Bn(["messenger"],{type:"MARK_CONVERSATION_READ",chatId:B.data.chatId})),((lt=B.data)==null?void 0:lt.target)==="FeaturebaseMessengerWidget"&&((kt=B.data)==null?void 0:kt.type)==="NOTIFICATION_PREVIEW_READY"&&(C.classList.add("featurebase-notification-frame-wrapper-closed"),I.style.opacity="0"),((ut=B.data)==null?void 0:ut.target)==="FeaturebaseMessengerWidget"&&((tt=B.data)==null?void 0:tt.type)==="UPDATE_PAGE_TITLE"){const Je=B.data.titlePrefix||"",Wt=B.data.messageCount||0;B.data.hasNotification&&Je&&(document.title=Je+du)}((ve=B.data)==null?void 0:ve.target)==="FeaturebaseMessengerWidget"&&((et=B.data)==null?void 0:et.type)==="RESTORE_PAGE_TITLE"&&(document.title=du),((it=B.data)==null?void 0:it.target)==="FeaturebaseMessengerWidget"&&((rt=B.data)==null?void 0:rt.type)==="MESSENGER_LANGUAGE_CHANGE"&&Bn(["messenger","notification","popup","badge","launcher"],{type:"MESSENGER_LANGUAGE_CHANGE",language:B.data.language})}},window.addEventListener("message",h),k}catch(u){throw console.error("[Featurebase SDK] Error initializing messenger:",u),c&&c(u,null),u}};function m6(i,s){return i.endsWith(s)?i.length===s.length||i[i.length-s.length-1]===".":!1}function p6(i,s){const l=i.length-s.length-2,c=i.lastIndexOf(".",l);return c===-1?i:i.slice(c+1)}function g6(i,s,l){if(l.validHosts!==null){const u=l.validHosts;for(const d of u)if(m6(s,d))return d}let c=0;if(s.startsWith("."))for(;c<s.length&&s[c]===".";)c+=1;return i.length===s.length-c?null:p6(s,i)}function b6(i,s){return i.slice(0,-s.length-1)}function i1(i,s){let l=0,c=i.length,u=!1;if(!s){if(i.startsWith("data:"))return null;for(;l<i.length&&i.charCodeAt(l)<=32;)l+=1;for(;c>l+1&&i.charCodeAt(c-1)<=32;)c-=1;if(i.charCodeAt(l)===47&&i.charCodeAt(l+1)===47)l+=2;else{const g=i.indexOf(":/",l);if(g!==-1){const b=g-l,w=i.charCodeAt(l),_=i.charCodeAt(l+1),k=i.charCodeAt(l+2),E=i.charCodeAt(l+3),T=i.charCodeAt(l+4);if(!(b===5&&w===104&&_===116&&k===116&&E===112&&T===115)){if(!(b===4&&w===104&&_===116&&k===116&&E===112)){if(!(b===3&&w===119&&_===115&&k===115)){if(!(b===2&&w===119&&_===115))for(let S=l;S<g;S+=1){const x=i.charCodeAt(S)|32;if(!(x>=97&&x<=122||x>=48&&x<=57||x===46||x===45||x===43))return null}}}}for(l=g+2;i.charCodeAt(l)===47;)l+=1}}let h=-1,m=-1,p=-1;for(let g=l;g<c;g+=1){const b=i.charCodeAt(g);if(b===35||b===47||b===63){c=g;break}else b===64?h=g:b===93?m=g:b===58?p=g:b>=65&&b<=90&&(u=!0)}if(h!==-1&&h>l&&h<c&&(l=h+1),i.charCodeAt(l)===91)return m!==-1?i.slice(l+1,m).toLowerCase():null;p!==-1&&p>l&&p<c&&(c=p)}for(;c>l+1&&i.charCodeAt(c-1)===46;)c-=1;const d=l!==0||c!==i.length?i.slice(l,c):i;return u?d.toLowerCase():d}function v6(i){if(i.length<7||i.length>15)return!1;let s=0;for(let l=0;l<i.length;l+=1){const c=i.charCodeAt(l);if(c===46)s+=1;else if(c<48||c>57)return!1}return s===3&&i.charCodeAt(0)!==46&&i.charCodeAt(i.length-1)!==46}function y6(i){if(i.length<3)return!1;let s=i.startsWith("[")?1:0,l=i.length;if(i[l-1]==="]"&&(l-=1),l-s>39)return!1;let c=!1;for(;s<l;s+=1){const u=i.charCodeAt(s);if(u===58)c=!0;else if(!(u>=48&&u<=57||u>=97&&u<=102||u>=65&&u<=90))return!1}return c}function w6(i){return y6(i)||v6(i)}function s1(i){return i>=97&&i<=122||i>=48&&i<=57||i>127}function l1(i){if(i.length>255||i.length===0||!s1(i.charCodeAt(0))&&i.charCodeAt(0)!==46&&i.charCodeAt(0)!==95)return!1;let s=-1,l=-1;const c=i.length;for(let u=0;u<c;u+=1){const d=i.charCodeAt(u);if(d===46){if(u-s>64||l===46||l===45||l===95)return!1;s=u}else if(!(s1(d)||d===45||d===95))return!1;l=d}return c-s-1<=63&&l!==45}function c1({allowIcannDomains:i=!0,allowPrivateDomains:s=!1,detectIp:l=!0,extractHostname:c=!0,mixedInputs:u=!0,validHosts:d=null,validateHostname:h=!0}){return{allowIcannDomains:i,allowPrivateDomains:s,detectIp:l,extractHostname:c,mixedInputs:u,validHosts:d,validateHostname:h}}const _6=c1({});function k6(i){return i===void 0?_6:c1(i)}function x6(i,s){return s.length===i.length?"":i.slice(0,-s.length-1)}function u1(){return{domain:null,domainWithoutSuffix:null,hostname:null,isIcann:null,isIp:null,isPrivate:null,publicSuffix:null,subdomain:null}}function CR(i){i.domain=null,i.domainWithoutSuffix=null,i.hostname=null,i.isIcann=null,i.isIp=null,i.isPrivate=null,i.publicSuffix=null,i.subdomain=null}function E6(i,s,l,c,u){const d=k6(c);return typeof i!="string"||(d.extractHostname?d.mixedInputs?u.hostname=i1(i,l1(i)):u.hostname=i1(i,!1):u.hostname=i,s===0||u.hostname===null)||d.detectIp&&(u.isIp=w6(u.hostname),u.isIp)?u:d.validateHostname&&d.extractHostname&&!l1(u.hostname)?(u.hostname=null,u):(l(u.hostname,d,u),s===2||u.publicSuffix===null||(u.domain=g6(u.publicSuffix,u.hostname,d),s===3||u.domain===null)||(u.subdomain=x6(u.hostname,u.domain),s===4)||(u.domainWithoutSuffix=b6(u.domain,u.publicSuffix)),u)}function C6(i,s,l){if(!s.allowPrivateDomains&&i.length>3){const c=i.length-1,u=i.charCodeAt(c),d=i.charCodeAt(c-1),h=i.charCodeAt(c-2),m=i.charCodeAt(c-3);if(u===109&&d===111&&h===99&&m===46)return l.isIcann=!0,l.isPrivate=!1,l.publicSuffix="com",!0;if(u===103&&d===114&&h===111&&m===46)return l.isIcann=!0,l.isPrivate=!1,l.publicSuffix="org",!0;if(u===117&&d===100&&h===101&&m===46)return l.isIcann=!0,l.isPrivate=!1,l.publicSuffix="edu",!0;if(u===118&&d===111&&h===103&&m===46)return l.isIcann=!0,l.isPrivate=!1,l.publicSuffix="gov",!0;if(u===116&&d===101&&h===110&&m===46)return l.isIcann=!0,l.isPrivate=!1,l.publicSuffix="net",!0;if(u===101&&d===100&&h===46)return l.isIcann=!0,l.isPrivate=!1,l.publicSuffix="de",!0}return!1}const S6=function(){const i=[1,{}],s=[2,{}],l=[0,{city:i}];return[0,{ck:[0,{www:i}],jp:[0,{kawasaki:l,kitakyushu:l,kobe:l,nagoya:l,sapporo:l,sendai:l,yokohama:l}],dev:[0,{hrsn:[0,{psl:[0,{wc:[0,{ignored:s,sub:[0,{ignored:s}]}]}]}]}]}]}(),T6=function(){const i=[1,{}],s=[2,{}],l=[1,{com:i,edu:i,gov:i,net:i,org:i}],c=[1,{com:i,edu:i,gov:i,mil:i,net:i,org:i}],u=[0,{"*":s}],d=[2,{s:u}],h=[0,{relay:s}],m=[2,{staging:s}],p=[2,{id:s}],g=[1,{gov:i}],b=[0,{"transfer-webapp":s}],w=[0,{notebook:s,studio:s}],_=[0,{labeling:s,notebook:s,studio:s}],k=[0,{notebook:s}],E=[0,{labeling:s,notebook:s,"notebook-fips":s,studio:s}],T=[0,{notebook:s,"notebook-fips":s,studio:s,"studio-fips":s}],S=[0,{"*":i}],x=[1,{co:s}],A=[0,{objects:s}],R=[2,{nodes:s}],N=[0,{my:u}],F=[0,{s3:s,"s3-accesspoint":s,"s3-website":s}],P=[0,{s3:s,"s3-accesspoint":s}],O=[0,{direct:s}],C=[0,{"webview-assets":s}],D=[0,{vfs:s,"webview-assets":s}],L=[0,{"execute-api":s,"emrappui-prod":s,"emrnotebooks-prod":s,"emrstudio-prod":s,dualstack:F,s3:s,"s3-accesspoint":s,"s3-object-lambda":s,"s3-website":s,"aws-cloud9":C,cloud9:D}],M=[0,{"execute-api":s,"emrappui-prod":s,"emrnotebooks-prod":s,"emrstudio-prod":s,dualstack:P,s3:s,"s3-accesspoint":s,"s3-object-lambda":s,"s3-website":s,"aws-cloud9":C,cloud9:D}],z=[0,{"execute-api":s,"emrappui-prod":s,"emrnotebooks-prod":s,"emrstudio-prod":s,dualstack:F,s3:s,"s3-accesspoint":s,"s3-object-lambda":s,"s3-website":s,"analytics-gateway":s,"aws-cloud9":C,cloud9:D}],I=[0,{"execute-api":s,"emrappui-prod":s,"emrnotebooks-prod":s,"emrstudio-prod":s,dualstack:F,s3:s,"s3-accesspoint":s,"s3-object-lambda":s,"s3-website":s}],q=[0,{s3:s,"s3-accesspoint":s,"s3-accesspoint-fips":s,"s3-fips":s,"s3-website":s}],Z=[0,{"execute-api":s,"emrappui-prod":s,"emrnotebooks-prod":s,"emrstudio-prod":s,dualstack:q,s3:s,"s3-accesspoint":s,"s3-accesspoint-fips":s,"s3-fips":s,"s3-object-lambda":s,"s3-website":s,"aws-cloud9":C,cloud9:D}],ae=[0,{"execute-api":s,"emrappui-prod":s,"emrnotebooks-prod":s,"emrstudio-prod":s,dualstack:q,s3:s,"s3-accesspoint":s,"s3-accesspoint-fips":s,"s3-deprecated":s,"s3-fips":s,"s3-object-lambda":s,"s3-website":s,"analytics-gateway":s,"aws-cloud9":C,cloud9:D}],se=[0,{s3:s,"s3-accesspoint":s,"s3-accesspoint-fips":s,"s3-fips":s}],Ae=[0,{"execute-api":s,"emrappui-prod":s,"emrnotebooks-prod":s,"emrstudio-prod":s,dualstack:se,s3:s,"s3-accesspoint":s,"s3-accesspoint-fips":s,"s3-fips":s,"s3-object-lambda":s,"s3-website":s}],be=[0,{auth:s}],Le=[0,{auth:s,"auth-fips":s}],B=[0,{apps:s}],G=[0,{paas:s}],te=[2,{eu:s}],ye=[0,{app:s}],Pe=[0,{site:s}],Lt=[1,{com:i,edu:i,net:i,org:i}],Dt=[0,{j:s}],cn=[0,{dyn:s}],Nt=[1,{co:i,com:i,edu:i,gov:i,net:i,org:i}],Bt=[0,{p:s}],De=[0,{user:s}],Ie=[0,{shop:s}],nt=[0,{cdn:s}],Rt=[0,{cust:s,reservd:s}],ge=[0,{cust:s}],qe=[0,{s3:s}],pt=[1,{biz:i,com:i,edu:i,gov:i,info:i,net:i,org:i}],lt=[1,{framer:s}],kt=[0,{forgot:s}],ut=[1,{gs:i}],tt=[0,{nes:i}],ve=[1,{k12:i,cc:i,lib:i}],et=[1,{cc:i,lib:i}];return[0,{ac:[1,{com:i,edu:i,gov:i,mil:i,net:i,org:i,drr:s,feedback:s,forms:s}],ad:i,ae:[1,{ac:i,co:i,gov:i,mil:i,net:i,org:i,sch:i}],aero:[1,{airline:i,airport:i,"accident-investigation":i,"accident-prevention":i,aerobatic:i,aeroclub:i,aerodrome:i,agents:i,"air-surveillance":i,"air-traffic-control":i,aircraft:i,airtraffic:i,ambulance:i,association:i,author:i,ballooning:i,broker:i,caa:i,cargo:i,catering:i,certification:i,championship:i,charter:i,civilaviation:i,club:i,conference:i,consultant:i,consulting:i,control:i,council:i,crew:i,design:i,dgca:i,educator:i,emergency:i,engine:i,engineer:i,entertainment:i,equipment:i,exchange:i,express:i,federation:i,flight:i,freight:i,fuel:i,gliding:i,government:i,groundhandling:i,group:i,hanggliding:i,homebuilt:i,insurance:i,journal:i,journalist:i,leasing:i,logistics:i,magazine:i,maintenance:i,marketplace:i,media:i,microlight:i,modelling:i,navigation:i,parachuting:i,paragliding:i,"passenger-association":i,pilot:i,press:i,production:i,recreation:i,repbody:i,res:i,research:i,rotorcraft:i,safety:i,scientist:i,services:i,show:i,skydiving:i,software:i,student:i,taxi:i,trader:i,trading:i,trainer:i,union:i,workinggroup:i,works:i}],af:l,ag:[1,{co:i,com:i,net:i,nom:i,org:i,obj:s}],ai:[1,{com:i,net:i,off:i,org:i,uwu:s,framer:s}],al:c,am:[1,{co:i,com:i,commune:i,net:i,org:i,radio:s}],ao:[1,{co:i,ed:i,edu:i,gov:i,gv:i,it:i,og:i,org:i,pb:i}],aq:i,ar:[1,{bet:i,com:i,coop:i,edu:i,gob:i,gov:i,int:i,mil:i,musica:i,mutual:i,net:i,org:i,senasa:i,tur:i}],arpa:[1,{e164:i,home:i,"in-addr":i,ip6:i,iris:i,uri:i,urn:i}],as:g,asia:[1,{cloudns:s,daemon:s,dix:s}],at:[1,{ac:[1,{sth:i}],co:i,gv:i,or:i,funkfeuer:[0,{wien:s}],futurecms:[0,{"*":s,ex:u,in:u}],futurehosting:s,futuremailing:s,ortsinfo:[0,{ex:u,kunden:u}],biz:s,info:s,"123webseite":s,priv:s,myspreadshop:s,"12hp":s,"2ix":s,"4lima":s,"lima-city":s}],au:[1,{asn:i,com:[1,{cloudlets:[0,{mel:s}],myspreadshop:s}],edu:[1,{act:i,catholic:i,nsw:[1,{schools:i}],nt:i,qld:i,sa:i,tas:i,vic:i,wa:i}],gov:[1,{qld:i,sa:i,tas:i,vic:i,wa:i}],id:i,net:i,org:i,conf:i,oz:i,act:i,nsw:i,nt:i,qld:i,sa:i,tas:i,vic:i,wa:i}],aw:[1,{com:i}],ax:i,az:[1,{biz:i,co:i,com:i,edu:i,gov:i,info:i,int:i,mil:i,name:i,net:i,org:i,pp:i,pro:i}],ba:[1,{com:i,edu:i,gov:i,mil:i,net:i,org:i,rs:s}],bb:[1,{biz:i,co:i,com:i,edu:i,gov:i,info:i,net:i,org:i,store:i,tv:i}],bd:S,be:[1,{ac:i,cloudns:s,webhosting:s,interhostsolutions:[0,{cloud:s}],kuleuven:[0,{ezproxy:s}],"123website":s,myspreadshop:s,transurl:u}],bf:g,bg:[1,{0:i,1:i,2:i,3:i,4:i,5:i,6:i,7:i,8:i,9:i,a:i,b:i,c:i,d:i,e:i,f:i,g:i,h:i,i,j:i,k:i,l:i,m:i,n:i,o:i,p:i,q:i,r:i,s:i,t:i,u:i,v:i,w:i,x:i,y:i,z:i,barsy:s}],bh:l,bi:[1,{co:i,com:i,edu:i,or:i,org:i}],biz:[1,{activetrail:s,"cloud-ip":s,cloudns:s,jozi:s,dyndns:s,"for-better":s,"for-more":s,"for-some":s,"for-the":s,selfip:s,webhop:s,orx:s,mmafan:s,myftp:s,"no-ip":s,dscloud:s}],bj:[1,{africa:i,agro:i,architectes:i,assur:i,avocats:i,co:i,com:i,eco:i,econo:i,edu:i,info:i,loisirs:i,money:i,net:i,org:i,ote:i,restaurant:i,resto:i,tourism:i,univ:i}],bm:l,bn:[1,{com:i,edu:i,gov:i,net:i,org:i,co:s}],bo:[1,{com:i,edu:i,gob:i,int:i,mil:i,net:i,org:i,tv:i,web:i,academia:i,agro:i,arte:i,blog:i,bolivia:i,ciencia:i,cooperativa:i,democracia:i,deporte:i,ecologia:i,economia:i,empresa:i,indigena:i,industria:i,info:i,medicina:i,movimiento:i,musica:i,natural:i,nombre:i,noticias:i,patria:i,plurinacional:i,politica:i,profesional:i,pueblo:i,revista:i,salud:i,tecnologia:i,tksat:i,transporte:i,wiki:i}],br:[1,{"9guacu":i,abc:i,adm:i,adv:i,agr:i,aju:i,am:i,anani:i,aparecida:i,app:i,arq:i,art:i,ato:i,b:i,barueri:i,belem:i,bet:i,bhz:i,bib:i,bio:i,blog:i,bmd:i,boavista:i,bsb:i,campinagrande:i,campinas:i,caxias:i,cim:i,cng:i,cnt:i,com:[1,{simplesite:s}],contagem:i,coop:i,coz:i,cri:i,cuiaba:i,curitiba:i,def:i,des:i,det:i,dev:i,ecn:i,eco:i,edu:i,emp:i,enf:i,eng:i,esp:i,etc:i,eti:i,far:i,feira:i,flog:i,floripa:i,fm:i,fnd:i,fortal:i,fot:i,foz:i,fst:i,g12:i,geo:i,ggf:i,goiania:i,gov:[1,{ac:i,al:i,am:i,ap:i,ba:i,ce:i,df:i,es:i,go:i,ma:i,mg:i,ms:i,mt:i,pa:i,pb:i,pe:i,pi:i,pr:i,rj:i,rn:i,ro:i,rr:i,rs:i,sc:i,se:i,sp:i,to:i}],gru:i,imb:i,ind:i,inf:i,jab:i,jampa:i,jdf:i,joinville:i,jor:i,jus:i,leg:[1,{ac:s,al:s,am:s,ap:s,ba:s,ce:s,df:s,es:s,go:s,ma:s,mg:s,ms:s,mt:s,pa:s,pb:s,pe:s,pi:s,pr:s,rj:s,rn:s,ro:s,rr:s,rs:s,sc:s,se:s,sp:s,to:s}],leilao:i,lel:i,log:i,londrina:i,macapa:i,maceio:i,manaus:i,maringa:i,mat:i,med:i,mil:i,morena:i,mp:i,mus:i,natal:i,net:i,niteroi:i,nom:S,not:i,ntr:i,odo:i,ong:i,org:i,osasco:i,palmas:i,poa:i,ppg:i,pro:i,psc:i,psi:i,pvh:i,qsl:i,radio:i,rec:i,recife:i,rep:i,ribeirao:i,rio:i,riobranco:i,riopreto:i,salvador:i,sampa:i,santamaria:i,santoandre:i,saobernardo:i,saogonca:i,seg:i,sjc:i,slg:i,slz:i,sorocaba:i,srv:i,taxi:i,tc:i,tec:i,teo:i,the:i,tmp:i,trd:i,tur:i,tv:i,udi:i,vet:i,vix:i,vlog:i,wiki:i,zlg:i}],bs:[1,{com:i,edu:i,gov:i,net:i,org:i,we:s}],bt:l,bv:i,bw:[1,{ac:i,co:i,gov:i,net:i,org:i}],by:[1,{gov:i,mil:i,com:i,of:i,mediatech:s}],bz:[1,{co:i,com:i,edu:i,gov:i,net:i,org:i,za:s,mydns:s,gsj:s}],ca:[1,{ab:i,bc:i,mb:i,nb:i,nf:i,nl:i,ns:i,nt:i,nu:i,on:i,pe:i,qc:i,sk:i,yk:i,gc:i,barsy:s,awdev:u,co:s,"no-ip":s,myspreadshop:s,box:s}],cat:i,cc:[1,{cleverapps:s,cloudns:s,ftpaccess:s,"game-server":s,myphotos:s,scrapping:s,twmail:s,csx:s,fantasyleague:s,spawn:[0,{instances:s}]}],cd:g,cf:i,cg:i,ch:[1,{square7:s,cloudns:s,cloudscale:[0,{cust:s,lpg:A,rma:A}],flow:[0,{ae:[0,{alp1:s}],appengine:s}],"linkyard-cloud":s,gotdns:s,dnsking:s,"123website":s,myspreadshop:s,firenet:[0,{"*":s,svc:u}],"12hp":s,"2ix":s,"4lima":s,"lima-city":s}],ci:[1,{ac:i,"xn--aroport-bya":i,a\u00E9roport:i,asso:i,co:i,com:i,ed:i,edu:i,go:i,gouv:i,int:i,net:i,or:i,org:i}],ck:S,cl:[1,{co:i,gob:i,gov:i,mil:i,cloudns:s}],cm:[1,{co:i,com:i,gov:i,net:i}],cn:[1,{ac:i,com:[1,{amazonaws:[0,{"cn-north-1":[0,{"execute-api":s,"emrappui-prod":s,"emrnotebooks-prod":s,"emrstudio-prod":s,dualstack:F,s3:s,"s3-accesspoint":s,"s3-deprecated":s,"s3-object-lambda":s,"s3-website":s}],"cn-northwest-1":[0,{"execute-api":s,"emrappui-prod":s,"emrnotebooks-prod":s,"emrstudio-prod":s,dualstack:P,s3:s,"s3-accesspoint":s,"s3-object-lambda":s,"s3-website":s}],compute:u,airflow:[0,{"cn-north-1":u,"cn-northwest-1":u}],eb:[0,{"cn-north-1":s,"cn-northwest-1":s}],elb:u}],sagemaker:[0,{"cn-north-1":w,"cn-northwest-1":w}]}],edu:i,gov:i,mil:i,net:i,org:i,"xn--55qx5d":i,\u516C\u53F8:i,"xn--od0alg":i,\u7DB2\u7D61:i,"xn--io0a7i":i,\u7F51\u7EDC:i,ah:i,bj:i,cq:i,fj:i,gd:i,gs:i,gx:i,gz:i,ha:i,hb:i,he:i,hi:i,hk:i,hl:i,hn:i,jl:i,js:i,jx:i,ln:i,mo:i,nm:i,nx:i,qh:i,sc:i,sd:i,sh:[1,{as:s}],sn:i,sx:i,tj:i,tw:i,xj:i,xz:i,yn:i,zj:i,"canva-apps":s,canvasite:N,myqnapcloud:s,quickconnect:O}],co:[1,{com:i,edu:i,gov:i,mil:i,net:i,nom:i,org:i,carrd:s,crd:s,otap:u,leadpages:s,lpages:s,mypi:s,xmit:u,firewalledreplit:p,repl:p,supabase:s}],com:[1,{a2hosted:s,cpserver:s,adobeaemcloud:[2,{dev:u}],africa:s,airkitapps:s,"airkitapps-au":s,aivencloud:s,alibabacloudcs:s,kasserver:s,amazonaws:[0,{"af-south-1":L,"ap-east-1":M,"ap-northeast-1":z,"ap-northeast-2":z,"ap-northeast-3":L,"ap-south-1":z,"ap-south-2":I,"ap-southeast-1":z,"ap-southeast-2":z,"ap-southeast-3":I,"ap-southeast-4":I,"ap-southeast-5":[0,{"execute-api":s,dualstack:F,s3:s,"s3-accesspoint":s,"s3-deprecated":s,"s3-object-lambda":s,"s3-website":s}],"ca-central-1":Z,"ca-west-1":[0,{"execute-api":s,"emrappui-prod":s,"emrnotebooks-prod":s,"emrstudio-prod":s,dualstack:q,s3:s,"s3-accesspoint":s,"s3-accesspoint-fips":s,"s3-fips":s,"s3-object-lambda":s,"s3-website":s}],"eu-central-1":z,"eu-central-2":I,"eu-north-1":M,"eu-south-1":L,"eu-south-2":I,"eu-west-1":[0,{"execute-api":s,"emrappui-prod":s,"emrnotebooks-prod":s,"emrstudio-prod":s,dualstack:F,s3:s,"s3-accesspoint":s,"s3-deprecated":s,"s3-object-lambda":s,"s3-website":s,"analytics-gateway":s,"aws-cloud9":C,cloud9:D}],"eu-west-2":M,"eu-west-3":L,"il-central-1":[0,{"execute-api":s,"emrappui-prod":s,"emrnotebooks-prod":s,"emrstudio-prod":s,dualstack:F,s3:s,"s3-accesspoint":s,"s3-object-lambda":s,"s3-website":s,"aws-cloud9":C,cloud9:[0,{vfs:s}]}],"me-central-1":I,"me-south-1":M,"sa-east-1":L,"us-east-1":[2,{"execute-api":s,"emrappui-prod":s,"emrnotebooks-prod":s,"emrstudio-prod":s,dualstack:q,s3:s,"s3-accesspoint":s,"s3-accesspoint-fips":s,"s3-deprecated":s,"s3-fips":s,"s3-object-lambda":s,"s3-website":s,"analytics-gateway":s,"aws-cloud9":C,cloud9:D}],"us-east-2":ae,"us-gov-east-1":Ae,"us-gov-west-1":Ae,"us-west-1":Z,"us-west-2":ae,compute:u,"compute-1":u,airflow:[0,{"af-south-1":u,"ap-east-1":u,"ap-northeast-1":u,"ap-northeast-2":u,"ap-northeast-3":u,"ap-south-1":u,"ap-south-2":u,"ap-southeast-1":u,"ap-southeast-2":u,"ap-southeast-3":u,"ap-southeast-4":u,"ca-central-1":u,"ca-west-1":u,"eu-central-1":u,"eu-central-2":u,"eu-north-1":u,"eu-south-1":u,"eu-south-2":u,"eu-west-1":u,"eu-west-2":u,"eu-west-3":u,"il-central-1":u,"me-central-1":u,"me-south-1":u,"sa-east-1":u,"us-east-1":u,"us-east-2":u,"us-west-1":u,"us-west-2":u}],s3:s,"s3-1":s,"s3-ap-east-1":s,"s3-ap-northeast-1":s,"s3-ap-northeast-2":s,"s3-ap-northeast-3":s,"s3-ap-south-1":s,"s3-ap-southeast-1":s,"s3-ap-southeast-2":s,"s3-ca-central-1":s,"s3-eu-central-1":s,"s3-eu-north-1":s,"s3-eu-west-1":s,"s3-eu-west-2":s,"s3-eu-west-3":s,"s3-external-1":s,"s3-fips-us-gov-east-1":s,"s3-fips-us-gov-west-1":s,"s3-global":[0,{accesspoint:[0,{mrap:s}]}],"s3-me-south-1":s,"s3-sa-east-1":s,"s3-us-east-2":s,"s3-us-gov-east-1":s,"s3-us-gov-west-1":s,"s3-us-west-1":s,"s3-us-west-2":s,"s3-website-ap-northeast-1":s,"s3-website-ap-southeast-1":s,"s3-website-ap-southeast-2":s,"s3-website-eu-west-1":s,"s3-website-sa-east-1":s,"s3-website-us-east-1":s,"s3-website-us-gov-west-1":s,"s3-website-us-west-1":s,"s3-website-us-west-2":s,elb:u}],amazoncognito:[0,{"af-south-1":be,"ap-east-1":be,"ap-northeast-1":be,"ap-northeast-2":be,"ap-northeast-3":be,"ap-south-1":be,"ap-south-2":be,"ap-southeast-1":be,"ap-southeast-2":be,"ap-southeast-3":be,"ap-southeast-4":be,"ca-central-1":be,"ca-west-1":be,"eu-central-1":be,"eu-central-2":be,"eu-north-1":be,"eu-south-1":be,"eu-south-2":be,"eu-west-1":be,"eu-west-2":be,"eu-west-3":be,"il-central-1":be,"me-central-1":be,"me-south-1":be,"sa-east-1":be,"us-east-1":Le,"us-east-2":Le,"us-gov-west-1":[0,{"auth-fips":s}],"us-west-1":Le,"us-west-2":Le}],amplifyapp:s,awsapprunner:u,awsapps:s,elasticbeanstalk:[2,{"af-south-1":s,"ap-east-1":s,"ap-northeast-1":s,"ap-northeast-2":s,"ap-northeast-3":s,"ap-south-1":s,"ap-southeast-1":s,"ap-southeast-2":s,"ap-southeast-3":s,"ca-central-1":s,"eu-central-1":s,"eu-north-1":s,"eu-south-1":s,"eu-west-1":s,"eu-west-2":s,"eu-west-3":s,"il-central-1":s,"me-south-1":s,"sa-east-1":s,"us-east-1":s,"us-east-2":s,"us-gov-east-1":s,"us-gov-west-1":s,"us-west-1":s,"us-west-2":s}],awsglobalaccelerator:s,siiites:s,appspacehosted:s,appspaceusercontent:s,"on-aptible":s,myasustor:s,"balena-devices":s,boutir:s,bplaced:s,cafjs:s,"canva-apps":s,"cdn77-storage":s,br:s,cn:s,de:s,eu:s,jpn:s,mex:s,ru:s,sa:s,uk:s,us:s,za:s,"clever-cloud":[0,{services:u}],dnsabr:s,"ip-ddns":s,jdevcloud:s,wpdevcloud:s,"cf-ipfs":s,"cloudflare-ipfs":s,trycloudflare:s,co:s,devinapps:m,builtwithdark:s,datadetect:[0,{demo:s,instance:s}],dattolocal:s,dattorelay:s,dattoweb:s,mydatto:s,digitaloceanspaces:u,discordsays:s,discordsez:s,drayddns:s,dreamhosters:s,durumis:s,mydrobo:s,blogdns:s,cechire:s,dnsalias:s,dnsdojo:s,doesntexist:s,dontexist:s,doomdns:s,"dyn-o-saur":s,dynalias:s,"dyndns-at-home":s,"dyndns-at-work":s,"dyndns-blog":s,"dyndns-free":s,"dyndns-home":s,"dyndns-ip":s,"dyndns-mail":s,"dyndns-office":s,"dyndns-pics":s,"dyndns-remote":s,"dyndns-server":s,"dyndns-web":s,"dyndns-wiki":s,"dyndns-work":s,"est-a-la-maison":s,"est-a-la-masion":s,"est-le-patron":s,"est-mon-blogueur":s,"from-ak":s,"from-al":s,"from-ar":s,"from-ca":s,"from-ct":s,"from-dc":s,"from-de":s,"from-fl":s,"from-ga":s,"from-hi":s,"from-ia":s,"from-id":s,"from-il":s,"from-in":s,"from-ks":s,"from-ky":s,"from-ma":s,"from-md":s,"from-mi":s,"from-mn":s,"from-mo":s,"from-ms":s,"from-mt":s,"from-nc":s,"from-nd":s,"from-ne":s,"from-nh":s,"from-nj":s,"from-nm":s,"from-nv":s,"from-oh":s,"from-ok":s,"from-or":s,"from-pa":s,"from-pr":s,"from-ri":s,"from-sc":s,"from-sd":s,"from-tn":s,"from-tx":s,"from-ut":s,"from-va":s,"from-vt":s,"from-wa":s,"from-wi":s,"from-wv":s,"from-wy":s,getmyip:s,gotdns:s,"hobby-site":s,homelinux:s,homeunix:s,iamallama:s,"is-a-anarchist":s,"is-a-blogger":s,"is-a-bookkeeper":s,"is-a-bulls-fan":s,"is-a-caterer":s,"is-a-chef":s,"is-a-conservative":s,"is-a-cpa":s,"is-a-cubicle-slave":s,"is-a-democrat":s,"is-a-designer":s,"is-a-doctor":s,"is-a-financialadvisor":s,"is-a-geek":s,"is-a-green":s,"is-a-guru":s,"is-a-hard-worker":s,"is-a-hunter":s,"is-a-landscaper":s,"is-a-lawyer":s,"is-a-liberal":s,"is-a-libertarian":s,"is-a-llama":s,"is-a-musician":s,"is-a-nascarfan":s,"is-a-nurse":s,"is-a-painter":s,"is-a-personaltrainer":s,"is-a-photographer":s,"is-a-player":s,"is-a-republican":s,"is-a-rockstar":s,"is-a-socialist":s,"is-a-student":s,"is-a-teacher":s,"is-a-techie":s,"is-a-therapist":s,"is-an-accountant":s,"is-an-actor":s,"is-an-actress":s,"is-an-anarchist":s,"is-an-artist":s,"is-an-engineer":s,"is-an-entertainer":s,"is-certified":s,"is-gone":s,"is-into-anime":s,"is-into-cars":s,"is-into-cartoons":s,"is-into-games":s,"is-leet":s,"is-not-certified":s,"is-slick":s,"is-uberleet":s,"is-with-theband":s,"isa-geek":s,"isa-hockeynut":s,issmarterthanyou:s,"likes-pie":s,likescandy:s,"neat-url":s,"saves-the-whales":s,selfip:s,"sells-for-less":s,"sells-for-u":s,servebbs:s,"simple-url":s,"space-to-rent":s,"teaches-yoga":s,writesthisblog:s,ddnsfree:s,ddnsgeek:s,giize:s,gleeze:s,kozow:s,loseyourip:s,ooguy:s,theworkpc:s,mytuleap:s,"tuleap-partners":s,encoreapi:s,evennode:[0,{"eu-1":s,"eu-2":s,"eu-3":s,"eu-4":s,"us-1":s,"us-2":s,"us-3":s,"us-4":s}],onfabrica:s,"fastly-edge":s,"fastly-terrarium":s,"fastvps-server":s,mydobiss:s,firebaseapp:s,fldrv:s,forgeblocks:s,framercanvas:s,"freebox-os":s,freeboxos:s,freemyip:s,aliases121:s,gentapps:s,gentlentapis:s,githubusercontent:s,"0emm":u,appspot:[2,{r:u}],blogspot:s,codespot:s,googleapis:s,googlecode:s,pagespeedmobilizer:s,withgoogle:s,withyoutube:s,grayjayleagues:s,hatenablog:s,hatenadiary:s,herokuapp:s,gr:s,smushcdn:s,wphostedmail:s,wpmucdn:s,pixolino:s,"apps-1and1":s,"live-website":s,dopaas:s,"hosted-by-previder":G,hosteur:[0,{"rag-cloud":s,"rag-cloud-ch":s}],"ik-server":[0,{jcloud:s,"jcloud-ver-jpc":s}],jelastic:[0,{demo:s}],massivegrid:G,wafaicloud:[0,{jed:s,ryd:s}],webadorsite:s,joyent:[0,{cns:u}],lpusercontent:s,linode:[0,{members:s,nodebalancer:u}],linodeobjects:u,linodeusercontent:[0,{ip:s}],localtonet:s,lovableproject:s,barsycenter:s,barsyonline:s,modelscape:s,mwcloudnonprod:s,polyspace:s,mazeplay:s,miniserver:s,atmeta:s,fbsbx:B,meteorapp:te,routingthecloud:s,mydbserver:s,hostedpi:s,"mythic-beasts":[0,{caracal:s,customer:s,fentiger:s,lynx:s,ocelot:s,oncilla:s,onza:s,sphinx:s,vs:s,x:s,yali:s}],nospamproxy:[0,{cloud:[2,{o365:s}]}],"4u":s,nfshost:s,"3utilities":s,blogsyte:s,ciscofreak:s,damnserver:s,ddnsking:s,ditchyourip:s,dnsiskinky:s,dynns:s,geekgalaxy:s,"health-carereform":s,homesecuritymac:s,homesecuritypc:s,myactivedirectory:s,mysecuritycamera:s,myvnc:s,"net-freaks":s,onthewifi:s,point2this:s,quicksytes:s,securitytactics:s,servebeer:s,servecounterstrike:s,serveexchange:s,serveftp:s,servegame:s,servehalflife:s,servehttp:s,servehumour:s,serveirc:s,servemp3:s,servep2p:s,servepics:s,servequake:s,servesarcasm:s,stufftoread:s,unusualperson:s,workisboring:s,myiphost:s,observableusercontent:[0,{static:s}],simplesite:s,orsites:s,operaunite:s,"customer-oci":[0,{"*":s,oci:u,ocp:u,ocs:u}],oraclecloudapps:u,oraclegovcloudapps:u,"authgear-staging":s,authgearapps:s,skygearapp:s,outsystemscloud:s,ownprovider:s,pgfog:s,pagexl:s,gotpantheon:s,paywhirl:u,upsunapp:s,"postman-echo":s,prgmr:[0,{xen:s}],pythonanywhere:te,qa2:s,"alpha-myqnapcloud":s,"dev-myqnapcloud":s,mycloudnas:s,mynascloud:s,myqnapcloud:s,qualifioapp:s,ladesk:s,qbuser:s,quipelements:u,rackmaze:s,"readthedocs-hosted":s,rhcloud:s,onrender:s,render:ye,"subsc-pay":s,"180r":s,dojin:s,sakuratan:s,sakuraweb:s,x0:s,code:[0,{builder:u,"dev-builder":u,"stg-builder":u}],salesforce:[0,{platform:[0,{"code-builder-stg":[0,{test:[0,{"001":u}]}]}]}],logoip:s,scrysec:s,"firewall-gateway":s,myshopblocks:s,myshopify:s,shopitsite:s,"1kapp":s,appchizi:s,applinzi:s,sinaapp:s,vipsinaapp:s,streamlitapp:s,"try-snowplow":s,"playstation-cloud":s,myspreadshop:s,"w-corp-staticblitz":s,"w-credentialless-staticblitz":s,"w-staticblitz":s,"stackhero-network":s,stdlib:[0,{api:s}],strapiapp:[2,{media:s}],"streak-link":s,streaklinks:s,streakusercontent:s,"temp-dns":s,dsmynas:s,familyds:s,mytabit:s,taveusercontent:s,"tb-hosting":Pe,reservd:s,thingdustdata:s,"townnews-staging":s,typeform:[0,{pro:s}],hk:s,it:s,"deus-canvas":s,vultrobjects:u,wafflecell:s,hotelwithflight:s,"reserve-online":s,cprapid:s,pleskns:s,remotewd:s,wiardweb:[0,{pages:s}],wixsite:s,wixstudio:s,messwithdns:s,"woltlab-demo":s,wpenginepowered:[2,{js:s}],xnbay:[2,{u2:s,"u2-local":s}],yolasite:s}],coop:i,cr:[1,{ac:i,co:i,ed:i,fi:i,go:i,or:i,sa:i}],cu:[1,{com:i,edu:i,gob:i,inf:i,nat:i,net:i,org:i}],cv:[1,{com:i,edu:i,id:i,int:i,net:i,nome:i,org:i,publ:i}],cw:Lt,cx:[1,{gov:i,cloudns:s,ath:s,info:s,assessments:s,calculators:s,funnels:s,paynow:s,quizzes:s,researched:s,tests:s}],cy:[1,{ac:i,biz:i,com:[1,{scaleforce:Dt}],ekloges:i,gov:i,ltd:i,mil:i,net:i,org:i,press:i,pro:i,tm:i}],cz:[1,{contentproxy9:[0,{rsc:s}],realm:s,e4:s,co:s,metacentrum:[0,{cloud:u,custom:s}],muni:[0,{cloud:[0,{flt:s,usr:s}]}]}],de:[1,{bplaced:s,square7:s,com:s,cosidns:cn,dnsupdater:s,"dynamisches-dns":s,"internet-dns":s,"l-o-g-i-n":s,ddnss:[2,{dyn:s,dyndns:s}],"dyn-ip24":s,dyndns1:s,"home-webserver":[2,{dyn:s}],"myhome-server":s,dnshome:s,fuettertdasnetz:s,isteingeek:s,istmein:s,lebtimnetz:s,leitungsen:s,traeumtgerade:s,frusky:u,goip:s,"xn--gnstigbestellen-zvb":s,g\u00FCnstigbestellen:s,"xn--gnstigliefern-wob":s,g\u00FCnstigliefern:s,"hs-heilbronn":[0,{it:[0,{pages:s,"pages-research":s}]}],"dyn-berlin":s,"in-berlin":s,"in-brb":s,"in-butter":s,"in-dsl":s,"in-vpn":s,iservschule:s,"mein-iserv":s,schulplattform:s,schulserver:s,"test-iserv":s,keymachine:s,"git-repos":s,"lcube-server":s,"svn-repos":s,barsy:s,webspaceconfig:s,"123webseite":s,rub:s,"ruhr-uni-bochum":[2,{noc:[0,{io:s}]}],logoip:s,"firewall-gateway":s,"my-gateway":s,"my-router":s,spdns:s,speedpartner:[0,{customer:s}],myspreadshop:s,"taifun-dns":s,"12hp":s,"2ix":s,"4lima":s,"lima-city":s,"dd-dns":s,"dray-dns":s,draydns:s,"dyn-vpn":s,dynvpn:s,"mein-vigor":s,"my-vigor":s,"my-wan":s,"syno-ds":s,"synology-diskstation":s,"synology-ds":s,uberspace:u,"virtual-user":s,virtualuser:s,"community-pro":s,diskussionsbereich:s}],dj:i,dk:[1,{biz:s,co:s,firm:s,reg:s,store:s,"123hjemmeside":s,myspreadshop:s}],dm:Nt,do:[1,{art:i,com:i,edu:i,gob:i,gov:i,mil:i,net:i,org:i,sld:i,web:i}],dz:[1,{art:i,asso:i,com:i,edu:i,gov:i,net:i,org:i,pol:i,soc:i,tm:i}],ec:[1,{com:i,edu:i,fin:i,gob:i,gov:i,info:i,k12:i,med:i,mil:i,net:i,org:i,pro:i,base:s,official:s}],edu:[1,{rit:[0,{"git-pages":s}]}],ee:[1,{aip:i,com:i,edu:i,fie:i,gov:i,lib:i,med:i,org:i,pri:i,riik:i}],eg:[1,{ac:i,com:i,edu:i,eun:i,gov:i,info:i,me:i,mil:i,name:i,net:i,org:i,sci:i,sport:i,tv:i}],er:S,es:[1,{com:i,edu:i,gob:i,nom:i,org:i,"123miweb":s,myspreadshop:s}],et:[1,{biz:i,com:i,edu:i,gov:i,info:i,name:i,net:i,org:i}],eu:[1,{airkitapps:s,cloudns:s,dogado:[0,{jelastic:s}],barsy:s,spdns:s,transurl:u,diskstation:s}],fi:[1,{aland:i,dy:s,"xn--hkkinen-5wa":s,h\u00E4kkinen:s,iki:s,cloudplatform:[0,{fi:s}],datacenter:[0,{demo:s,paas:s}],kapsi:s,"123kotisivu":s,myspreadshop:s}],fj:[1,{ac:i,biz:i,com:i,gov:i,info:i,mil:i,name:i,net:i,org:i,pro:i}],fk:S,fm:[1,{com:i,edu:i,net:i,org:i,radio:s,user:u}],fo:i,fr:[1,{asso:i,com:i,gouv:i,nom:i,prd:i,tm:i,avoues:i,cci:i,greta:i,"huissier-justice":i,"en-root":s,"fbx-os":s,fbxos:s,"freebox-os":s,freeboxos:s,goupile:s,"123siteweb":s,"on-web":s,"chirurgiens-dentistes-en-france":s,dedibox:s,aeroport:s,avocat:s,chambagri:s,"chirurgiens-dentistes":s,"experts-comptables":s,medecin:s,notaires:s,pharmacien:s,port:s,veterinaire:s,myspreadshop:s,ynh:s}],ga:i,gb:i,gd:[1,{edu:i,gov:i}],ge:[1,{com:i,edu:i,gov:i,net:i,org:i,pvt:i,school:i}],gf:i,gg:[1,{co:i,net:i,org:i,botdash:s,kaas:s,stackit:s,panel:[2,{daemon:s}]}],gh:[1,{com:i,edu:i,gov:i,mil:i,org:i}],gi:[1,{com:i,edu:i,gov:i,ltd:i,mod:i,org:i}],gl:[1,{co:i,com:i,edu:i,net:i,org:i,biz:s}],gm:i,gn:[1,{ac:i,com:i,edu:i,gov:i,net:i,org:i}],gov:i,gp:[1,{asso:i,com:i,edu:i,mobi:i,net:i,org:i}],gq:i,gr:[1,{com:i,edu:i,gov:i,net:i,org:i,barsy:s,simplesite:s}],gs:i,gt:[1,{com:i,edu:i,gob:i,ind:i,mil:i,net:i,org:i}],gu:[1,{com:i,edu:i,gov:i,guam:i,info:i,net:i,org:i,web:i}],gw:i,gy:Nt,hk:[1,{com:i,edu:i,gov:i,idv:i,net:i,org:i,"xn--ciqpn":i,\u4E2A\u4EBA:i,"xn--gmqw5a":i,\u500B\u4EBA:i,"xn--55qx5d":i,\u516C\u53F8:i,"xn--mxtq1m":i,\u653F\u5E9C:i,"xn--lcvr32d":i,\u654E\u80B2:i,"xn--wcvs22d":i,\u6559\u80B2:i,"xn--gmq050i":i,\u7B87\u4EBA:i,"xn--uc0atv":i,\u7D44\u7E54:i,"xn--uc0ay4a":i,\u7D44\u7EC7:i,"xn--od0alg":i,\u7DB2\u7D61:i,"xn--zf0avx":i,\u7DB2\u7EDC:i,"xn--mk0axi":i,\u7EC4\u7E54:i,"xn--tn0ag":i,\u7EC4\u7EC7:i,"xn--od0aq3b":i,\u7F51\u7D61:i,"xn--io0a7i":i,\u7F51\u7EDC:i,inc:s,ltd:s}],hm:i,hn:[1,{com:i,edu:i,gob:i,mil:i,net:i,org:i}],hr:[1,{com:i,from:i,iz:i,name:i,brendly:Ie}],ht:[1,{adult:i,art:i,asso:i,com:i,coop:i,edu:i,firm:i,gouv:i,info:i,med:i,net:i,org:i,perso:i,pol:i,pro:i,rel:i,shop:i,rt:s}],hu:[1,{2e3:i,agrar:i,bolt:i,casino:i,city:i,co:i,erotica:i,erotika:i,film:i,forum:i,games:i,hotel:i,info:i,ingatlan:i,jogasz:i,konyvelo:i,lakas:i,media:i,news:i,org:i,priv:i,reklam:i,sex:i,shop:i,sport:i,suli:i,szex:i,tm:i,tozsde:i,utazas:i,video:i}],id:[1,{ac:i,biz:i,co:i,desa:i,go:i,mil:i,my:i,net:i,or:i,ponpes:i,sch:i,web:i,zone:s}],ie:[1,{gov:i,myspreadshop:s}],il:[1,{ac:i,co:[1,{ravpage:s,mytabit:s,tabitorder:s}],gov:i,idf:i,k12:i,muni:i,net:i,org:i}],"xn--4dbrk0ce":[1,{"xn--4dbgdty6c":i,"xn--5dbhl8d":i,"xn--8dbq2a":i,"xn--hebda8b":i}],\u05D9\u05E9\u05E8\u05D0\u05DC:[1,{\u05D0\u05E7\u05D3\u05DE\u05D9\u05D4:i,\u05D9\u05E9\u05D5\u05D1:i,\u05E6\u05D4\u05DC:i,\u05DE\u05DE\u05E9\u05DC:i}],im:[1,{ac:i,co:[1,{ltd:i,plc:i}],com:i,net:i,org:i,tt:i,tv:i}],in:[1,{"5g":i,"6g":i,ac:i,ai:i,am:i,bihar:i,biz:i,business:i,ca:i,cn:i,co:i,com:i,coop:i,cs:i,delhi:i,dr:i,edu:i,er:i,firm:i,gen:i,gov:i,gujarat:i,ind:i,info:i,int:i,internet:i,io:i,me:i,mil:i,net:i,nic:i,org:i,pg:i,post:i,pro:i,res:i,travel:i,tv:i,uk:i,up:i,us:i,cloudns:s,barsy:s,web:s,supabase:s}],info:[1,{cloudns:s,"dynamic-dns":s,"barrel-of-knowledge":s,"barrell-of-knowledge":s,dyndns:s,"for-our":s,"groks-the":s,"groks-this":s,"here-for-more":s,knowsitall:s,selfip:s,webhop:s,barsy:s,mayfirst:s,mittwald:s,mittwaldserver:s,typo3server:s,dvrcam:s,ilovecollege:s,"no-ip":s,forumz:s,nsupdate:s,dnsupdate:s,"v-info":s}],int:[1,{eu:i}],io:[1,{2038:s,co:i,com:i,edu:i,gov:i,mil:i,net:i,nom:i,org:i,"on-acorn":u,myaddr:s,apigee:s,"b-data":s,beagleboard:s,bitbucket:s,bluebite:s,boxfuse:s,brave:d,browsersafetymark:s,bubble:nt,bubbleapps:s,bigv:[0,{uk0:s}],cleverapps:s,cloudbeesusercontent:s,dappnode:[0,{dyndns:s}],darklang:s,definima:s,dedyn:s,"fh-muenster":s,shw:s,forgerock:[0,{id:s}],github:s,gitlab:s,lolipop:s,"hasura-app":s,hostyhosting:s,hypernode:s,moonscale:u,beebyte:G,beebyteapp:[0,{sekd1:s}],jele:s,webthings:s,loginline:s,barsy:s,azurecontainer:u,ngrok:[2,{ap:s,au:s,eu:s,in:s,jp:s,sa:s,us:s}],nodeart:[0,{stage:s}],pantheonsite:s,pstmn:[2,{mock:s}],protonet:s,qcx:[2,{sys:u}],qoto:s,vaporcloud:s,myrdbx:s,"rb-hosting":Pe,"on-k3s":u,"on-rio":u,readthedocs:s,resindevice:s,resinstaging:[0,{devices:s}],hzc:s,sandcats:s,scrypted:[0,{client:s}],"mo-siemens":s,lair:B,stolos:u,musician:s,utwente:s,edugit:s,telebit:s,thingdust:[0,{dev:Rt,disrec:Rt,prod:ge,testing:Rt}],tickets:s,webflow:s,webflowtest:s,editorx:s,wixstudio:s,basicserver:s,virtualserver:s}],iq:c,ir:[1,{ac:i,co:i,gov:i,id:i,net:i,org:i,sch:i,"xn--mgba3a4f16a":i,\u0627\u06CC\u0631\u0627\u0646:i,"xn--mgba3a4fra":i,\u0627\u064A\u0631\u0627\u0646:i,arvanedge:s}],is:i,it:[1,{edu:i,gov:i,abr:i,abruzzo:i,"aosta-valley":i,aostavalley:i,bas:i,basilicata:i,cal:i,calabria:i,cam:i,campania:i,"emilia-romagna":i,emiliaromagna:i,emr:i,"friuli-v-giulia":i,"friuli-ve-giulia":i,"friuli-vegiulia":i,"friuli-venezia-giulia":i,"friuli-veneziagiulia":i,"friuli-vgiulia":i,"friuliv-giulia":i,"friulive-giulia":i,friulivegiulia:i,"friulivenezia-giulia":i,friuliveneziagiulia:i,friulivgiulia:i,fvg:i,laz:i,lazio:i,lig:i,liguria:i,lom:i,lombardia:i,lombardy:i,lucania:i,mar:i,marche:i,mol:i,molise:i,piedmont:i,piemonte:i,pmn:i,pug:i,puglia:i,sar:i,sardegna:i,sardinia:i,sic:i,sicilia:i,sicily:i,taa:i,tos:i,toscana:i,"trentin-sud-tirol":i,"xn--trentin-sd-tirol-rzb":i,"trentin-s\xFCd-tirol":i,"trentin-sudtirol":i,"xn--trentin-sdtirol-7vb":i,"trentin-s\xFCdtirol":i,"trentin-sued-tirol":i,"trentin-suedtirol":i,trentino:i,"trentino-a-adige":i,"trentino-aadige":i,"trentino-alto-adige":i,"trentino-altoadige":i,"trentino-s-tirol":i,"trentino-stirol":i,"trentino-sud-tirol":i,"xn--trentino-sd-tirol-c3b":i,"trentino-s\xFCd-tirol":i,"trentino-sudtirol":i,"xn--trentino-sdtirol-szb":i,"trentino-s\xFCdtirol":i,"trentino-sued-tirol":i,"trentino-suedtirol":i,"trentinoa-adige":i,trentinoaadige:i,"trentinoalto-adige":i,trentinoaltoadige:i,"trentinos-tirol":i,trentinostirol:i,"trentinosud-tirol":i,"xn--trentinosd-tirol-rzb":i,"trentinos\xFCd-tirol":i,trentinosudtirol:i,"xn--trentinosdtirol-7vb":i,trentinos\u00FCdtirol:i,"trentinosued-tirol":i,trentinosuedtirol:i,"trentinsud-tirol":i,"xn--trentinsd-tirol-6vb":i,"trentins\xFCd-tirol":i,trentinsudtirol:i,"xn--trentinsdtirol-nsb":i,trentins\u00FCdtirol:i,"trentinsued-tirol":i,trentinsuedtirol:i,tuscany:i,umb:i,umbria:i,"val-d-aosta":i,"val-daosta":i,"vald-aosta":i,valdaosta:i,"valle-aosta":i,"valle-d-aosta":i,"valle-daosta":i,valleaosta:i,"valled-aosta":i,valledaosta:i,"vallee-aoste":i,"xn--valle-aoste-ebb":i,"vall\xE9e-aoste":i,"vallee-d-aoste":i,"xn--valle-d-aoste-ehb":i,"vall\xE9e-d-aoste":i,valleeaoste:i,"xn--valleaoste-e7a":i,vall\u00E9eaoste:i,valleedaoste:i,"xn--valledaoste-ebb":i,vall\u00E9edaoste:i,vao:i,vda:i,ven:i,veneto:i,ag:i,agrigento:i,al:i,alessandria:i,"alto-adige":i,altoadige:i,an:i,ancona:i,"andria-barletta-trani":i,"andria-trani-barletta":i,andriabarlettatrani:i,andriatranibarletta:i,ao:i,aosta:i,aoste:i,ap:i,aq:i,aquila:i,ar:i,arezzo:i,"ascoli-piceno":i,ascolipiceno:i,asti:i,at:i,av:i,avellino:i,ba:i,balsan:i,"balsan-sudtirol":i,"xn--balsan-sdtirol-nsb":i,"balsan-s\xFCdtirol":i,"balsan-suedtirol":i,bari:i,"barletta-trani-andria":i,barlettatraniandria:i,belluno:i,benevento:i,bergamo:i,bg:i,bi:i,biella:i,bl:i,bn:i,bo:i,bologna:i,bolzano:i,"bolzano-altoadige":i,bozen:i,"bozen-sudtirol":i,"xn--bozen-sdtirol-2ob":i,"bozen-s\xFCdtirol":i,"bozen-suedtirol":i,br:i,brescia:i,brindisi:i,bs:i,bt:i,bulsan:i,"bulsan-sudtirol":i,"xn--bulsan-sdtirol-nsb":i,"bulsan-s\xFCdtirol":i,"bulsan-suedtirol":i,bz:i,ca:i,cagliari:i,caltanissetta:i,"campidano-medio":i,campidanomedio:i,campobasso:i,"carbonia-iglesias":i,carboniaiglesias:i,"carrara-massa":i,carraramassa:i,caserta:i,catania:i,catanzaro:i,cb:i,ce:i,"cesena-forli":i,"xn--cesena-forl-mcb":i,"cesena-forl\xEC":i,cesenaforli:i,"xn--cesenaforl-i8a":i,cesenaforl\u00EC:i,ch:i,chieti:i,ci:i,cl:i,cn:i,co:i,como:i,cosenza:i,cr:i,cremona:i,crotone:i,cs:i,ct:i,cuneo:i,cz:i,"dell-ogliastra":i,dellogliastra:i,en:i,enna:i,fc:i,fe:i,fermo:i,ferrara:i,fg:i,fi:i,firenze:i,florence:i,fm:i,foggia:i,"forli-cesena":i,"xn--forl-cesena-fcb":i,"forl\xEC-cesena":i,forlicesena:i,"xn--forlcesena-c8a":i,forl\u00ECcesena:i,fr:i,frosinone:i,ge:i,genoa:i,genova:i,go:i,gorizia:i,gr:i,grosseto:i,"iglesias-carbonia":i,iglesiascarbonia:i,im:i,imperia:i,is:i,isernia:i,kr:i,"la-spezia":i,laquila:i,laspezia:i,latina:i,lc:i,le:i,lecce:i,lecco:i,li:i,livorno:i,lo:i,lodi:i,lt:i,lu:i,lucca:i,macerata:i,mantova:i,"massa-carrara":i,massacarrara:i,matera:i,mb:i,mc:i,me:i,"medio-campidano":i,mediocampidano:i,messina:i,mi:i,milan:i,milano:i,mn:i,mo:i,modena:i,monza:i,"monza-brianza":i,"monza-e-della-brianza":i,monzabrianza:i,monzaebrianza:i,monzaedellabrianza:i,ms:i,mt:i,na:i,naples:i,napoli:i,no:i,novara:i,nu:i,nuoro:i,og:i,ogliastra:i,"olbia-tempio":i,olbiatempio:i,or:i,oristano:i,ot:i,pa:i,padova:i,padua:i,palermo:i,parma:i,pavia:i,pc:i,pd:i,pe:i,perugia:i,"pesaro-urbino":i,pesarourbino:i,pescara:i,pg:i,pi:i,piacenza:i,pisa:i,pistoia:i,pn:i,po:i,pordenone:i,potenza:i,pr:i,prato:i,pt:i,pu:i,pv:i,pz:i,ra:i,ragusa:i,ravenna:i,rc:i,re:i,"reggio-calabria":i,"reggio-emilia":i,reggiocalabria:i,reggioemilia:i,rg:i,ri:i,rieti:i,rimini:i,rm:i,rn:i,ro:i,roma:i,rome:i,rovigo:i,sa:i,salerno:i,sassari:i,savona:i,si:i,siena:i,siracusa:i,so:i,sondrio:i,sp:i,sr:i,ss:i,"xn--sdtirol-n2a":i,s\u00FCdtirol:i,suedtirol:i,sv:i,ta:i,taranto:i,te:i,"tempio-olbia":i,tempioolbia:i,teramo:i,terni:i,tn:i,to:i,torino:i,tp:i,tr:i,"trani-andria-barletta":i,"trani-barletta-andria":i,traniandriabarletta:i,tranibarlettaandria:i,trapani:i,trento:i,treviso:i,trieste:i,ts:i,turin:i,tv:i,ud:i,udine:i,"urbino-pesaro":i,urbinopesaro:i,va:i,varese:i,vb:i,vc:i,ve:i,venezia:i,venice:i,verbania:i,vercelli:i,verona:i,vi:i,"vibo-valentia":i,vibovalentia:i,vicenza:i,viterbo:i,vr:i,vs:i,vt:i,vv:i,"12chars":s,ibxos:s,iliadboxos:s,neen:[0,{jc:s}],"123homepage":s,"16-b":s,"32-b":s,"64-b":s,myspreadshop:s,syncloud:s}],je:[1,{co:i,net:i,org:i,of:s}],jm:S,jo:[1,{agri:i,ai:i,com:i,edu:i,eng:i,fm:i,gov:i,mil:i,net:i,org:i,per:i,phd:i,sch:i,tv:i}],jobs:i,jp:[1,{ac:i,ad:i,co:i,ed:i,go:i,gr:i,lg:i,ne:[1,{aseinet:De,gehirn:s,ivory:s,"mail-box":s,mints:s,mokuren:s,opal:s,sakura:s,sumomo:s,topaz:s}],or:i,aichi:[1,{aisai:i,ama:i,anjo:i,asuke:i,chiryu:i,chita:i,fuso:i,gamagori:i,handa:i,hazu:i,hekinan:i,higashiura:i,ichinomiya:i,inazawa:i,inuyama:i,isshiki:i,iwakura:i,kanie:i,kariya:i,kasugai:i,kira:i,kiyosu:i,komaki:i,konan:i,kota:i,mihama:i,miyoshi:i,nishio:i,nisshin:i,obu:i,oguchi:i,oharu:i,okazaki:i,owariasahi:i,seto:i,shikatsu:i,shinshiro:i,shitara:i,tahara:i,takahama:i,tobishima:i,toei:i,togo:i,tokai:i,tokoname:i,toyoake:i,toyohashi:i,toyokawa:i,toyone:i,toyota:i,tsushima:i,yatomi:i}],akita:[1,{akita:i,daisen:i,fujisato:i,gojome:i,hachirogata:i,happou:i,higashinaruse:i,honjo:i,honjyo:i,ikawa:i,kamikoani:i,kamioka:i,katagami:i,kazuno:i,kitaakita:i,kosaka:i,kyowa:i,misato:i,mitane:i,moriyoshi:i,nikaho:i,noshiro:i,odate:i,oga:i,ogata:i,semboku:i,yokote:i,yurihonjo:i}],aomori:[1,{aomori:i,gonohe:i,hachinohe:i,hashikami:i,hiranai:i,hirosaki:i,itayanagi:i,kuroishi:i,misawa:i,mutsu:i,nakadomari:i,noheji:i,oirase:i,owani:i,rokunohe:i,sannohe:i,shichinohe:i,shingo:i,takko:i,towada:i,tsugaru:i,tsuruta:i}],chiba:[1,{abiko:i,asahi:i,chonan:i,chosei:i,choshi:i,chuo:i,funabashi:i,futtsu:i,hanamigawa:i,ichihara:i,ichikawa:i,ichinomiya:i,inzai:i,isumi:i,kamagaya:i,kamogawa:i,kashiwa:i,katori:i,katsuura:i,kimitsu:i,kisarazu:i,kozaki:i,kujukuri:i,kyonan:i,matsudo:i,midori:i,mihama:i,minamiboso:i,mobara:i,mutsuzawa:i,nagara:i,nagareyama:i,narashino:i,narita:i,noda:i,oamishirasato:i,omigawa:i,onjuku:i,otaki:i,sakae:i,sakura:i,shimofusa:i,shirako:i,shiroi:i,shisui:i,sodegaura:i,sosa:i,tako:i,tateyama:i,togane:i,tohnosho:i,tomisato:i,urayasu:i,yachimata:i,yachiyo:i,yokaichiba:i,yokoshibahikari:i,yotsukaido:i}],ehime:[1,{ainan:i,honai:i,ikata:i,imabari:i,iyo:i,kamijima:i,kihoku:i,kumakogen:i,masaki:i,matsuno:i,matsuyama:i,namikata:i,niihama:i,ozu:i,saijo:i,seiyo:i,shikokuchuo:i,tobe:i,toon:i,uchiko:i,uwajima:i,yawatahama:i}],fukui:[1,{echizen:i,eiheiji:i,fukui:i,ikeda:i,katsuyama:i,mihama:i,minamiechizen:i,obama:i,ohi:i,ono:i,sabae:i,sakai:i,takahama:i,tsuruga:i,wakasa:i}],fukuoka:[1,{ashiya:i,buzen:i,chikugo:i,chikuho:i,chikujo:i,chikushino:i,chikuzen:i,chuo:i,dazaifu:i,fukuchi:i,hakata:i,higashi:i,hirokawa:i,hisayama:i,iizuka:i,inatsuki:i,kaho:i,kasuga:i,kasuya:i,kawara:i,keisen:i,koga:i,kurate:i,kurogi:i,kurume:i,minami:i,miyako:i,miyama:i,miyawaka:i,mizumaki:i,munakata:i,nakagawa:i,nakama:i,nishi:i,nogata:i,ogori:i,okagaki:i,okawa:i,oki:i,omuta:i,onga:i,onojo:i,oto:i,saigawa:i,sasaguri:i,shingu:i,shinyoshitomi:i,shonai:i,soeda:i,sue:i,tachiarai:i,tagawa:i,takata:i,toho:i,toyotsu:i,tsuiki:i,ukiha:i,umi:i,usui:i,yamada:i,yame:i,yanagawa:i,yukuhashi:i}],fukushima:[1,{aizubange:i,aizumisato:i,aizuwakamatsu:i,asakawa:i,bandai:i,date:i,fukushima:i,furudono:i,futaba:i,hanawa:i,higashi:i,hirata:i,hirono:i,iitate:i,inawashiro:i,ishikawa:i,iwaki:i,izumizaki:i,kagamiishi:i,kaneyama:i,kawamata:i,kitakata:i,kitashiobara:i,koori:i,koriyama:i,kunimi:i,miharu:i,mishima:i,namie:i,nango:i,nishiaizu:i,nishigo:i,okuma:i,omotego:i,ono:i,otama:i,samegawa:i,shimogo:i,shirakawa:i,showa:i,soma:i,sukagawa:i,taishin:i,tamakawa:i,tanagura:i,tenei:i,yabuki:i,yamato:i,yamatsuri:i,yanaizu:i,yugawa:i}],gifu:[1,{anpachi:i,ena:i,gifu:i,ginan:i,godo:i,gujo:i,hashima:i,hichiso:i,hida:i,higashishirakawa:i,ibigawa:i,ikeda:i,kakamigahara:i,kani:i,kasahara:i,kasamatsu:i,kawaue:i,kitagata:i,mino:i,minokamo:i,mitake:i,mizunami:i,motosu:i,nakatsugawa:i,ogaki:i,sakahogi:i,seki:i,sekigahara:i,shirakawa:i,tajimi:i,takayama:i,tarui:i,toki:i,tomika:i,wanouchi:i,yamagata:i,yaotsu:i,yoro:i}],gunma:[1,{annaka:i,chiyoda:i,fujioka:i,higashiagatsuma:i,isesaki:i,itakura:i,kanna:i,kanra:i,katashina:i,kawaba:i,kiryu:i,kusatsu:i,maebashi:i,meiwa:i,midori:i,minakami:i,naganohara:i,nakanojo:i,nanmoku:i,numata:i,oizumi:i,ora:i,ota:i,shibukawa:i,shimonita:i,shinto:i,showa:i,takasaki:i,takayama:i,tamamura:i,tatebayashi:i,tomioka:i,tsukiyono:i,tsumagoi:i,ueno:i,yoshioka:i}],hiroshima:[1,{asaminami:i,daiwa:i,etajima:i,fuchu:i,fukuyama:i,hatsukaichi:i,higashihiroshima:i,hongo:i,jinsekikogen:i,kaita:i,kui:i,kumano:i,kure:i,mihara:i,miyoshi:i,naka:i,onomichi:i,osakikamijima:i,otake:i,saka:i,sera:i,seranishi:i,shinichi:i,shobara:i,takehara:i}],hokkaido:[1,{abashiri:i,abira:i,aibetsu:i,akabira:i,akkeshi:i,asahikawa:i,ashibetsu:i,ashoro:i,assabu:i,atsuma:i,bibai:i,biei:i,bifuka:i,bihoro:i,biratori:i,chippubetsu:i,chitose:i,date:i,ebetsu:i,embetsu:i,eniwa:i,erimo:i,esan:i,esashi:i,fukagawa:i,fukushima:i,furano:i,furubira:i,haboro:i,hakodate:i,hamatonbetsu:i,hidaka:i,higashikagura:i,higashikawa:i,hiroo:i,hokuryu:i,hokuto:i,honbetsu:i,horokanai:i,horonobe:i,ikeda:i,imakane:i,ishikari:i,iwamizawa:i,iwanai:i,kamifurano:i,kamikawa:i,kamishihoro:i,kamisunagawa:i,kamoenai:i,kayabe:i,kembuchi:i,kikonai:i,kimobetsu:i,kitahiroshima:i,kitami:i,kiyosato:i,koshimizu:i,kunneppu:i,kuriyama:i,kuromatsunai:i,kushiro:i,kutchan:i,kyowa:i,mashike:i,matsumae:i,mikasa:i,minamifurano:i,mombetsu:i,moseushi:i,mukawa:i,muroran:i,naie:i,nakagawa:i,nakasatsunai:i,nakatombetsu:i,nanae:i,nanporo:i,nayoro:i,nemuro:i,niikappu:i,niki:i,nishiokoppe:i,noboribetsu:i,numata:i,obihiro:i,obira:i,oketo:i,okoppe:i,otaru:i,otobe:i,otofuke:i,otoineppu:i,oumu:i,ozora:i,pippu:i,rankoshi:i,rebun:i,rikubetsu:i,rishiri:i,rishirifuji:i,saroma:i,sarufutsu:i,shakotan:i,shari:i,shibecha:i,shibetsu:i,shikabe:i,shikaoi:i,shimamaki:i,shimizu:i,shimokawa:i,shinshinotsu:i,shintoku:i,shiranuka:i,shiraoi:i,shiriuchi:i,sobetsu:i,sunagawa:i,taiki:i,takasu:i,takikawa:i,takinoue:i,teshikaga:i,tobetsu:i,tohma:i,tomakomai:i,tomari:i,toya:i,toyako:i,toyotomi:i,toyoura:i,tsubetsu:i,tsukigata:i,urakawa:i,urausu:i,uryu:i,utashinai:i,wakkanai:i,wassamu:i,yakumo:i,yoichi:i}],hyogo:[1,{aioi:i,akashi:i,ako:i,amagasaki:i,aogaki:i,asago:i,ashiya:i,awaji:i,fukusaki:i,goshiki:i,harima:i,himeji:i,ichikawa:i,inagawa:i,itami:i,kakogawa:i,kamigori:i,kamikawa:i,kasai:i,kasuga:i,kawanishi:i,miki:i,minamiawaji:i,nishinomiya:i,nishiwaki:i,ono:i,sanda:i,sannan:i,sasayama:i,sayo:i,shingu:i,shinonsen:i,shiso:i,sumoto:i,taishi:i,taka:i,takarazuka:i,takasago:i,takino:i,tamba:i,tatsuno:i,toyooka:i,yabu:i,yashiro:i,yoka:i,yokawa:i}],ibaraki:[1,{ami:i,asahi:i,bando:i,chikusei:i,daigo:i,fujishiro:i,hitachi:i,hitachinaka:i,hitachiomiya:i,hitachiota:i,ibaraki:i,ina:i,inashiki:i,itako:i,iwama:i,joso:i,kamisu:i,kasama:i,kashima:i,kasumigaura:i,koga:i,miho:i,mito:i,moriya:i,naka:i,namegata:i,oarai:i,ogawa:i,omitama:i,ryugasaki:i,sakai:i,sakuragawa:i,shimodate:i,shimotsuma:i,shirosato:i,sowa:i,suifu:i,takahagi:i,tamatsukuri:i,tokai:i,tomobe:i,tone:i,toride:i,tsuchiura:i,tsukuba:i,uchihara:i,ushiku:i,yachiyo:i,yamagata:i,yawara:i,yuki:i}],ishikawa:[1,{anamizu:i,hakui:i,hakusan:i,kaga:i,kahoku:i,kanazawa:i,kawakita:i,komatsu:i,nakanoto:i,nanao:i,nomi:i,nonoichi:i,noto:i,shika:i,suzu:i,tsubata:i,tsurugi:i,uchinada:i,wajima:i}],iwate:[1,{fudai:i,fujisawa:i,hanamaki:i,hiraizumi:i,hirono:i,ichinohe:i,ichinoseki:i,iwaizumi:i,iwate:i,joboji:i,kamaishi:i,kanegasaki:i,karumai:i,kawai:i,kitakami:i,kuji:i,kunohe:i,kuzumaki:i,miyako:i,mizusawa:i,morioka:i,ninohe:i,noda:i,ofunato:i,oshu:i,otsuchi:i,rikuzentakata:i,shiwa:i,shizukuishi:i,sumita:i,tanohata:i,tono:i,yahaba:i,yamada:i}],kagawa:[1,{ayagawa:i,higashikagawa:i,kanonji:i,kotohira:i,manno:i,marugame:i,mitoyo:i,naoshima:i,sanuki:i,tadotsu:i,takamatsu:i,tonosho:i,uchinomi:i,utazu:i,zentsuji:i}],kagoshima:[1,{akune:i,amami:i,hioki:i,isa:i,isen:i,izumi:i,kagoshima:i,kanoya:i,kawanabe:i,kinko:i,kouyama:i,makurazaki:i,matsumoto:i,minamitane:i,nakatane:i,nishinoomote:i,satsumasendai:i,soo:i,tarumizu:i,yusui:i}],kanagawa:[1,{aikawa:i,atsugi:i,ayase:i,chigasaki:i,ebina:i,fujisawa:i,hadano:i,hakone:i,hiratsuka:i,isehara:i,kaisei:i,kamakura:i,kiyokawa:i,matsuda:i,minamiashigara:i,miura:i,nakai:i,ninomiya:i,odawara:i,oi:i,oiso:i,sagamihara:i,samukawa:i,tsukui:i,yamakita:i,yamato:i,yokosuka:i,yugawara:i,zama:i,zushi:i}],kochi:[1,{aki:i,geisei:i,hidaka:i,higashitsuno:i,ino:i,kagami:i,kami:i,kitagawa:i,kochi:i,mihara:i,motoyama:i,muroto:i,nahari:i,nakamura:i,nankoku:i,nishitosa:i,niyodogawa:i,ochi:i,okawa:i,otoyo:i,otsuki:i,sakawa:i,sukumo:i,susaki:i,tosa:i,tosashimizu:i,toyo:i,tsuno:i,umaji:i,yasuda:i,yusuhara:i}],kumamoto:[1,{amakusa:i,arao:i,aso:i,choyo:i,gyokuto:i,kamiamakusa:i,kikuchi:i,kumamoto:i,mashiki:i,mifune:i,minamata:i,minamioguni:i,nagasu:i,nishihara:i,oguni:i,ozu:i,sumoto:i,takamori:i,uki:i,uto:i,yamaga:i,yamato:i,yatsushiro:i}],kyoto:[1,{ayabe:i,fukuchiyama:i,higashiyama:i,ide:i,ine:i,joyo:i,kameoka:i,kamo:i,kita:i,kizu:i,kumiyama:i,kyotamba:i,kyotanabe:i,kyotango:i,maizuru:i,minami:i,minamiyamashiro:i,miyazu:i,muko:i,nagaokakyo:i,nakagyo:i,nantan:i,oyamazaki:i,sakyo:i,seika:i,tanabe:i,uji:i,ujitawara:i,wazuka:i,yamashina:i,yawata:i}],mie:[1,{asahi:i,inabe:i,ise:i,kameyama:i,kawagoe:i,kiho:i,kisosaki:i,kiwa:i,komono:i,kumano:i,kuwana:i,matsusaka:i,meiwa:i,mihama:i,minamiise:i,misugi:i,miyama:i,nabari:i,shima:i,suzuka:i,tado:i,taiki:i,taki:i,tamaki:i,toba:i,tsu:i,udono:i,ureshino:i,watarai:i,yokkaichi:i}],miyagi:[1,{furukawa:i,higashimatsushima:i,ishinomaki:i,iwanuma:i,kakuda:i,kami:i,kawasaki:i,marumori:i,matsushima:i,minamisanriku:i,misato:i,murata:i,natori:i,ogawara:i,ohira:i,onagawa:i,osaki:i,rifu:i,semine:i,shibata:i,shichikashuku:i,shikama:i,shiogama:i,shiroishi:i,tagajo:i,taiwa:i,tome:i,tomiya:i,wakuya:i,watari:i,yamamoto:i,zao:i}],miyazaki:[1,{aya:i,ebino:i,gokase:i,hyuga:i,kadogawa:i,kawaminami:i,kijo:i,kitagawa:i,kitakata:i,kitaura:i,kobayashi:i,kunitomi:i,kushima:i,mimata:i,miyakonojo:i,miyazaki:i,morotsuka:i,nichinan:i,nishimera:i,nobeoka:i,saito:i,shiiba:i,shintomi:i,takaharu:i,takanabe:i,takazaki:i,tsuno:i}],nagano:[1,{achi:i,agematsu:i,anan:i,aoki:i,asahi:i,azumino:i,chikuhoku:i,chikuma:i,chino:i,fujimi:i,hakuba:i,hara:i,hiraya:i,iida:i,iijima:i,iiyama:i,iizuna:i,ikeda:i,ikusaka:i,ina:i,karuizawa:i,kawakami:i,kiso:i,kisofukushima:i,kitaaiki:i,komagane:i,komoro:i,matsukawa:i,matsumoto:i,miasa:i,minamiaiki:i,minamimaki:i,minamiminowa:i,minowa:i,miyada:i,miyota:i,mochizuki:i,nagano:i,nagawa:i,nagiso:i,nakagawa:i,nakano:i,nozawaonsen:i,obuse:i,ogawa:i,okaya:i,omachi:i,omi:i,ookuwa:i,ooshika:i,otaki:i,otari:i,sakae:i,sakaki:i,saku:i,sakuho:i,shimosuwa:i,shinanomachi:i,shiojiri:i,suwa:i,suzaka:i,takagi:i,takamori:i,takayama:i,tateshina:i,tatsuno:i,togakushi:i,togura:i,tomi:i,ueda:i,wada:i,yamagata:i,yamanouchi:i,yasaka:i,yasuoka:i}],nagasaki:[1,{chijiwa:i,futsu:i,goto:i,hasami:i,hirado:i,iki:i,isahaya:i,kawatana:i,kuchinotsu:i,matsuura:i,nagasaki:i,obama:i,omura:i,oseto:i,saikai:i,sasebo:i,seihi:i,shimabara:i,shinkamigoto:i,togitsu:i,tsushima:i,unzen:i}],nara:[1,{ando:i,gose:i,heguri:i,higashiyoshino:i,ikaruga:i,ikoma:i,kamikitayama:i,kanmaki:i,kashiba:i,kashihara:i,katsuragi:i,kawai:i,kawakami:i,kawanishi:i,koryo:i,kurotaki:i,mitsue:i,miyake:i,nara:i,nosegawa:i,oji:i,ouda:i,oyodo:i,sakurai:i,sango:i,shimoichi:i,shimokitayama:i,shinjo:i,soni:i,takatori:i,tawaramoto:i,tenkawa:i,tenri:i,uda:i,yamatokoriyama:i,yamatotakada:i,yamazoe:i,yoshino:i}],niigata:[1,{aga:i,agano:i,gosen:i,itoigawa:i,izumozaki:i,joetsu:i,kamo:i,kariwa:i,kashiwazaki:i,minamiuonuma:i,mitsuke:i,muika:i,murakami:i,myoko:i,nagaoka:i,niigata:i,ojiya:i,omi:i,sado:i,sanjo:i,seiro:i,seirou:i,sekikawa:i,shibata:i,tagami:i,tainai:i,tochio:i,tokamachi:i,tsubame:i,tsunan:i,uonuma:i,yahiko:i,yoita:i,yuzawa:i}],oita:[1,{beppu:i,bungoono:i,bungotakada:i,hasama:i,hiji:i,himeshima:i,hita:i,kamitsue:i,kokonoe:i,kuju:i,kunisaki:i,kusu:i,oita:i,saiki:i,taketa:i,tsukumi:i,usa:i,usuki:i,yufu:i}],okayama:[1,{akaiwa:i,asakuchi:i,bizen:i,hayashima:i,ibara:i,kagamino:i,kasaoka:i,kibichuo:i,kumenan:i,kurashiki:i,maniwa:i,misaki:i,nagi:i,niimi:i,nishiawakura:i,okayama:i,satosho:i,setouchi:i,shinjo:i,shoo:i,soja:i,takahashi:i,tamano:i,tsuyama:i,wake:i,yakage:i}],okinawa:[1,{aguni:i,ginowan:i,ginoza:i,gushikami:i,haebaru:i,higashi:i,hirara:i,iheya:i,ishigaki:i,ishikawa:i,itoman:i,izena:i,kadena:i,kin:i,kitadaito:i,kitanakagusuku:i,kumejima:i,kunigami:i,minamidaito:i,motobu:i,nago:i,naha:i,nakagusuku:i,nakijin:i,nanjo:i,nishihara:i,ogimi:i,okinawa:i,onna:i,shimoji:i,taketomi:i,tarama:i,tokashiki:i,tomigusuku:i,tonaki:i,urasoe:i,uruma:i,yaese:i,yomitan:i,yonabaru:i,yonaguni:i,zamami:i}],osaka:[1,{abeno:i,chihayaakasaka:i,chuo:i,daito:i,fujiidera:i,habikino:i,hannan:i,higashiosaka:i,higashisumiyoshi:i,higashiyodogawa:i,hirakata:i,ibaraki:i,ikeda:i,izumi:i,izumiotsu:i,izumisano:i,kadoma:i,kaizuka:i,kanan:i,kashiwara:i,katano:i,kawachinagano:i,kishiwada:i,kita:i,kumatori:i,matsubara:i,minato:i,minoh:i,misaki:i,moriguchi:i,neyagawa:i,nishi:i,nose:i,osakasayama:i,sakai:i,sayama:i,sennan:i,settsu:i,shijonawate:i,shimamoto:i,suita:i,tadaoka:i,taishi:i,tajiri:i,takaishi:i,takatsuki:i,tondabayashi:i,toyonaka:i,toyono:i,yao:i}],saga:[1,{ariake:i,arita:i,fukudomi:i,genkai:i,hamatama:i,hizen:i,imari:i,kamimine:i,kanzaki:i,karatsu:i,kashima:i,kitagata:i,kitahata:i,kiyama:i,kouhoku:i,kyuragi:i,nishiarita:i,ogi:i,omachi:i,ouchi:i,saga:i,shiroishi:i,taku:i,tara:i,tosu:i,yoshinogari:i}],saitama:[1,{arakawa:i,asaka:i,chichibu:i,fujimi:i,fujimino:i,fukaya:i,hanno:i,hanyu:i,hasuda:i,hatogaya:i,hatoyama:i,hidaka:i,higashichichibu:i,higashimatsuyama:i,honjo:i,ina:i,iruma:i,iwatsuki:i,kamiizumi:i,kamikawa:i,kamisato:i,kasukabe:i,kawagoe:i,kawaguchi:i,kawajima:i,kazo:i,kitamoto:i,koshigaya:i,kounosu:i,kuki:i,kumagaya:i,matsubushi:i,minano:i,misato:i,miyashiro:i,miyoshi:i,moroyama:i,nagatoro:i,namegawa:i,niiza:i,ogano:i,ogawa:i,ogose:i,okegawa:i,omiya:i,otaki:i,ranzan:i,ryokami:i,saitama:i,sakado:i,satte:i,sayama:i,shiki:i,shiraoka:i,soka:i,sugito:i,toda:i,tokigawa:i,tokorozawa:i,tsurugashima:i,urawa:i,warabi:i,yashio:i,yokoze:i,yono:i,yorii:i,yoshida:i,yoshikawa:i,yoshimi:i}],shiga:[1,{aisho:i,gamo:i,higashiomi:i,hikone:i,koka:i,konan:i,kosei:i,koto:i,kusatsu:i,maibara:i,moriyama:i,nagahama:i,nishiazai:i,notogawa:i,omihachiman:i,otsu:i,ritto:i,ryuoh:i,takashima:i,takatsuki:i,torahime:i,toyosato:i,yasu:i}],shimane:[1,{akagi:i,ama:i,gotsu:i,hamada:i,higashiizumo:i,hikawa:i,hikimi:i,izumo:i,kakinoki:i,masuda:i,matsue:i,misato:i,nishinoshima:i,ohda:i,okinoshima:i,okuizumo:i,shimane:i,tamayu:i,tsuwano:i,unnan:i,yakumo:i,yasugi:i,yatsuka:i}],shizuoka:[1,{arai:i,atami:i,fuji:i,fujieda:i,fujikawa:i,fujinomiya:i,fukuroi:i,gotemba:i,haibara:i,hamamatsu:i,higashiizu:i,ito:i,iwata:i,izu:i,izunokuni:i,kakegawa:i,kannami:i,kawanehon:i,kawazu:i,kikugawa:i,kosai:i,makinohara:i,matsuzaki:i,minamiizu:i,mishima:i,morimachi:i,nishiizu:i,numazu:i,omaezaki:i,shimada:i,shimizu:i,shimoda:i,shizuoka:i,susono:i,yaizu:i,yoshida:i}],tochigi:[1,{ashikaga:i,bato:i,haga:i,ichikai:i,iwafune:i,kaminokawa:i,kanuma:i,karasuyama:i,kuroiso:i,mashiko:i,mibu:i,moka:i,motegi:i,nasu:i,nasushiobara:i,nikko:i,nishikata:i,nogi:i,ohira:i,ohtawara:i,oyama:i,sakura:i,sano:i,shimotsuke:i,shioya:i,takanezawa:i,tochigi:i,tsuga:i,ujiie:i,utsunomiya:i,yaita:i}],tokushima:[1,{aizumi:i,anan:i,ichiba:i,itano:i,kainan:i,komatsushima:i,matsushige:i,mima:i,minami:i,miyoshi:i,mugi:i,nakagawa:i,naruto:i,sanagochi:i,shishikui:i,tokushima:i,wajiki:i}],tokyo:[1,{adachi:i,akiruno:i,akishima:i,aogashima:i,arakawa:i,bunkyo:i,chiyoda:i,chofu:i,chuo:i,edogawa:i,fuchu:i,fussa:i,hachijo:i,hachioji:i,hamura:i,higashikurume:i,higashimurayama:i,higashiyamato:i,hino:i,hinode:i,hinohara:i,inagi:i,itabashi:i,katsushika:i,kita:i,kiyose:i,kodaira:i,koganei:i,kokubunji:i,komae:i,koto:i,kouzushima:i,kunitachi:i,machida:i,meguro:i,minato:i,mitaka:i,mizuho:i,musashimurayama:i,musashino:i,nakano:i,nerima:i,ogasawara:i,okutama:i,ome:i,oshima:i,ota:i,setagaya:i,shibuya:i,shinagawa:i,shinjuku:i,suginami:i,sumida:i,tachikawa:i,taito:i,tama:i,toshima:i}],tottori:[1,{chizu:i,hino:i,kawahara:i,koge:i,kotoura:i,misasa:i,nanbu:i,nichinan:i,sakaiminato:i,tottori:i,wakasa:i,yazu:i,yonago:i}],toyama:[1,{asahi:i,fuchu:i,fukumitsu:i,funahashi:i,himi:i,imizu:i,inami:i,johana:i,kamiichi:i,kurobe:i,nakaniikawa:i,namerikawa:i,nanto:i,nyuzen:i,oyabe:i,taira:i,takaoka:i,tateyama:i,toga:i,tonami:i,toyama:i,unazuki:i,uozu:i,yamada:i}],wakayama:[1,{arida:i,aridagawa:i,gobo:i,hashimoto:i,hidaka:i,hirogawa:i,inami:i,iwade:i,kainan:i,kamitonda:i,katsuragi:i,kimino:i,kinokawa:i,kitayama:i,koya:i,koza:i,kozagawa:i,kudoyama:i,kushimoto:i,mihama:i,misato:i,nachikatsuura:i,shingu:i,shirahama:i,taiji:i,tanabe:i,wakayama:i,yuasa:i,yura:i}],yamagata:[1,{asahi:i,funagata:i,higashine:i,iide:i,kahoku:i,kaminoyama:i,kaneyama:i,kawanishi:i,mamurogawa:i,mikawa:i,murayama:i,nagai:i,nakayama:i,nanyo:i,nishikawa:i,obanazawa:i,oe:i,oguni:i,ohkura:i,oishida:i,sagae:i,sakata:i,sakegawa:i,shinjo:i,shirataka:i,shonai:i,takahata:i,tendo:i,tozawa:i,tsuruoka:i,yamagata:i,yamanobe:i,yonezawa:i,yuza:i}],yamaguchi:[1,{abu:i,hagi:i,hikari:i,hofu:i,iwakuni:i,kudamatsu:i,mitou:i,nagato:i,oshima:i,shimonoseki:i,shunan:i,tabuse:i,tokuyama:i,toyota:i,ube:i,yuu:i}],yamanashi:[1,{chuo:i,doshi:i,fuefuki:i,fujikawa:i,fujikawaguchiko:i,fujiyoshida:i,hayakawa:i,hokuto:i,ichikawamisato:i,kai:i,kofu:i,koshu:i,kosuge:i,"minami-alps":i,minobu:i,nakamichi:i,nanbu:i,narusawa:i,nirasaki:i,nishikatsura:i,oshino:i,otsuki:i,showa:i,tabayama:i,tsuru:i,uenohara:i,yamanakako:i,yamanashi:i}],"xn--ehqz56n":i,\u4E09\u91CD:i,"xn--1lqs03n":i,\u4EAC\u90FD:i,"xn--qqqt11m":i,\u4F50\u8CC0:i,"xn--f6qx53a":i,\u5175\u5EAB:i,"xn--djrs72d6uy":i,\u5317\u6D77\u9053:i,"xn--mkru45i":i,\u5343\u8449:i,"xn--0trq7p7nn":i,\u548C\u6B4C\u5C71:i,"xn--5js045d":i,\u57FC\u7389:i,"xn--kbrq7o":i,\u5927\u5206:i,"xn--pssu33l":i,\u5927\u962A:i,"xn--ntsq17g":i,\u5948\u826F:i,"xn--uisz3g":i,\u5BAE\u57CE:i,"xn--6btw5a":i,\u5BAE\u5D0E:i,"xn--1ctwo":i,\u5BCC\u5C71:i,"xn--6orx2r":i,\u5C71\u53E3:i,"xn--rht61e":i,\u5C71\u5F62:i,"xn--rht27z":i,\u5C71\u68A8:i,"xn--nit225k":i,\u5C90\u961C:i,"xn--rht3d":i,\u5CA1\u5C71:i,"xn--djty4k":i,\u5CA9\u624B:i,"xn--klty5x":i,\u5CF6\u6839:i,"xn--kltx9a":i,\u5E83\u5CF6:i,"xn--kltp7d":i,\u5FB3\u5CF6:i,"xn--c3s14m":i,\u611B\u5A9B:i,"xn--vgu402c":i,\u611B\u77E5:i,"xn--efvn9s":i,\u65B0\u6F5F:i,"xn--1lqs71d":i,\u6771\u4EAC:i,"xn--4pvxs":i,\u6803\u6728:i,"xn--uuwu58a":i,\u6C96\u7E04:i,"xn--zbx025d":i,\u6ECB\u8CC0:i,"xn--8pvr4u":i,\u718A\u672C:i,"xn--5rtp49c":i,\u77F3\u5DDD:i,"xn--ntso0iqx3a":i,\u795E\u5948\u5DDD:i,"xn--elqq16h":i,\u798F\u4E95:i,"xn--4it168d":i,\u798F\u5CA1:i,"xn--klt787d":i,\u798F\u5CF6:i,"xn--rny31h":i,\u79CB\u7530:i,"xn--7t0a264c":i,\u7FA4\u99AC:i,"xn--uist22h":i,\u8328\u57CE:i,"xn--8ltr62k":i,\u9577\u5D0E:i,"xn--2m4a15e":i,\u9577\u91CE:i,"xn--32vp30h":i,\u9752\u68EE:i,"xn--4it797k":i,\u9759\u5CA1:i,"xn--5rtq34k":i,\u9999\u5DDD:i,"xn--k7yn95e":i,\u9AD8\u77E5:i,"xn--tor131o":i,\u9CE5\u53D6:i,"xn--d5qv7z876c":i,\u9E7F\u5150\u5CF6:i,kawasaki:S,kitakyushu:S,kobe:S,nagoya:S,sapporo:S,sendai:S,yokohama:S,buyshop:s,fashionstore:s,handcrafted:s,kawaiishop:s,supersale:s,theshop:s,"0am":s,"0g0":s,"0j0":s,"0t0":s,mydns:s,pgw:s,wjg:s,usercontent:s,angry:s,babyblue:s,babymilk:s,backdrop:s,bambina:s,bitter:s,blush:s,boo:s,boy:s,boyfriend:s,but:s,candypop:s,capoo:s,catfood:s,cheap:s,chicappa:s,chillout:s,chips:s,chowder:s,chu:s,ciao:s,cocotte:s,coolblog:s,cranky:s,cutegirl:s,daa:s,deca:s,deci:s,digick:s,egoism:s,fakefur:s,fem:s,flier:s,floppy:s,fool:s,frenchkiss:s,girlfriend:s,girly:s,gloomy:s,gonna:s,greater:s,hacca:s,heavy:s,her:s,hiho:s,hippy:s,holy:s,hungry:s,icurus:s,itigo:s,jellybean:s,kikirara:s,kill:s,kilo:s,kuron:s,littlestar:s,lolipopmc:s,lolitapunk:s,lomo:s,lovepop:s,lovesick:s,main:s,mods:s,mond:s,mongolian:s,moo:s,namaste:s,nikita:s,nobushi:s,noor:s,oops:s,parallel:s,parasite:s,pecori:s,peewee:s,penne:s,pepper:s,perma:s,pigboat:s,pinoko:s,punyu:s,pupu:s,pussycat:s,pya:s,raindrop:s,readymade:s,sadist:s,schoolbus:s,secret:s,staba:s,stripper:s,sub:s,sunnyday:s,thick:s,tonkotsu:s,under:s,upper:s,velvet:s,verse:s,versus:s,vivian:s,watson:s,weblike:s,whitesnow:s,zombie:s,hateblo:s,hatenablog:s,hatenadiary:s,"2-d":s,bona:s,crap:s,daynight:s,eek:s,flop:s,halfmoon:s,jeez:s,matrix:s,mimoza:s,netgamers:s,nyanta:s,o0o0:s,rdy:s,rgr:s,rulez:s,sakurastorage:[0,{isk01:qe,isk02:qe}],saloon:s,sblo:s,skr:s,tank:s,"uh-oh":s,undo:s,webaccel:[0,{rs:s,user:s}],websozai:s,xii:s}],ke:[1,{ac:i,co:i,go:i,info:i,me:i,mobi:i,ne:i,or:i,sc:i}],kg:[1,{com:i,edu:i,gov:i,mil:i,net:i,org:i,us:s}],kh:S,ki:pt,km:[1,{ass:i,com:i,edu:i,gov:i,mil:i,nom:i,org:i,prd:i,tm:i,asso:i,coop:i,gouv:i,medecin:i,notaires:i,pharmaciens:i,presse:i,veterinaire:i}],kn:[1,{edu:i,gov:i,net:i,org:i}],kp:[1,{com:i,edu:i,gov:i,org:i,rep:i,tra:i}],kr:[1,{ac:i,ai:i,co:i,es:i,go:i,hs:i,io:i,it:i,kg:i,me:i,mil:i,ms:i,ne:i,or:i,pe:i,re:i,sc:i,busan:i,chungbuk:i,chungnam:i,daegu:i,daejeon:i,gangwon:i,gwangju:i,gyeongbuk:i,gyeonggi:i,gyeongnam:i,incheon:i,jeju:i,jeonbuk:i,jeonnam:i,seoul:i,ulsan:i,c01:s,"eliv-dns":s}],kw:[1,{com:i,edu:i,emb:i,gov:i,ind:i,net:i,org:i}],ky:Lt,kz:[1,{com:i,edu:i,gov:i,mil:i,net:i,org:i,jcloud:s}],la:[1,{com:i,edu:i,gov:i,info:i,int:i,net:i,org:i,per:i,bnr:s}],lb:l,lc:[1,{co:i,com:i,edu:i,gov:i,net:i,org:i,oy:s}],li:i,lk:[1,{ac:i,assn:i,com:i,edu:i,gov:i,grp:i,hotel:i,int:i,ltd:i,net:i,ngo:i,org:i,sch:i,soc:i,web:i}],lr:l,ls:[1,{ac:i,biz:i,co:i,edu:i,gov:i,info:i,net:i,org:i,sc:i}],lt:g,lu:[1,{"123website":s}],lv:[1,{asn:i,com:i,conf:i,edu:i,gov:i,id:i,mil:i,net:i,org:i}],ly:[1,{com:i,edu:i,gov:i,id:i,med:i,net:i,org:i,plc:i,sch:i}],ma:[1,{ac:i,co:i,gov:i,net:i,org:i,press:i}],mc:[1,{asso:i,tm:i}],md:[1,{ir:s}],me:[1,{ac:i,co:i,edu:i,gov:i,its:i,net:i,org:i,priv:i,c66:s,craft:s,edgestack:s,filegear:s,glitch:s,"filegear-sg":s,lohmus:s,barsy:s,mcdir:s,brasilia:s,ddns:s,dnsfor:s,hopto:s,loginto:s,noip:s,webhop:s,soundcast:s,tcp4:s,vp4:s,diskstation:s,dscloud:s,i234:s,myds:s,synology:s,transip:Pe,nohost:s}],mg:[1,{co:i,com:i,edu:i,gov:i,mil:i,nom:i,org:i,prd:i}],mh:i,mil:i,mk:[1,{com:i,edu:i,gov:i,inf:i,name:i,net:i,org:i}],ml:[1,{ac:i,art:i,asso:i,com:i,edu:i,gouv:i,gov:i,info:i,inst:i,net:i,org:i,pr:i,presse:i}],mm:S,mn:[1,{edu:i,gov:i,org:i,nyc:s}],mo:l,mobi:[1,{barsy:s,dscloud:s}],mp:[1,{ju:s}],mq:i,mr:g,ms:[1,{com:i,edu:i,gov:i,net:i,org:i,minisite:s}],mt:Lt,mu:[1,{ac:i,co:i,com:i,gov:i,net:i,or:i,org:i}],museum:i,mv:[1,{aero:i,biz:i,com:i,coop:i,edu:i,gov:i,info:i,int:i,mil:i,museum:i,name:i,net:i,org:i,pro:i}],mw:[1,{ac:i,biz:i,co:i,com:i,coop:i,edu:i,gov:i,int:i,net:i,org:i}],mx:[1,{com:i,edu:i,gob:i,net:i,org:i}],my:[1,{biz:i,com:i,edu:i,gov:i,mil:i,name:i,net:i,org:i}],mz:[1,{ac:i,adv:i,co:i,edu:i,gov:i,mil:i,net:i,org:i}],na:[1,{alt:i,co:i,com:i,gov:i,net:i,org:i}],name:[1,{her:kt,his:kt}],nc:[1,{asso:i,nom:i}],ne:i,net:[1,{adobeaemcloud:s,"adobeio-static":s,adobeioruntime:s,akadns:s,akamai:s,"akamai-staging":s,akamaiedge:s,"akamaiedge-staging":s,akamaihd:s,"akamaihd-staging":s,akamaiorigin:s,"akamaiorigin-staging":s,akamaized:s,"akamaized-staging":s,edgekey:s,"edgekey-staging":s,edgesuite:s,"edgesuite-staging":s,alwaysdata:s,myamaze:s,cloudfront:s,appudo:s,"atlassian-dev":[0,{prod:nt}],myfritz:s,onavstack:s,shopselect:s,blackbaudcdn:s,boomla:s,bplaced:s,square7:s,cdn77:[0,{r:s}],"cdn77-ssl":s,gb:s,hu:s,jp:s,se:s,uk:s,clickrising:s,"ddns-ip":s,"dns-cloud":s,"dns-dynamic":s,cloudaccess:s,cloudflare:[2,{cdn:s}],cloudflareanycast:nt,cloudflarecn:nt,cloudflareglobal:nt,ctfcloud:s,"feste-ip":s,"knx-server":s,"static-access":s,cryptonomic:u,dattolocal:s,mydatto:s,debian:s,definima:s,deno:s,"at-band-camp":s,blogdns:s,"broke-it":s,buyshouses:s,dnsalias:s,dnsdojo:s,"does-it":s,dontexist:s,dynalias:s,dynathome:s,endofinternet:s,"from-az":s,"from-co":s,"from-la":s,"from-ny":s,"gets-it":s,"ham-radio-op":s,homeftp:s,homeip:s,homelinux:s,homeunix:s,"in-the-band":s,"is-a-chef":s,"is-a-geek":s,"isa-geek":s,"kicks-ass":s,"office-on-the":s,podzone:s,"scrapper-site":s,selfip:s,"sells-it":s,servebbs:s,serveftp:s,thruhere:s,webhop:s,casacam:s,dynu:s,dynv6:s,twmail:s,ru:s,channelsdvr:[2,{u:s}],fastly:[0,{freetls:s,map:s,prod:[0,{a:s,global:s}],ssl:[0,{a:s,b:s,global:s}]}],fastlylb:[2,{map:s}],edgeapp:s,"keyword-on":s,"live-on":s,"server-on":s,"cdn-edges":s,heteml:s,cloudfunctions:s,"grafana-dev":s,iobb:s,moonscale:s,"in-dsl":s,"in-vpn":s,oninferno:s,botdash:s,"apps-1and1":s,ipifony:s,cloudjiffy:[2,{"fra1-de":s,"west1-us":s}],elastx:[0,{"jls-sto1":s,"jls-sto2":s,"jls-sto3":s}],massivegrid:[0,{paas:[0,{"fr-1":s,"lon-1":s,"lon-2":s,"ny-1":s,"ny-2":s,"sg-1":s}]}],saveincloud:[0,{jelastic:s,"nordeste-idc":s}],scaleforce:Dt,kinghost:s,uni5:s,krellian:s,ggff:s,localcert:s,localhostcert:s,localto:u,barsy:s,memset:s,"azure-api":s,"azure-mobile":s,azureedge:s,azurefd:s,azurestaticapps:[2,{1:s,2:s,3:s,4:s,5:s,6:s,7:s,centralus:s,eastasia:s,eastus2:s,westeurope:s,westus2:s}],azurewebsites:s,cloudapp:s,trafficmanager:s,windows:[0,{core:[0,{blob:s}],servicebus:s}],mynetname:[0,{sn:s}],routingthecloud:s,bounceme:s,ddns:s,"eating-organic":s,mydissent:s,myeffect:s,mymediapc:s,mypsx:s,mysecuritycamera:s,nhlfan:s,"no-ip":s,pgafan:s,privatizehealthinsurance:s,redirectme:s,serveblog:s,serveminecraft:s,sytes:s,dnsup:s,hicam:s,"now-dns":s,ownip:s,vpndns:s,cloudycluster:s,ovh:[0,{hosting:u,webpaas:u}],rackmaze:s,myradweb:s,in:s,"subsc-pay":s,squares:s,schokokeks:s,"firewall-gateway":s,seidat:s,senseering:s,siteleaf:s,mafelo:s,myspreadshop:s,"vps-host":[2,{jelastic:[0,{atl:s,njs:s,ric:s}]}],srcf:[0,{soc:s,user:s}],supabase:s,dsmynas:s,familyds:s,ts:[2,{c:u}],torproject:[2,{pages:s}],vusercontent:s,"reserve-online":s,"community-pro":s,meinforum:s,yandexcloud:[2,{storage:s,website:s}],za:s}],nf:[1,{arts:i,com:i,firm:i,info:i,net:i,other:i,per:i,rec:i,store:i,web:i}],ng:[1,{com:i,edu:i,gov:i,i,mil:i,mobi:i,name:i,net:i,org:i,sch:i,biz:[2,{co:s,dl:s,go:s,lg:s,on:s}],col:s,firm:s,gen:s,ltd:s,ngo:s,plc:s}],ni:[1,{ac:i,biz:i,co:i,com:i,edu:i,gob:i,in:i,info:i,int:i,mil:i,net:i,nom:i,org:i,web:i}],nl:[1,{co:s,"hosting-cluster":s,gov:s,khplay:s,"123website":s,myspreadshop:s,transurl:u,cistron:s,demon:s}],no:[1,{fhs:i,folkebibl:i,fylkesbibl:i,idrett:i,museum:i,priv:i,vgs:i,dep:i,herad:i,kommune:i,mil:i,stat:i,aa:ut,ah:ut,bu:ut,fm:ut,hl:ut,hm:ut,"jan-mayen":ut,mr:ut,nl:ut,nt:ut,of:ut,ol:ut,oslo:ut,rl:ut,sf:ut,st:ut,svalbard:ut,tm:ut,tr:ut,va:ut,vf:ut,akrehamn:i,"xn--krehamn-dxa":i,\u00E5krehamn:i,algard:i,"xn--lgrd-poac":i,\u00E5lg\u00E5rd:i,arna:i,bronnoysund:i,"xn--brnnysund-m8ac":i,br\u00F8nn\u00F8ysund:i,brumunddal:i,bryne:i,drobak:i,"xn--drbak-wua":i,dr\u00F8bak:i,egersund:i,fetsund:i,floro:i,"xn--flor-jra":i,flor\u00F8:i,fredrikstad:i,hokksund:i,honefoss:i,"xn--hnefoss-q1a":i,h\u00F8nefoss:i,jessheim:i,jorpeland:i,"xn--jrpeland-54a":i,j\u00F8rpeland:i,kirkenes:i,kopervik:i,krokstadelva:i,langevag:i,"xn--langevg-jxa":i,langev\u00E5g:i,leirvik:i,mjondalen:i,"xn--mjndalen-64a":i,mj\u00F8ndalen:i,"mo-i-rana":i,mosjoen:i,"xn--mosjen-eya":i,mosj\u00F8en:i,nesoddtangen:i,orkanger:i,osoyro:i,"xn--osyro-wua":i,os\u00F8yro:i,raholt:i,"xn--rholt-mra":i,r\u00E5holt:i,sandnessjoen:i,"xn--sandnessjen-ogb":i,sandnessj\u00F8en:i,skedsmokorset:i,slattum:i,spjelkavik:i,stathelle:i,stavern:i,stjordalshalsen:i,"xn--stjrdalshalsen-sqb":i,stj\u00F8rdalshalsen:i,tananger:i,tranby:i,vossevangen:i,aarborte:i,aejrie:i,afjord:i,"xn--fjord-lra":i,\u00E5fjord:i,agdenes:i,akershus:tt,aknoluokta:i,"xn--koluokta-7ya57h":i,\u00E1k\u014Boluokta:i,al:i,"xn--l-1fa":i,\u00E5l:i,alaheadju:i,"xn--laheadju-7ya":i,\u00E1laheadju:i,alesund:i,"xn--lesund-hua":i,\u00E5lesund:i,alstahaug:i,alta:i,"xn--lt-liac":i,\u00E1lt\u00E1:i,alvdal:i,amli:i,"xn--mli-tla":i,\u00E5mli:i,amot:i,"xn--mot-tla":i,\u00E5mot:i,andasuolo:i,andebu:i,andoy:i,"xn--andy-ira":i,and\u00F8y:i,ardal:i,"xn--rdal-poa":i,\u00E5rdal:i,aremark:i,arendal:i,"xn--s-1fa":i,\u00E5s:i,aseral:i,"xn--seral-lra":i,\u00E5seral:i,asker:i,askim:i,askoy:i,"xn--asky-ira":i,ask\u00F8y:i,askvoll:i,asnes:i,"xn--snes-poa":i,\u00E5snes:i,audnedaln:i,aukra:i,aure:i,aurland:i,"aurskog-holand":i,"xn--aurskog-hland-jnb":i,"aurskog-h\xF8land":i,austevoll:i,austrheim:i,averoy:i,"xn--avery-yua":i,aver\u00F8y:i,badaddja:i,"xn--bdddj-mrabd":i,b\u00E5d\u00E5ddj\u00E5:i,"xn--brum-voa":i,b\u00E6rum:i,bahcavuotna:i,"xn--bhcavuotna-s4a":i,b\u00E1hcavuotna:i,bahccavuotna:i,"xn--bhccavuotna-k7a":i,b\u00E1hccavuotna:i,baidar:i,"xn--bidr-5nac":i,b\u00E1id\u00E1r:i,bajddar:i,"xn--bjddar-pta":i,b\u00E1jddar:i,balat:i,"xn--blt-elab":i,b\u00E1l\u00E1t:i,balestrand:i,ballangen:i,balsfjord:i,bamble:i,bardu:i,barum:i,batsfjord:i,"xn--btsfjord-9za":i,b\u00E5tsfjord:i,bearalvahki:i,"xn--bearalvhki-y4a":i,bearalv\u00E1hki:i,beardu:i,beiarn:i,berg:i,bergen:i,berlevag:i,"xn--berlevg-jxa":i,berlev\u00E5g:i,bievat:i,"xn--bievt-0qa":i,biev\u00E1t:i,bindal:i,birkenes:i,bjarkoy:i,"xn--bjarky-fya":i,bjark\u00F8y:i,bjerkreim:i,bjugn:i,bodo:i,"xn--bod-2na":i,bod\u00F8:i,bokn:i,bomlo:i,"xn--bmlo-gra":i,b\u00F8mlo:i,bremanger:i,bronnoy:i,"xn--brnny-wuac":i,br\u00F8nn\u00F8y:i,budejju:i,buskerud:tt,bygland:i,bykle:i,cahcesuolo:i,"xn--hcesuolo-7ya35b":i,\u010D\u00E1hcesuolo:i,davvenjarga:i,"xn--davvenjrga-y4a":i,davvenj\u00E1rga:i,davvesiida:i,deatnu:i,dielddanuorri:i,divtasvuodna:i,divttasvuotna:i,donna:i,"xn--dnna-gra":i,d\u00F8nna:i,dovre:i,drammen:i,drangedal:i,dyroy:i,"xn--dyry-ira":i,dyr\u00F8y:i,eid:i,eidfjord:i,eidsberg:i,eidskog:i,eidsvoll:i,eigersund:i,elverum:i,enebakk:i,engerdal:i,etne:i,etnedal:i,evenassi:i,"xn--eveni-0qa01ga":i,even\u00E1\u0161\u0161i:i,evenes:i,"evje-og-hornnes":i,farsund:i,fauske:i,fedje:i,fet:i,finnoy:i,"xn--finny-yua":i,finn\u00F8y:i,fitjar:i,fjaler:i,fjell:i,fla:i,"xn--fl-zia":i,fl\u00E5:i,flakstad:i,flatanger:i,flekkefjord:i,flesberg:i,flora:i,folldal:i,forde:i,"xn--frde-gra":i,f\u00F8rde:i,forsand:i,fosnes:i,"xn--frna-woa":i,fr\u00E6na:i,frana:i,frei:i,frogn:i,froland:i,frosta:i,froya:i,"xn--frya-hra":i,fr\u00F8ya:i,fuoisku:i,fuossko:i,fusa:i,fyresdal:i,gaivuotna:i,"xn--givuotna-8ya":i,g\u00E1ivuotna:i,galsa:i,"xn--gls-elac":i,g\u00E1ls\u00E1:i,gamvik:i,gangaviika:i,"xn--ggaviika-8ya47h":i,g\u00E1\u014Bgaviika:i,gaular:i,gausdal:i,giehtavuoatna:i,gildeskal:i,"xn--gildeskl-g0a":i,gildesk\u00E5l:i,giske:i,gjemnes:i,gjerdrum:i,gjerstad:i,gjesdal:i,gjovik:i,"xn--gjvik-wua":i,gj\u00F8vik:i,gloppen:i,gol:i,gran:i,grane:i,granvin:i,gratangen:i,grimstad:i,grong:i,grue:i,gulen:i,guovdageaidnu:i,ha:i,"xn--h-2fa":i,h\u00E5:i,habmer:i,"xn--hbmer-xqa":i,h\u00E1bmer:i,hadsel:i,"xn--hgebostad-g3a":i,h\u00E6gebostad:i,hagebostad:i,halden:i,halsa:i,hamar:i,hamaroy:i,hammarfeasta:i,"xn--hmmrfeasta-s4ac":i,h\u00E1mm\u00E1rfeasta:i,hammerfest:i,hapmir:i,"xn--hpmir-xqa":i,h\u00E1pmir:i,haram:i,hareid:i,harstad:i,hasvik:i,hattfjelldal:i,haugesund:i,hedmark:[0,{os:i,valer:i,"xn--vler-qoa":i,v\u00E5ler:i}],hemne:i,hemnes:i,hemsedal:i,hitra:i,hjartdal:i,hjelmeland:i,hobol:i,"xn--hobl-ira":i,hob\u00F8l:i,hof:i,hol:i,hole:i,holmestrand:i,holtalen:i,"xn--holtlen-hxa":i,holt\u00E5len:i,hordaland:[0,{os:i}],hornindal:i,horten:i,hoyanger:i,"xn--hyanger-q1a":i,h\u00F8yanger:i,hoylandet:i,"xn--hylandet-54a":i,h\u00F8ylandet:i,hurdal:i,hurum:i,hvaler:i,hyllestad:i,ibestad:i,inderoy:i,"xn--indery-fya":i,inder\u00F8y:i,iveland:i,ivgu:i,jevnaker:i,jolster:i,"xn--jlster-bya":i,j\u00F8lster:i,jondal:i,kafjord:i,"xn--kfjord-iua":i,k\u00E5fjord:i,karasjohka:i,"xn--krjohka-hwab49j":i,k\u00E1r\u00E1\u0161johka:i,karasjok:i,karlsoy:i,karmoy:i,"xn--karmy-yua":i,karm\u00F8y:i,kautokeino:i,klabu:i,"xn--klbu-woa":i,kl\u00E6bu:i,klepp:i,kongsberg:i,kongsvinger:i,kraanghke:i,"xn--kranghke-b0a":i,kr\u00E5anghke:i,kragero:i,"xn--krager-gya":i,krager\u00F8:i,kristiansand:i,kristiansund:i,krodsherad:i,"xn--krdsherad-m8a":i,kr\u00F8dsherad:i,"xn--kvfjord-nxa":i,kv\u00E6fjord:i,"xn--kvnangen-k0a":i,kv\u00E6nangen:i,kvafjord:i,kvalsund:i,kvam:i,kvanangen:i,kvinesdal:i,kvinnherad:i,kviteseid:i,kvitsoy:i,"xn--kvitsy-fya":i,kvits\u00F8y:i,laakesvuemie:i,"xn--lrdal-sra":i,l\u00E6rdal:i,lahppi:i,"xn--lhppi-xqa":i,l\u00E1hppi:i,lardal:i,larvik:i,lavagis:i,lavangen:i,leangaviika:i,"xn--leagaviika-52b":i,lea\u014Bgaviika:i,lebesby:i,leikanger:i,leirfjord:i,leka:i,leksvik:i,lenvik:i,lerdal:i,lesja:i,levanger:i,lier:i,lierne:i,lillehammer:i,lillesand:i,lindas:i,"xn--linds-pra":i,lind\u00E5s:i,lindesnes:i,loabat:i,"xn--loabt-0qa":i,loab\u00E1t:i,lodingen:i,"xn--ldingen-q1a":i,l\u00F8dingen:i,lom:i,loppa:i,lorenskog:i,"xn--lrenskog-54a":i,l\u00F8renskog:i,loten:i,"xn--lten-gra":i,l\u00F8ten:i,lund:i,lunner:i,luroy:i,"xn--lury-ira":i,lur\u00F8y:i,luster:i,lyngdal:i,lyngen:i,malatvuopmi:i,"xn--mlatvuopmi-s4a":i,m\u00E1latvuopmi:i,malselv:i,"xn--mlselv-iua":i,m\u00E5lselv:i,malvik:i,mandal:i,marker:i,marnardal:i,masfjorden:i,masoy:i,"xn--msy-ula0h":i,m\u00E5s\u00F8y:i,"matta-varjjat":i,"xn--mtta-vrjjat-k7af":i,"m\xE1tta-v\xE1rjjat":i,meland:i,meldal:i,melhus:i,meloy:i,"xn--mely-ira":i,mel\u00F8y:i,meraker:i,"xn--merker-kua":i,mer\u00E5ker:i,midsund:i,"midtre-gauldal":i,moareke:i,"xn--moreke-jua":i,mo\u00E5reke:i,modalen:i,modum:i,molde:i,"more-og-romsdal":[0,{heroy:i,sande:i}],"xn--mre-og-romsdal-qqb":[0,{"xn--hery-ira":i,sande:i}],"m\xF8re-og-romsdal":[0,{her\u00F8y:i,sande:i}],moskenes:i,moss:i,mosvik:i,muosat:i,"xn--muost-0qa":i,muos\u00E1t:i,naamesjevuemie:i,"xn--nmesjevuemie-tcba":i,n\u00E5\u00E5mesjevuemie:i,"xn--nry-yla5g":i,n\u00E6r\u00F8y:i,namdalseid:i,namsos:i,namsskogan:i,nannestad:i,naroy:i,narviika:i,narvik:i,naustdal:i,navuotna:i,"xn--nvuotna-hwa":i,n\u00E1vuotna:i,"nedre-eiker":i,nesna:i,nesodden:i,nesseby:i,nesset:i,nissedal:i,nittedal:i,"nord-aurdal":i,"nord-fron":i,"nord-odal":i,norddal:i,nordkapp:i,nordland:[0,{bo:i,"xn--b-5ga":i,b\u00F8:i,heroy:i,"xn--hery-ira":i,her\u00F8y:i}],"nordre-land":i,nordreisa:i,"nore-og-uvdal":i,notodden:i,notteroy:i,"xn--nttery-byae":i,n\u00F8tter\u00F8y:i,odda:i,oksnes:i,"xn--ksnes-uua":i,\u00F8ksnes:i,omasvuotna:i,oppdal:i,oppegard:i,"xn--oppegrd-ixa":i,oppeg\u00E5rd:i,orkdal:i,orland:i,"xn--rland-uua":i,\u00F8rland:i,orskog:i,"xn--rskog-uua":i,\u00F8rskog:i,orsta:i,"xn--rsta-fra":i,\u00F8rsta:i,osen:i,osteroy:i,"xn--ostery-fya":i,oster\u00F8y:i,ostfold:[0,{valer:i}],"xn--stfold-9xa":[0,{"xn--vler-qoa":i}],\u00F8stfold:[0,{v\u00E5ler:i}],"ostre-toten":i,"xn--stre-toten-zcb":i,"\xF8stre-toten":i,overhalla:i,"ovre-eiker":i,"xn--vre-eiker-k8a":i,"\xF8vre-eiker":i,oyer:i,"xn--yer-zna":i,\u00F8yer:i,oygarden:i,"xn--ygarden-p1a":i,\u00F8ygarden:i,"oystre-slidre":i,"xn--ystre-slidre-ujb":i,"\xF8ystre-slidre":i,porsanger:i,porsangu:i,"xn--porsgu-sta26f":i,pors\u00E1\u014Bgu:i,porsgrunn:i,rade:i,"xn--rde-ula":i,r\u00E5de:i,radoy:i,"xn--rady-ira":i,rad\u00F8y:i,"xn--rlingen-mxa":i,r\u00E6lingen:i,rahkkeravju:i,"xn--rhkkervju-01af":i,r\u00E1hkker\u00E1vju:i,raisa:i,"xn--risa-5na":i,r\u00E1isa:i,rakkestad:i,ralingen:i,rana:i,randaberg:i,rauma:i,rendalen:i,rennebu:i,rennesoy:i,"xn--rennesy-v1a":i,rennes\u00F8y:i,rindal:i,ringebu:i,ringerike:i,ringsaker:i,risor:i,"xn--risr-ira":i,ris\u00F8r:i,rissa:i,roan:i,rodoy:i,"xn--rdy-0nab":i,r\u00F8d\u00F8y:i,rollag:i,romsa:i,romskog:i,"xn--rmskog-bya":i,r\u00F8mskog:i,roros:i,"xn--rros-gra":i,r\u00F8ros:i,rost:i,"xn--rst-0na":i,r\u00F8st:i,royken:i,"xn--ryken-vua":i,r\u00F8yken:i,royrvik:i,"xn--ryrvik-bya":i,r\u00F8yrvik:i,ruovat:i,rygge:i,salangen:i,salat:i,"xn--slat-5na":i,s\u00E1lat:i,"xn--slt-elab":i,s\u00E1l\u00E1t:i,saltdal:i,samnanger:i,sandefjord:i,sandnes:i,sandoy:i,"xn--sandy-yua":i,sand\u00F8y:i,sarpsborg:i,sauda:i,sauherad:i,sel:i,selbu:i,selje:i,seljord:i,siellak:i,sigdal:i,siljan:i,sirdal:i,skanit:i,"xn--sknit-yqa":i,sk\u00E1nit:i,skanland:i,"xn--sknland-fxa":i,sk\u00E5nland:i,skaun:i,skedsmo:i,ski:i,skien:i,skierva:i,"xn--skierv-uta":i,skierv\u00E1:i,skiptvet:i,skjak:i,"xn--skjk-soa":i,skj\u00E5k:i,skjervoy:i,"xn--skjervy-v1a":i,skjerv\u00F8y:i,skodje:i,smola:i,"xn--smla-hra":i,sm\u00F8la:i,snaase:i,"xn--snase-nra":i,sn\u00E5ase:i,snasa:i,"xn--snsa-roa":i,sn\u00E5sa:i,snillfjord:i,snoasa:i,sogndal:i,sogne:i,"xn--sgne-gra":i,s\u00F8gne:i,sokndal:i,sola:i,solund:i,somna:i,"xn--smna-gra":i,s\u00F8mna:i,"sondre-land":i,"xn--sndre-land-0cb":i,"s\xF8ndre-land":i,songdalen:i,"sor-aurdal":i,"xn--sr-aurdal-l8a":i,"s\xF8r-aurdal":i,"sor-fron":i,"xn--sr-fron-q1a":i,"s\xF8r-fron":i,"sor-odal":i,"xn--sr-odal-q1a":i,"s\xF8r-odal":i,"sor-varanger":i,"xn--sr-varanger-ggb":i,"s\xF8r-varanger":i,sorfold:i,"xn--srfold-bya":i,s\u00F8rfold:i,sorreisa:i,"xn--srreisa-q1a":i,s\u00F8rreisa:i,sortland:i,sorum:i,"xn--srum-gra":i,s\u00F8rum:i,spydeberg:i,stange:i,stavanger:i,steigen:i,steinkjer:i,stjordal:i,"xn--stjrdal-s1a":i,stj\u00F8rdal:i,stokke:i,"stor-elvdal":i,stord:i,stordal:i,storfjord:i,strand:i,stranda:i,stryn:i,sula:i,suldal:i,sund:i,sunndal:i,surnadal:i,sveio:i,svelvik:i,sykkylven:i,tana:i,telemark:[0,{bo:i,"xn--b-5ga":i,b\u00F8:i}],time:i,tingvoll:i,tinn:i,tjeldsund:i,tjome:i,"xn--tjme-hra":i,tj\u00F8me:i,tokke:i,tolga:i,tonsberg:i,"xn--tnsberg-q1a":i,t\u00F8nsberg:i,torsken:i,"xn--trna-woa":i,tr\u00E6na:i,trana:i,tranoy:i,"xn--trany-yua":i,tran\u00F8y:i,troandin:i,trogstad:i,"xn--trgstad-r1a":i,tr\u00F8gstad:i,tromsa:i,tromso:i,"xn--troms-zua":i,troms\u00F8:i,trondheim:i,trysil:i,tvedestrand:i,tydal:i,tynset:i,tysfjord:i,tysnes:i,"xn--tysvr-vra":i,tysv\u00E6r:i,tysvar:i,ullensaker:i,ullensvang:i,ulvik:i,unjarga:i,"xn--unjrga-rta":i,unj\u00E1rga:i,utsira:i,vaapste:i,vadso:i,"xn--vads-jra":i,vads\u00F8:i,"xn--vry-yla5g":i,v\u00E6r\u00F8y:i,vaga:i,"xn--vg-yiab":i,v\u00E5g\u00E5:i,vagan:i,"xn--vgan-qoa":i,v\u00E5gan:i,vagsoy:i,"xn--vgsy-qoa0j":i,v\u00E5gs\u00F8y:i,vaksdal:i,valle:i,vang:i,vanylven:i,vardo:i,"xn--vard-jra":i,vard\u00F8:i,varggat:i,"xn--vrggt-xqad":i,v\u00E1rgg\u00E1t:i,varoy:i,vefsn:i,vega:i,vegarshei:i,"xn--vegrshei-c0a":i,veg\u00E5rshei:i,vennesla:i,verdal:i,verran:i,vestby:i,vestfold:[0,{sande:i}],vestnes:i,"vestre-slidre":i,"vestre-toten":i,vestvagoy:i,"xn--vestvgy-ixa6o":i,vestv\u00E5g\u00F8y:i,vevelstad:i,vik:i,vikna:i,vindafjord:i,voagat:i,volda:i,voss:i,co:s,"123hjemmeside":s,myspreadshop:s}],np:S,nr:pt,nu:[1,{merseine:s,mine:s,shacknet:s,enterprisecloud:s}],nz:[1,{ac:i,co:i,cri:i,geek:i,gen:i,govt:i,health:i,iwi:i,kiwi:i,maori:i,"xn--mori-qsa":i,m\u0101ori:i,mil:i,net:i,org:i,parliament:i,school:i,cloudns:s}],om:[1,{co:i,com:i,edu:i,gov:i,med:i,museum:i,net:i,org:i,pro:i}],onion:i,org:[1,{altervista:s,pimienta:s,poivron:s,potager:s,sweetpepper:s,cdn77:[0,{c:s,rsc:s}],"cdn77-secure":[0,{origin:[0,{ssl:s}]}],ae:s,cloudns:s,"ip-dynamic":s,ddnss:s,dpdns:s,duckdns:s,tunk:s,blogdns:s,blogsite:s,boldlygoingnowhere:s,dnsalias:s,dnsdojo:s,doesntexist:s,dontexist:s,doomdns:s,dvrdns:s,dynalias:s,dyndns:[2,{go:s,home:s}],endofinternet:s,endoftheinternet:s,"from-me":s,"game-host":s,gotdns:s,"hobby-site":s,homedns:s,homeftp:s,homelinux:s,homeunix:s,"is-a-bruinsfan":s,"is-a-candidate":s,"is-a-celticsfan":s,"is-a-chef":s,"is-a-geek":s,"is-a-knight":s,"is-a-linux-user":s,"is-a-patsfan":s,"is-a-soxfan":s,"is-found":s,"is-lost":s,"is-saved":s,"is-very-bad":s,"is-very-evil":s,"is-very-good":s,"is-very-nice":s,"is-very-sweet":s,"isa-geek":s,"kicks-ass":s,misconfused:s,podzone:s,readmyblog:s,selfip:s,sellsyourhome:s,servebbs:s,serveftp:s,servegame:s,"stuff-4-sale":s,webhop:s,accesscam:s,camdvr:s,freeddns:s,mywire:s,webredirect:s,twmail:s,eu:[2,{al:s,asso:s,at:s,au:s,be:s,bg:s,ca:s,cd:s,ch:s,cn:s,cy:s,cz:s,de:s,dk:s,edu:s,ee:s,es:s,fi:s,fr:s,gr:s,hr:s,hu:s,ie:s,il:s,in:s,int:s,is:s,it:s,jp:s,kr:s,lt:s,lu:s,lv:s,me:s,mk:s,mt:s,my:s,net:s,ng:s,nl:s,no:s,nz:s,pl:s,pt:s,ro:s,ru:s,se:s,si:s,sk:s,tr:s,uk:s,us:s}],fedorainfracloud:s,fedorapeople:s,fedoraproject:[0,{cloud:s,os:ye,stg:[0,{os:ye}]}],freedesktop:s,hatenadiary:s,hepforge:s,"in-dsl":s,"in-vpn":s,js:s,barsy:s,mayfirst:s,routingthecloud:s,bmoattachments:s,"cable-modem":s,collegefan:s,couchpotatofries:s,hopto:s,mlbfan:s,myftp:s,mysecuritycamera:s,nflfan:s,"no-ip":s,"read-books":s,ufcfan:s,zapto:s,dynserv:s,"now-dns":s,"is-local":s,httpbin:s,pubtls:s,jpn:s,"my-firewall":s,myfirewall:s,spdns:s,"small-web":s,dsmynas:s,familyds:s,teckids:qe,tuxfamily:s,diskstation:s,hk:s,us:s,toolforge:s,wmcloud:s,wmflabs:s,za:s}],pa:[1,{abo:i,ac:i,com:i,edu:i,gob:i,ing:i,med:i,net:i,nom:i,org:i,sld:i}],pe:[1,{com:i,edu:i,gob:i,mil:i,net:i,nom:i,org:i}],pf:[1,{com:i,edu:i,org:i}],pg:S,ph:[1,{com:i,edu:i,gov:i,i,mil:i,net:i,ngo:i,org:i,cloudns:s}],pk:[1,{ac:i,biz:i,com:i,edu:i,fam:i,gkp:i,gob:i,gog:i,gok:i,gop:i,gos:i,gov:i,net:i,org:i,web:i}],pl:[1,{com:i,net:i,org:i,agro:i,aid:i,atm:i,auto:i,biz:i,edu:i,gmina:i,gsm:i,info:i,mail:i,media:i,miasta:i,mil:i,nieruchomosci:i,nom:i,pc:i,powiat:i,priv:i,realestate:i,rel:i,sex:i,shop:i,sklep:i,sos:i,szkola:i,targi:i,tm:i,tourism:i,travel:i,turystyka:i,gov:[1,{ap:i,griw:i,ic:i,is:i,kmpsp:i,konsulat:i,kppsp:i,kwp:i,kwpsp:i,mup:i,mw:i,oia:i,oirm:i,oke:i,oow:i,oschr:i,oum:i,pa:i,pinb:i,piw:i,po:i,pr:i,psp:i,psse:i,pup:i,rzgw:i,sa:i,sdn:i,sko:i,so:i,sr:i,starostwo:i,ug:i,ugim:i,um:i,umig:i,upow:i,uppo:i,us:i,uw:i,uzs:i,wif:i,wiih:i,winb:i,wios:i,witd:i,wiw:i,wkz:i,wsa:i,wskr:i,wsse:i,wuoz:i,wzmiuw:i,zp:i,zpisdn:i}],augustow:i,"babia-gora":i,bedzin:i,beskidy:i,bialowieza:i,bialystok:i,bielawa:i,bieszczady:i,boleslawiec:i,bydgoszcz:i,bytom:i,cieszyn:i,czeladz:i,czest:i,dlugoleka:i,elblag:i,elk:i,glogow:i,gniezno:i,gorlice:i,grajewo:i,ilawa:i,jaworzno:i,"jelenia-gora":i,jgora:i,kalisz:i,karpacz:i,kartuzy:i,kaszuby:i,katowice:i,"kazimierz-dolny":i,kepno:i,ketrzyn:i,klodzko:i,kobierzyce:i,kolobrzeg:i,konin:i,konskowola:i,kutno:i,lapy:i,lebork:i,legnica:i,lezajsk:i,limanowa:i,lomza:i,lowicz:i,lubin:i,lukow:i,malbork:i,malopolska:i,mazowsze:i,mazury:i,mielec:i,mielno:i,mragowo:i,naklo:i,nowaruda:i,nysa:i,olawa:i,olecko:i,olkusz:i,olsztyn:i,opoczno:i,opole:i,ostroda:i,ostroleka:i,ostrowiec:i,ostrowwlkp:i,pila:i,pisz:i,podhale:i,podlasie:i,polkowice:i,pomorskie:i,pomorze:i,prochowice:i,pruszkow:i,przeworsk:i,pulawy:i,radom:i,"rawa-maz":i,rybnik:i,rzeszow:i,sanok:i,sejny:i,skoczow:i,slask:i,slupsk:i,sosnowiec:i,"stalowa-wola":i,starachowice:i,stargard:i,suwalki:i,swidnica:i,swiebodzin:i,swinoujscie:i,szczecin:i,szczytno:i,tarnobrzeg:i,tgory:i,turek:i,tychy:i,ustka:i,walbrzych:i,warmia:i,warszawa:i,waw:i,wegrow:i,wielun:i,wlocl:i,wloclawek:i,wodzislaw:i,wolomin:i,wroclaw:i,zachpomor:i,zagan:i,zarow:i,zgora:i,zgorzelec:i,art:s,gliwice:s,krakow:s,poznan:s,wroc:s,zakopane:s,beep:s,"ecommerce-shop":s,cfolks:s,dfirma:s,dkonto:s,you2:s,shoparena:s,homesklep:s,sdscloud:s,unicloud:s,lodz:s,pabianice:s,plock:s,sieradz:s,skierniewice:s,zgierz:s,krasnik:s,leczna:s,lubartow:s,lublin:s,poniatowa:s,swidnik:s,co:s,torun:s,simplesite:s,myspreadshop:s,gda:s,gdansk:s,gdynia:s,med:s,sopot:s,bielsko:s}],pm:[1,{own:s,name:s}],pn:[1,{co:i,edu:i,gov:i,net:i,org:i}],post:i,pr:[1,{biz:i,com:i,edu:i,gov:i,info:i,isla:i,name:i,net:i,org:i,pro:i,ac:i,est:i,prof:i}],pro:[1,{aaa:i,aca:i,acct:i,avocat:i,bar:i,cpa:i,eng:i,jur:i,law:i,med:i,recht:i,"12chars":s,cloudns:s,barsy:s,ngrok:s}],ps:[1,{com:i,edu:i,gov:i,net:i,org:i,plo:i,sec:i}],pt:[1,{com:i,edu:i,gov:i,int:i,net:i,nome:i,org:i,publ:i,"123paginaweb":s}],pw:[1,{gov:i,cloudns:s,x443:s}],py:[1,{com:i,coop:i,edu:i,gov:i,mil:i,net:i,org:i}],qa:[1,{com:i,edu:i,gov:i,mil:i,name:i,net:i,org:i,sch:i}],re:[1,{asso:i,com:i,netlib:s,can:s}],ro:[1,{arts:i,com:i,firm:i,info:i,nom:i,nt:i,org:i,rec:i,store:i,tm:i,www:i,co:s,shop:s,barsy:s}],rs:[1,{ac:i,co:i,edu:i,gov:i,in:i,org:i,brendly:Ie,barsy:s,ox:s}],ru:[1,{ac:s,edu:s,gov:s,int:s,mil:s,eurodir:s,adygeya:s,bashkiria:s,bir:s,cbg:s,com:s,dagestan:s,grozny:s,kalmykia:s,kustanai:s,marine:s,mordovia:s,msk:s,mytis:s,nalchik:s,nov:s,pyatigorsk:s,spb:s,vladikavkaz:s,vladimir:s,na4u:s,mircloud:s,myjino:[2,{hosting:u,landing:u,spectrum:u,vps:u}],cldmail:[0,{hb:s}],mcdir:[2,{vps:s}],mcpre:s,net:s,org:s,pp:s,lk3:s,ras:s}],rw:[1,{ac:i,co:i,coop:i,gov:i,mil:i,net:i,org:i}],sa:[1,{com:i,edu:i,gov:i,med:i,net:i,org:i,pub:i,sch:i}],sb:l,sc:l,sd:[1,{com:i,edu:i,gov:i,info:i,med:i,net:i,org:i,tv:i}],se:[1,{a:i,ac:i,b:i,bd:i,brand:i,c:i,d:i,e:i,f:i,fh:i,fhsk:i,fhv:i,g:i,h:i,i,k:i,komforb:i,kommunalforbund:i,komvux:i,l:i,lanbib:i,m:i,n:i,naturbruksgymn:i,o:i,org:i,p:i,parti:i,pp:i,press:i,r:i,s:i,t:i,tm:i,u:i,w:i,x:i,y:i,z:i,com:s,iopsys:s,"123minsida":s,itcouldbewor:s,myspreadshop:s}],sg:[1,{com:i,edu:i,gov:i,net:i,org:i,enscaled:s}],sh:[1,{com:i,gov:i,mil:i,net:i,org:i,hashbang:s,botda:s,platform:[0,{ent:s,eu:s,us:s}],now:s}],si:[1,{f5:s,gitapp:s,gitpage:s}],sj:i,sk:i,sl:l,sm:i,sn:[1,{art:i,com:i,edu:i,gouv:i,org:i,perso:i,univ:i}],so:[1,{com:i,edu:i,gov:i,me:i,net:i,org:i,surveys:s}],sr:i,ss:[1,{biz:i,co:i,com:i,edu:i,gov:i,me:i,net:i,org:i,sch:i}],st:[1,{co:i,com:i,consulado:i,edu:i,embaixada:i,mil:i,net:i,org:i,principe:i,saotome:i,store:i,helioho:s,kirara:s,noho:s}],su:[1,{abkhazia:s,adygeya:s,aktyubinsk:s,arkhangelsk:s,armenia:s,ashgabad:s,azerbaijan:s,balashov:s,bashkiria:s,bryansk:s,bukhara:s,chimkent:s,dagestan:s,"east-kazakhstan":s,exnet:s,georgia:s,grozny:s,ivanovo:s,jambyl:s,kalmykia:s,kaluga:s,karacol:s,karaganda:s,karelia:s,khakassia:s,krasnodar:s,kurgan:s,kustanai:s,lenug:s,mangyshlak:s,mordovia:s,msk:s,murmansk:s,nalchik:s,navoi:s,"north-kazakhstan":s,nov:s,obninsk:s,penza:s,pokrovsk:s,sochi:s,spb:s,tashkent:s,termez:s,togliatti:s,troitsk:s,tselinograd:s,tula:s,tuva:s,vladikavkaz:s,vladimir:s,vologda:s}],sv:[1,{com:i,edu:i,gob:i,org:i,red:i}],sx:g,sy:c,sz:[1,{ac:i,co:i,org:i}],tc:i,td:i,tel:i,tf:[1,{sch:s}],tg:i,th:[1,{ac:i,co:i,go:i,in:i,mi:i,net:i,or:i,online:s,shop:s}],tj:[1,{ac:i,biz:i,co:i,com:i,edu:i,go:i,gov:i,int:i,mil:i,name:i,net:i,nic:i,org:i,test:i,web:i}],tk:i,tl:g,tm:[1,{co:i,com:i,edu:i,gov:i,mil:i,net:i,nom:i,org:i}],tn:[1,{com:i,ens:i,fin:i,gov:i,ind:i,info:i,intl:i,mincom:i,nat:i,net:i,org:i,perso:i,tourism:i,orangecloud:s}],to:[1,{611:s,com:i,edu:i,gov:i,mil:i,net:i,org:i,oya:s,x0:s,quickconnect:O,vpnplus:s}],tr:[1,{av:i,bbs:i,bel:i,biz:i,com:i,dr:i,edu:i,gen:i,gov:i,info:i,k12:i,kep:i,mil:i,name:i,net:i,org:i,pol:i,tel:i,tsk:i,tv:i,web:i,nc:g}],tt:[1,{biz:i,co:i,com:i,edu:i,gov:i,info:i,mil:i,name:i,net:i,org:i,pro:i}],tv:[1,{"better-than":s,dyndns:s,"on-the-web":s,"worse-than":s,from:s,sakura:s}],tw:[1,{club:i,com:[1,{mymailer:s}],ebiz:i,edu:i,game:i,gov:i,idv:i,mil:i,net:i,org:i,url:s,mydns:s}],tz:[1,{ac:i,co:i,go:i,hotel:i,info:i,me:i,mil:i,mobi:i,ne:i,or:i,sc:i,tv:i}],ua:[1,{com:i,edu:i,gov:i,in:i,net:i,org:i,cherkassy:i,cherkasy:i,chernigov:i,chernihiv:i,chernivtsi:i,chernovtsy:i,ck:i,cn:i,cr:i,crimea:i,cv:i,dn:i,dnepropetrovsk:i,dnipropetrovsk:i,donetsk:i,dp:i,if:i,"ivano-frankivsk":i,kh:i,kharkiv:i,kharkov:i,kherson:i,khmelnitskiy:i,khmelnytskyi:i,kiev:i,kirovograd:i,km:i,kr:i,kropyvnytskyi:i,krym:i,ks:i,kv:i,kyiv:i,lg:i,lt:i,lugansk:i,luhansk:i,lutsk:i,lv:i,lviv:i,mk:i,mykolaiv:i,nikolaev:i,od:i,odesa:i,odessa:i,pl:i,poltava:i,rivne:i,rovno:i,rv:i,sb:i,sebastopol:i,sevastopol:i,sm:i,sumy:i,te:i,ternopil:i,uz:i,uzhgorod:i,uzhhorod:i,vinnica:i,vinnytsia:i,vn:i,volyn:i,yalta:i,zakarpattia:i,zaporizhzhe:i,zaporizhzhia:i,zhitomir:i,zhytomyr:i,zp:i,zt:i,cc:s,inf:s,ltd:s,cx:s,ie:s,biz:s,co:s,pp:s,v:s}],ug:[1,{ac:i,co:i,com:i,edu:i,go:i,gov:i,mil:i,ne:i,or:i,org:i,sc:i,us:i}],uk:[1,{ac:i,co:[1,{bytemark:[0,{dh:s,vm:s}],layershift:Dt,barsy:s,barsyonline:s,retrosnub:ge,"nh-serv":s,"no-ip":s,adimo:s,myspreadshop:s}],gov:[1,{api:s,campaign:s,service:s}],ltd:i,me:i,net:i,nhs:i,org:[1,{glug:s,lug:s,lugs:s,affinitylottery:s,raffleentry:s,weeklylottery:s}],plc:i,police:i,sch:S,conn:s,copro:s,hosp:s,"independent-commission":s,"independent-inquest":s,"independent-inquiry":s,"independent-panel":s,"independent-review":s,"public-inquiry":s,"royal-commission":s,pymnt:s,barsy:s,nimsite:s,oraclegovcloudapps:u}],us:[1,{dni:i,isa:i,nsn:i,ak:ve,al:ve,ar:ve,as:ve,az:ve,ca:ve,co:ve,ct:ve,dc:ve,de:[1,{cc:i,lib:s}],fl:ve,ga:ve,gu:ve,hi:et,ia:ve,id:ve,il:ve,in:ve,ks:ve,ky:ve,la:ve,ma:[1,{k12:[1,{chtr:i,paroch:i,pvt:i}],cc:i,lib:i}],md:ve,me:ve,mi:[1,{k12:i,cc:i,lib:i,"ann-arbor":i,cog:i,dst:i,eaton:i,gen:i,mus:i,tec:i,washtenaw:i}],mn:ve,mo:ve,ms:ve,mt:ve,nc:ve,nd:et,ne:ve,nh:ve,nj:ve,nm:ve,nv:ve,ny:ve,oh:ve,ok:ve,or:ve,pa:ve,pr:ve,ri:et,sc:ve,sd:et,tn:ve,tx:ve,ut:ve,va:ve,vi:ve,vt:ve,wa:ve,wi:ve,wv:[1,{cc:i}],wy:ve,cloudns:s,"is-by":s,"land-4-sale":s,"stuff-4-sale":s,heliohost:s,enscaled:[0,{phx:s}],mircloud:s,ngo:s,golffan:s,noip:s,pointto:s,freeddns:s,srv:[2,{gh:s,gl:s}],platterp:s,servername:s}],uy:[1,{com:i,edu:i,gub:i,mil:i,net:i,org:i}],uz:[1,{co:i,com:i,net:i,org:i}],va:i,vc:[1,{com:i,edu:i,gov:i,mil:i,net:i,org:i,gv:[2,{d:s}],"0e":u,mydns:s}],ve:[1,{arts:i,bib:i,co:i,com:i,e12:i,edu:i,emprende:i,firm:i,gob:i,gov:i,info:i,int:i,mil:i,net:i,nom:i,org:i,rar:i,rec:i,store:i,tec:i,web:i}],vg:[1,{edu:i}],vi:[1,{co:i,com:i,k12:i,net:i,org:i}],vn:[1,{ac:i,ai:i,biz:i,com:i,edu:i,gov:i,health:i,id:i,info:i,int:i,io:i,name:i,net:i,org:i,pro:i,angiang:i,bacgiang:i,backan:i,baclieu:i,bacninh:i,"baria-vungtau":i,bentre:i,binhdinh:i,binhduong:i,binhphuoc:i,binhthuan:i,camau:i,cantho:i,caobang:i,daklak:i,daknong:i,danang:i,dienbien:i,dongnai:i,dongthap:i,gialai:i,hagiang:i,haiduong:i,haiphong:i,hanam:i,hanoi:i,hatinh:i,haugiang:i,hoabinh:i,hungyen:i,khanhhoa:i,kiengiang:i,kontum:i,laichau:i,lamdong:i,langson:i,laocai:i,longan:i,namdinh:i,nghean:i,ninhbinh:i,ninhthuan:i,phutho:i,phuyen:i,quangbinh:i,quangnam:i,quangngai:i,quangninh:i,quangtri:i,soctrang:i,sonla:i,tayninh:i,thaibinh:i,thainguyen:i,thanhhoa:i,thanhphohochiminh:i,thuathienhue:i,tiengiang:i,travinh:i,tuyenquang:i,vinhlong:i,vinhphuc:i,yenbai:i}],vu:Lt,wf:[1,{biz:s,sch:s}],ws:[1,{com:i,edu:i,gov:i,net:i,org:i,advisor:u,cloud66:s,dyndns:s,mypets:s}],yt:[1,{org:s}],"xn--mgbaam7a8h":i,\u0627\u0645\u0627\u0631\u0627\u062A:i,"xn--y9a3aq":i,\u0570\u0561\u0575:i,"xn--54b7fta0cc":i,\u09AC\u09BE\u0982\u09B2\u09BE:i,"xn--90ae":i,\u0431\u0433:i,"xn--mgbcpq6gpa1a":i,\u0627\u0644\u0628\u062D\u0631\u064A\u0646:i,"xn--90ais":i,\u0431\u0435\u043B:i,"xn--fiqs8s":i,\u4E2D\u56FD:i,"xn--fiqz9s":i,\u4E2D\u570B:i,"xn--lgbbat1ad8j":i,\u0627\u0644\u062C\u0632\u0627\u0626\u0631:i,"xn--wgbh1c":i,\u0645\u0635\u0631:i,"xn--e1a4c":i,\u0435\u044E:i,"xn--qxa6a":i,\u03B5\u03C5:i,"xn--mgbah1a3hjkrd":i,\u0645\u0648\u0631\u064A\u062A\u0627\u0646\u064A\u0627:i,"xn--node":i,\u10D2\u10D4:i,"xn--qxam":i,\u03B5\u03BB:i,"xn--j6w193g":[1,{"xn--gmqw5a":i,"xn--55qx5d":i,"xn--mxtq1m":i,"xn--wcvs22d":i,"xn--uc0atv":i,"xn--od0alg":i}],\u9999\u6E2F:[1,{\u500B\u4EBA:i,\u516C\u53F8:i,\u653F\u5E9C:i,\u6559\u80B2:i,\u7D44\u7E54:i,\u7DB2\u7D61:i}],"xn--2scrj9c":i,\u0CAD\u0CBE\u0CB0\u0CA4:i,"xn--3hcrj9c":i,\u0B2D\u0B3E\u0B30\u0B24:i,"xn--45br5cyl":i,\u09AD\u09BE\u09F0\u09A4:i,"xn--h2breg3eve":i,\u092D\u093E\u0930\u0924\u092E\u094D:i,"xn--h2brj9c8c":i,\u092D\u093E\u0930\u094B\u0924:i,"xn--mgbgu82a":i,\u0680\u0627\u0631\u062A:i,"xn--rvc1e0am3e":i,\u0D2D\u0D3E\u0D30\u0D24\u0D02:i,"xn--h2brj9c":i,\u092D\u093E\u0930\u0924:i,"xn--mgbbh1a":i,\u0628\u0627\u0631\u062A:i,"xn--mgbbh1a71e":i,\u0628\u06BE\u0627\u0631\u062A:i,"xn--fpcrj9c3d":i,\u0C2D\u0C3E\u0C30\u0C24\u0C4D:i,"xn--gecrj9c":i,\u0AAD\u0ABE\u0AB0\u0AA4:i,"xn--s9brj9c":i,\u0A2D\u0A3E\u0A30\u0A24:i,"xn--45brj9c":i,\u09AD\u09BE\u09B0\u09A4:i,"xn--xkc2dl3a5ee0h":i,\u0B87\u0BA8\u0BCD\u0BA4\u0BBF\u0BAF\u0BBE:i,"xn--mgba3a4f16a":i,\u0627\u06CC\u0631\u0627\u0646:i,"xn--mgba3a4fra":i,\u0627\u064A\u0631\u0627\u0646:i,"xn--mgbtx2b":i,\u0639\u0631\u0627\u0642:i,"xn--mgbayh7gpa":i,\u0627\u0644\u0627\u0631\u062F\u0646:i,"xn--3e0b707e":i,\uD55C\uAD6D:i,"xn--80ao21a":i,\u049B\u0430\u0437:i,"xn--q7ce6a":i,\u0EA5\u0EB2\u0EA7:i,"xn--fzc2c9e2c":i,\u0DBD\u0D82\u0D9A\u0DCF:i,"xn--xkc2al3hye2a":i,\u0B87\u0BB2\u0B99\u0BCD\u0B95\u0BC8:i,"xn--mgbc0a9azcg":i,\u0627\u0644\u0645\u063A\u0631\u0628:i,"xn--d1alf":i,\u043C\u043A\u0434:i,"xn--l1acc":i,\u043C\u043E\u043D:i,"xn--mix891f":i,\u6FB3\u9580:i,"xn--mix082f":i,\u6FB3\u95E8:i,"xn--mgbx4cd0ab":i,\u0645\u0644\u064A\u0633\u064A\u0627:i,"xn--mgb9awbf":i,\u0639\u0645\u0627\u0646:i,"xn--mgbai9azgqp6j":i,\u067E\u0627\u06A9\u0633\u062A\u0627\u0646:i,"xn--mgbai9a5eva00b":i,\u067E\u0627\u0643\u0633\u062A\u0627\u0646:i,"xn--ygbi2ammx":i,\u0641\u0644\u0633\u0637\u064A\u0646:i,"xn--90a3ac":[1,{"xn--80au":i,"xn--90azh":i,"xn--d1at":i,"xn--c1avg":i,"xn--o1ac":i,"xn--o1ach":i}],\u0441\u0440\u0431:[1,{\u0430\u043A:i,\u043E\u0431\u0440:i,\u043E\u0434:i,\u043E\u0440\u0433:i,\u043F\u0440:i,\u0443\u043F\u0440:i}],"xn--p1ai":i,\u0440\u0444:i,"xn--wgbl6a":i,\u0642\u0637\u0631:i,"xn--mgberp4a5d4ar":i,\u0627\u0644\u0633\u0639\u0648\u062F\u064A\u0629:i,"xn--mgberp4a5d4a87g":i,\u0627\u0644\u0633\u0639\u0648\u062F\u06CC\u0629:i,"xn--mgbqly7c0a67fbc":i,\u0627\u0644\u0633\u0639\u0648\u062F\u06CC\u06C3:i,"xn--mgbqly7cvafr":i,\u0627\u0644\u0633\u0639\u0648\u062F\u064A\u0647:i,"xn--mgbpl2fh":i,\u0633\u0648\u062F\u0627\u0646:i,"xn--yfro4i67o":i,\u65B0\u52A0\u5761:i,"xn--clchc0ea0b2g2a9gcd":i,\u0B9A\u0BBF\u0B99\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0BC2\u0BB0\u0BCD:i,"xn--ogbpf8fl":i,\u0633\u0648\u0631\u064A\u0629:i,"xn--mgbtf8fl":i,\u0633\u0648\u0631\u064A\u0627:i,"xn--o3cw4h":[1,{"xn--o3cyx2a":i,"xn--12co0c3b4eva":i,"xn--m3ch0j3a":i,"xn--h3cuzk1di":i,"xn--12c1fe0br":i,"xn--12cfi8ixb8l":i}],\u0E44\u0E17\u0E22:[1,{\u0E17\u0E2B\u0E32\u0E23:i,\u0E18\u0E38\u0E23\u0E01\u0E34\u0E08:i,\u0E40\u0E19\u0E47\u0E15:i,\u0E23\u0E31\u0E10\u0E1A\u0E32\u0E25:i,\u0E28\u0E36\u0E01\u0E29\u0E32:i,\u0E2D\u0E07\u0E04\u0E4C\u0E01\u0E23:i}],"xn--pgbs0dh":i,\u062A\u0648\u0646\u0633:i,"xn--kpry57d":i,\u53F0\u7063:i,"xn--kprw13d":i,\u53F0\u6E7E:i,"xn--nnx388a":i,\u81FA\u7063:i,"xn--j1amh":i,\u0443\u043A\u0440:i,"xn--mgb2ddes":i,\u0627\u0644\u064A\u0645\u0646:i,xxx:i,ye:c,za:[0,{ac:i,agric:i,alt:i,co:i,edu:i,gov:i,grondar:i,law:i,mil:i,net:i,ngo:i,nic:i,nis:i,nom:i,org:i,school:i,tm:i,web:i}],zm:[1,{ac:i,biz:i,co:i,com:i,edu:i,gov:i,info:i,mil:i,net:i,org:i,sch:i}],zw:[1,{ac:i,co:i,gov:i,mil:i,org:i}],aaa:i,aarp:i,abb:i,abbott:i,abbvie:i,abc:i,able:i,abogado:i,abudhabi:i,academy:[1,{official:s}],accenture:i,accountant:i,accountants:i,aco:i,actor:i,ads:i,adult:i,aeg:i,aetna:i,afl:i,africa:i,agakhan:i,agency:i,aig:i,airbus:i,airforce:i,airtel:i,akdn:i,alibaba:i,alipay:i,allfinanz:i,allstate:i,ally:i,alsace:i,alstom:i,amazon:i,americanexpress:i,americanfamily:i,amex:i,amfam:i,amica:i,amsterdam:i,analytics:i,android:i,anquan:i,anz:i,aol:i,apartments:i,app:[1,{adaptable:s,aiven:s,beget:u,brave:d,clerk:s,clerkstage:s,wnext:s,csb:[2,{preview:s}],deta:s,ondigitalocean:s,easypanel:s,encr:s,evervault:h,expo:m,edgecompute:s,"on-fleek":s,flutterflow:s,framer:s,hosted:u,run:u,web:s,hasura:s,botdash:s,loginline:s,lovable:s,medusajs:s,messerli:s,netfy:s,netlify:s,ngrok:s,"ngrok-free":s,developer:u,noop:s,northflank:u,upsun:u,replit:p,nyat:s,snowflake:[0,{"*":s,privatelink:u}],streamlit:s,storipress:s,telebit:s,typedream:s,vercel:s,bookonline:s,wdh:s,zeabur:s,zerops:u}],apple:i,aquarelle:i,arab:i,aramco:i,archi:i,army:i,art:i,arte:i,asda:i,associates:i,athleta:i,attorney:i,auction:i,audi:i,audible:i,audio:i,auspost:i,author:i,auto:i,autos:i,aws:[1,{sagemaker:[0,{"ap-northeast-1":_,"ap-northeast-2":_,"ap-south-1":_,"ap-southeast-1":_,"ap-southeast-2":_,"ca-central-1":E,"eu-central-1":_,"eu-west-1":_,"eu-west-2":_,"us-east-1":E,"us-east-2":E,"us-west-2":E,"af-south-1":w,"ap-east-1":w,"ap-northeast-3":w,"ap-south-2":k,"ap-southeast-3":w,"ap-southeast-4":k,"ca-west-1":[0,{notebook:s,"notebook-fips":s}],"eu-central-2":w,"eu-north-1":w,"eu-south-1":w,"eu-south-2":w,"eu-west-3":w,"il-central-1":w,"me-central-1":w,"me-south-1":w,"sa-east-1":w,"us-gov-east-1":T,"us-gov-west-1":T,"us-west-1":[0,{notebook:s,"notebook-fips":s,studio:s}],experiments:u}],repost:[0,{private:u}],on:[0,{"ap-northeast-1":b,"ap-southeast-1":b,"ap-southeast-2":b,"eu-central-1":b,"eu-north-1":b,"eu-west-1":b,"us-east-1":b,"us-east-2":b,"us-west-2":b}]}],axa:i,azure:i,baby:i,baidu:i,banamex:i,band:i,bank:i,bar:i,barcelona:i,barclaycard:i,barclays:i,barefoot:i,bargains:i,baseball:i,basketball:[1,{aus:s,nz:s}],bauhaus:i,bayern:i,bbc:i,bbt:i,bbva:i,bcg:i,bcn:i,beats:i,beauty:i,beer:i,bentley:i,berlin:i,best:i,bestbuy:i,bet:i,bharti:i,bible:i,bid:i,bike:i,bing:i,bingo:i,bio:i,black:i,blackfriday:i,blockbuster:i,blog:i,bloomberg:i,blue:i,bms:i,bmw:i,bnpparibas:i,boats:i,boehringer:i,bofa:i,bom:i,bond:i,boo:i,book:i,booking:i,bosch:i,bostik:i,boston:i,bot:i,boutique:i,box:i,bradesco:i,bridgestone:i,broadway:i,broker:i,brother:i,brussels:i,build:[1,{v0:s}],builders:[1,{cloudsite:s}],business:x,buy:i,buzz:i,bzh:i,cab:i,cafe:i,cal:i,call:i,calvinklein:i,cam:i,camera:i,camp:[1,{emf:[0,{at:s}]}],canon:i,capetown:i,capital:i,capitalone:i,car:i,caravan:i,cards:i,care:i,career:i,careers:i,cars:i,casa:[1,{nabu:[0,{ui:s}]}],case:i,cash:i,casino:i,catering:i,catholic:i,cba:i,cbn:i,cbre:i,center:i,ceo:i,cern:i,cfa:i,cfd:i,chanel:i,channel:i,charity:i,chase:i,chat:i,cheap:i,chintai:i,christmas:i,chrome:i,church:i,cipriani:i,circle:i,cisco:i,citadel:i,citi:i,citic:i,city:i,claims:i,cleaning:i,click:i,clinic:i,clinique:i,clothing:i,cloud:[1,{elementor:s,encoway:[0,{eu:s}],statics:u,ravendb:s,axarnet:[0,{"es-1":s}],diadem:s,jelastic:[0,{vip:s}],jele:s,"jenv-aruba":[0,{aruba:[0,{eur:[0,{it1:s}]}],it1:s}],keliweb:[2,{cs:s}],oxa:[2,{tn:s,uk:s}],primetel:[2,{uk:s}],reclaim:[0,{ca:s,uk:s,us:s}],trendhosting:[0,{ch:s,de:s}],jotelulu:s,kuleuven:s,laravel:s,linkyard:s,magentosite:u,matlab:s,observablehq:s,perspecta:s,vapor:s,"on-rancher":u,scw:[0,{baremetal:[0,{"fr-par-1":s,"fr-par-2":s,"nl-ams-1":s}],"fr-par":[0,{cockpit:s,fnc:[2,{functions:s}],k8s:R,s3:s,"s3-website":s,whm:s}],instances:[0,{priv:s,pub:s}],k8s:s,"nl-ams":[0,{cockpit:s,k8s:R,s3:s,"s3-website":s,whm:s}],"pl-waw":[0,{cockpit:s,k8s:R,s3:s,"s3-website":s}],scalebook:s,smartlabeling:s}],servebolt:s,onstackit:[0,{runs:s}],trafficplex:s,"unison-services":s,urown:s,voorloper:s,zap:s}],club:[1,{cloudns:s,jele:s,barsy:s}],clubmed:i,coach:i,codes:[1,{owo:u}],coffee:i,college:i,cologne:i,commbank:i,community:[1,{nog:s,ravendb:s,myforum:s}],company:i,compare:i,computer:i,comsec:i,condos:i,construction:i,consulting:i,contact:i,contractors:i,cooking:i,cool:[1,{elementor:s,de:s}],corsica:i,country:i,coupon:i,coupons:i,courses:i,cpa:i,credit:i,creditcard:i,creditunion:i,cricket:i,crown:i,crs:i,cruise:i,cruises:i,cuisinella:i,cymru:i,cyou:i,dad:i,dance:i,data:i,date:i,dating:i,datsun:i,day:i,dclk:i,dds:i,deal:i,dealer:i,deals:i,degree:i,delivery:i,dell:i,deloitte:i,delta:i,democrat:i,dental:i,dentist:i,desi:i,design:[1,{graphic:s,bss:s}],dev:[1,{"12chars":s,myaddr:s,panel:s,lcl:u,lclstage:u,stg:u,stgstage:u,pages:s,r2:s,workers:s,deno:s,"deno-staging":s,deta:s,evervault:h,fly:s,githubpreview:s,gateway:u,hrsn:[2,{psl:[0,{sub:s,wc:[0,{"*":s,sub:u}]}]}],botdash:s,inbrowser:u,"is-a-good":s,"is-a":s,iserv:s,runcontainers:s,localcert:[0,{user:u}],loginline:s,barsy:s,mediatech:s,modx:s,ngrok:s,"ngrok-free":s,"is-a-fullstack":s,"is-cool":s,"is-not-a":s,localplayer:s,xmit:s,"platter-app":s,replit:[2,{archer:s,bones:s,canary:s,global:s,hacker:s,id:s,janeway:s,kim:s,kira:s,kirk:s,odo:s,paris:s,picard:s,pike:s,prerelease:s,reed:s,riker:s,sisko:s,spock:s,staging:s,sulu:s,tarpit:s,teams:s,tucker:s,wesley:s,worf:s}],crm:[0,{d:u,w:u,wa:u,wb:u,wc:u,wd:u,we:u,wf:u}],vercel:s,webhare:u}],dhl:i,diamonds:i,diet:i,digital:[1,{cloudapps:[2,{london:s}]}],direct:[1,{libp2p:s}],directory:i,discount:i,discover:i,dish:i,diy:i,dnp:i,docs:i,doctor:i,dog:i,domains:i,dot:i,download:i,drive:i,dtv:i,dubai:i,dunlop:i,dupont:i,durban:i,dvag:i,dvr:i,earth:i,eat:i,eco:i,edeka:i,education:x,email:[1,{crisp:[0,{on:s}],tawk:Bt,tawkto:Bt}],emerck:i,energy:i,engineer:i,engineering:i,enterprises:i,epson:i,equipment:i,ericsson:i,erni:i,esq:i,estate:[1,{compute:u}],eurovision:i,eus:[1,{party:De}],events:[1,{koobin:s,co:s}],exchange:i,expert:i,exposed:i,express:i,extraspace:i,fage:i,fail:i,fairwinds:i,faith:i,family:i,fan:i,fans:i,farm:[1,{storj:s}],farmers:i,fashion:i,fast:i,fedex:i,feedback:i,ferrari:i,ferrero:i,fidelity:i,fido:i,film:i,final:i,finance:i,financial:x,fire:i,firestone:i,firmdale:i,fish:i,fishing:i,fit:i,fitness:i,flickr:i,flights:i,flir:i,florist:i,flowers:i,fly:i,foo:i,food:i,football:i,ford:i,forex:i,forsale:i,forum:i,foundation:i,fox:i,free:i,fresenius:i,frl:i,frogans:i,frontier:i,ftr:i,fujitsu:i,fun:i,fund:i,furniture:i,futbol:i,fyi:i,gal:i,gallery:i,gallo:i,gallup:i,game:i,games:[1,{pley:s,sheezy:s}],gap:i,garden:i,gay:[1,{pages:s}],gbiz:i,gdn:[1,{cnpy:s}],gea:i,gent:i,genting:i,george:i,ggee:i,gift:i,gifts:i,gives:i,giving:i,glass:i,gle:i,global:i,globo:i,gmail:i,gmbh:i,gmo:i,gmx:i,godaddy:i,gold:i,goldpoint:i,golf:i,goo:i,goodyear:i,goog:[1,{cloud:s,translate:s,usercontent:u}],google:i,gop:i,got:i,grainger:i,graphics:i,gratis:i,green:i,gripe:i,grocery:i,group:[1,{discourse:s}],gucci:i,guge:i,guide:i,guitars:i,guru:i,hair:i,hamburg:i,hangout:i,haus:i,hbo:i,hdfc:i,hdfcbank:i,health:[1,{hra:s}],healthcare:i,help:i,helsinki:i,here:i,hermes:i,hiphop:i,hisamitsu:i,hitachi:i,hiv:i,hkt:i,hockey:i,holdings:i,holiday:i,homedepot:i,homegoods:i,homes:i,homesense:i,honda:i,horse:i,hospital:i,host:[1,{cloudaccess:s,freesite:s,easypanel:s,fastvps:s,myfast:s,tempurl:s,wpmudev:s,jele:s,mircloud:s,wp2:s,half:s}],hosting:[1,{opencraft:s}],hot:i,hotels:i,hotmail:i,house:i,how:i,hsbc:i,hughes:i,hyatt:i,hyundai:i,ibm:i,icbc:i,ice:i,icu:i,ieee:i,ifm:i,ikano:i,imamat:i,imdb:i,immo:i,immobilien:i,inc:i,industries:i,infiniti:i,ing:i,ink:i,institute:i,insurance:i,insure:i,international:i,intuit:i,investments:i,ipiranga:i,irish:i,ismaili:i,ist:i,istanbul:i,itau:i,itv:i,jaguar:i,java:i,jcb:i,jeep:i,jetzt:i,jewelry:i,jio:i,jll:i,jmp:i,jnj:i,joburg:i,jot:i,joy:i,jpmorgan:i,jprs:i,juegos:i,juniper:i,kaufen:i,kddi:i,kerryhotels:i,kerryproperties:i,kfh:i,kia:i,kids:i,kim:i,kindle:i,kitchen:i,kiwi:i,koeln:i,komatsu:i,kosher:i,kpmg:i,kpn:i,krd:[1,{co:s,edu:s}],kred:i,kuokgroup:i,kyoto:i,lacaixa:i,lamborghini:i,lamer:i,lancaster:i,land:i,landrover:i,lanxess:i,lasalle:i,lat:i,latino:i,latrobe:i,law:i,lawyer:i,lds:i,lease:i,leclerc:i,lefrak:i,legal:i,lego:i,lexus:i,lgbt:i,lidl:i,life:i,lifeinsurance:i,lifestyle:i,lighting:i,like:i,lilly:i,limited:i,limo:i,lincoln:i,link:[1,{myfritz:s,cyon:s,dweb:u,inbrowser:u,nftstorage:[0,{ipfs:s}],mypep:s}],live:[1,{aem:s,hlx:s,ewp:u}],living:i,llc:i,llp:i,loan:i,loans:i,locker:i,locus:i,lol:[1,{omg:s}],london:i,lotte:i,lotto:i,love:i,lpl:i,lplfinancial:i,ltd:i,ltda:i,lundbeck:i,luxe:i,luxury:i,madrid:i,maif:i,maison:i,makeup:i,man:i,management:i,mango:i,map:i,market:i,marketing:i,markets:i,marriott:i,marshalls:i,mattel:i,mba:i,mckinsey:i,med:i,media:lt,meet:i,melbourne:i,meme:i,memorial:i,men:i,menu:[1,{barsy:s,barsyonline:s}],merck:i,merckmsd:i,miami:i,microsoft:i,mini:i,mint:i,mit:i,mitsubishi:i,mlb:i,mls:i,mma:i,mobile:i,moda:i,moe:i,moi:i,mom:[1,{ind:s}],monash:i,money:i,monster:i,mormon:i,mortgage:i,moscow:i,moto:i,motorcycles:i,mov:i,movie:i,msd:i,mtn:i,mtr:i,music:i,nab:i,nagoya:i,navy:i,nba:i,nec:i,netbank:i,netflix:i,network:[1,{alces:u,co:s,arvo:s,azimuth:s,tlon:s}],neustar:i,new:i,news:[1,{noticeable:s}],next:i,nextdirect:i,nexus:i,nfl:i,ngo:i,nhk:i,nico:i,nike:i,nikon:i,ninja:i,nissan:i,nissay:i,nokia:i,norton:i,now:i,nowruz:i,nowtv:i,nra:i,nrw:i,ntt:i,nyc:i,obi:i,observer:i,office:i,okinawa:i,olayan:i,olayangroup:i,ollo:i,omega:i,one:[1,{kin:u,service:s}],ong:[1,{obl:s}],onl:i,online:[1,{eero:s,"eero-stage":s,websitebuilder:s,barsy:s}],ooo:i,open:i,oracle:i,orange:[1,{tech:s}],organic:i,origins:i,osaka:i,otsuka:i,ott:i,ovh:[1,{nerdpol:s}],page:[1,{aem:s,hlx:s,hlx3:s,translated:s,codeberg:s,heyflow:s,prvcy:s,rocky:s,pdns:s,plesk:s}],panasonic:i,paris:i,pars:i,partners:i,parts:i,party:i,pay:i,pccw:i,pet:i,pfizer:i,pharmacy:i,phd:i,philips:i,phone:i,photo:i,photography:i,photos:lt,physio:i,pics:i,pictet:i,pictures:[1,{1337:s}],pid:i,pin:i,ping:i,pink:i,pioneer:i,pizza:[1,{ngrok:s}],place:x,play:i,playstation:i,plumbing:i,plus:i,pnc:i,pohl:i,poker:i,politie:i,porn:i,pramerica:i,praxi:i,press:i,prime:i,prod:i,productions:i,prof:i,progressive:i,promo:i,properties:i,property:i,protection:i,pru:i,prudential:i,pub:[1,{id:u,kin:u,barsy:s}],pwc:i,qpon:i,quebec:i,quest:i,racing:i,radio:i,read:i,realestate:i,realtor:i,realty:i,recipes:i,red:i,redstone:i,redumbrella:i,rehab:i,reise:i,reisen:i,reit:i,reliance:i,ren:i,rent:i,rentals:i,repair:i,report:i,republican:i,rest:i,restaurant:i,review:i,reviews:i,rexroth:i,rich:i,richardli:i,ricoh:i,ril:i,rio:i,rip:[1,{clan:s}],rocks:[1,{myddns:s,stackit:s,"lima-city":s,webspace:s}],rodeo:i,rogers:i,room:i,rsvp:i,rugby:i,ruhr:i,run:[1,{development:s,ravendb:s,liara:[2,{iran:s}],servers:s,build:u,code:u,database:u,migration:u,onporter:s,repl:s,stackit:s,val:[0,{express:s,web:s}],wix:s}],rwe:i,ryukyu:i,saarland:i,safe:i,safety:i,sakura:i,sale:i,salon:i,samsclub:i,samsung:i,sandvik:i,sandvikcoromant:i,sanofi:i,sap:i,sarl:i,sas:i,save:i,saxo:i,sbi:i,sbs:i,scb:i,schaeffler:i,schmidt:i,scholarships:i,school:i,schule:i,schwarz:i,science:i,scot:[1,{gov:[2,{service:s}]}],search:i,seat:i,secure:i,security:i,seek:i,select:i,sener:i,services:[1,{loginline:s}],seven:i,sew:i,sex:i,sexy:i,sfr:i,shangrila:i,sharp:i,shell:i,shia:i,shiksha:i,shoes:i,shop:[1,{base:s,hoplix:s,barsy:s,barsyonline:s,shopware:s}],shopping:i,shouji:i,show:i,silk:i,sina:i,singles:i,site:[1,{square:s,canva:N,cloudera:u,convex:s,cyon:s,fastvps:s,heyflow:s,jele:s,jouwweb:s,loginline:s,barsy:s,notion:s,omniwe:s,opensocial:s,madethis:s,platformsh:u,tst:u,byen:s,srht:s,novecore:s,cpanel:s,wpsquared:s}],ski:i,skin:i,sky:i,skype:i,sling:i,smart:i,smile:i,sncf:i,soccer:i,social:i,softbank:i,software:i,sohu:i,solar:i,solutions:i,song:i,sony:i,soy:i,spa:i,space:[1,{myfast:s,heiyu:s,hf:[2,{static:s}],"app-ionos":s,project:s,uber:s,xs4all:s}],sport:i,spot:i,srl:i,stada:i,staples:i,star:i,statebank:i,statefarm:i,stc:i,stcgroup:i,stockholm:i,storage:i,store:[1,{barsy:s,sellfy:s,shopware:s,storebase:s}],stream:i,studio:i,study:i,style:i,sucks:i,supplies:i,supply:i,support:[1,{barsy:s}],surf:i,surgery:i,suzuki:i,swatch:i,swiss:i,sydney:i,systems:[1,{knightpoint:s}],tab:i,taipei:i,talk:i,taobao:i,target:i,tatamotors:i,tatar:i,tattoo:i,tax:i,taxi:i,tci:i,tdk:i,team:[1,{discourse:s,jelastic:s}],tech:[1,{cleverapps:s}],technology:x,temasek:i,tennis:i,teva:i,thd:i,theater:i,theatre:i,tiaa:i,tickets:i,tienda:i,tips:i,tires:i,tirol:i,tjmaxx:i,tjx:i,tkmaxx:i,tmall:i,today:[1,{prequalifyme:s}],tokyo:i,tools:[1,{addr:cn,myaddr:s}],top:[1,{ntdll:s,wadl:u}],toray:i,toshiba:i,total:i,tours:i,town:i,toyota:i,toys:i,trade:i,trading:i,training:i,travel:i,travelers:i,travelersinsurance:i,trust:i,trv:i,tube:i,tui:i,tunes:i,tushu:i,tvs:i,ubank:i,ubs:i,unicom:i,university:i,uno:i,uol:i,ups:i,vacations:i,vana:i,vanguard:i,vegas:i,ventures:i,verisign:i,versicherung:i,vet:i,viajes:i,video:i,vig:i,viking:i,villas:i,vin:i,vip:i,virgin:i,visa:i,vision:i,viva:i,vivo:i,vlaanderen:i,vodka:i,volvo:i,vote:i,voting:i,voto:i,voyage:i,wales:i,walmart:i,walter:i,wang:i,wanggou:i,watch:i,watches:i,weather:i,weatherchannel:i,webcam:i,weber:i,website:lt,wed:i,wedding:i,weibo:i,weir:i,whoswho:i,wien:i,wiki:lt,williamhill:i,win:i,windows:i,wine:i,winners:i,wme:i,wolterskluwer:i,woodside:i,work:i,works:i,world:i,wow:i,wtc:i,wtf:i,xbox:i,xerox:i,xihuan:i,xin:i,"xn--11b4c3d":i,\u0915\u0949\u092E:i,"xn--1ck2e1b":i,\u30BB\u30FC\u30EB:i,"xn--1qqw23a":i,\u4F5B\u5C71:i,"xn--30rr7y":i,\u6148\u5584:i,"xn--3bst00m":i,\u96C6\u56E2:i,"xn--3ds443g":i,\u5728\u7EBF:i,"xn--3pxu8k":i,\u70B9\u770B:i,"xn--42c2d9a":i,\u0E04\u0E2D\u0E21:i,"xn--45q11c":i,\u516B\u5366:i,"xn--4gbrim":i,\u0645\u0648\u0642\u0639:i,"xn--55qw42g":i,\u516C\u76CA:i,"xn--55qx5d":i,\u516C\u53F8:i,"xn--5su34j936bgsg":i,\u9999\u683C\u91CC\u62C9:i,"xn--5tzm5g":i,\u7F51\u7AD9:i,"xn--6frz82g":i,\u79FB\u52A8:i,"xn--6qq986b3xl":i,\u6211\u7231\u4F60:i,"xn--80adxhks":i,\u043C\u043E\u0441\u043A\u0432\u0430:i,"xn--80aqecdr1a":i,\u043A\u0430\u0442\u043E\u043B\u0438\u043A:i,"xn--80asehdb":i,\u043E\u043D\u043B\u0430\u0439\u043D:i,"xn--80aswg":i,\u0441\u0430\u0439\u0442:i,"xn--8y0a063a":i,\u8054\u901A:i,"xn--9dbq2a":i,\u05E7\u05D5\u05DD:i,"xn--9et52u":i,\u65F6\u5C1A:i,"xn--9krt00a":i,\u5FAE\u535A:i,"xn--b4w605ferd":i,\u6DE1\u9A6C\u9521:i,"xn--bck1b9a5dre4c":i,\u30D5\u30A1\u30C3\u30B7\u30E7\u30F3:i,"xn--c1avg":i,\u043E\u0440\u0433:i,"xn--c2br7g":i,\u0928\u0947\u091F:i,"xn--cck2b3b":i,\u30B9\u30C8\u30A2:i,"xn--cckwcxetd":i,\u30A2\u30DE\u30BE\u30F3:i,"xn--cg4bki":i,\uC0BC\uC131:i,"xn--czr694b":i,\u5546\u6807:i,"xn--czrs0t":i,\u5546\u5E97:i,"xn--czru2d":i,\u5546\u57CE:i,"xn--d1acj3b":i,\u0434\u0435\u0442\u0438:i,"xn--eckvdtc9d":i,\u30DD\u30A4\u30F3\u30C8:i,"xn--efvy88h":i,\u65B0\u95FB:i,"xn--fct429k":i,\u5BB6\u96FB:i,"xn--fhbei":i,\u0643\u0648\u0645:i,"xn--fiq228c5hs":i,\u4E2D\u6587\u7F51:i,"xn--fiq64b":i,\u4E2D\u4FE1:i,"xn--fjq720a":i,\u5A31\u4E50:i,"xn--flw351e":i,\u8C37\u6B4C:i,"xn--fzys8d69uvgm":i,\u96FB\u8A0A\u76C8\u79D1:i,"xn--g2xx48c":i,\u8D2D\u7269:i,"xn--gckr3f0f":i,\u30AF\u30E9\u30A6\u30C9:i,"xn--gk3at1e":i,\u901A\u8CA9:i,"xn--hxt814e":i,\u7F51\u5E97:i,"xn--i1b6b1a6a2e":i,\u0938\u0902\u0917\u0920\u0928:i,"xn--imr513n":i,\u9910\u5385:i,"xn--io0a7i":i,\u7F51\u7EDC:i,"xn--j1aef":i,\u043A\u043E\u043C:i,"xn--jlq480n2rg":i,\u4E9A\u9A6C\u900A:i,"xn--jvr189m":i,\u98DF\u54C1:i,"xn--kcrx77d1x4a":i,\u98DE\u5229\u6D66:i,"xn--kput3i":i,\u624B\u673A:i,"xn--mgba3a3ejt":i,\u0627\u0631\u0627\u0645\u0643\u0648:i,"xn--mgba7c0bbn0a":i,\u0627\u0644\u0639\u0644\u064A\u0627\u0646:i,"xn--mgbab2bd":i,\u0628\u0627\u0632\u0627\u0631:i,"xn--mgbca7dzdo":i,\u0627\u0628\u0648\u0638\u0628\u064A:i,"xn--mgbi4ecexp":i,\u0643\u0627\u062B\u0648\u0644\u064A\u0643:i,"xn--mgbt3dhd":i,\u0647\u0645\u0631\u0627\u0647:i,"xn--mk1bu44c":i,\uB2F7\uCEF4:i,"xn--mxtq1m":i,\u653F\u5E9C:i,"xn--ngbc5azd":i,\u0634\u0628\u0643\u0629:i,"xn--ngbe9e0a":i,\u0628\u064A\u062A\u0643:i,"xn--ngbrx":i,\u0639\u0631\u0628:i,"xn--nqv7f":i,\u673A\u6784:i,"xn--nqv7fs00ema":i,\u7EC4\u7EC7\u673A\u6784:i,"xn--nyqy26a":i,\u5065\u5EB7:i,"xn--otu796d":i,\u62DB\u8058:i,"xn--p1acf":[1,{"xn--90amc":s,"xn--j1aef":s,"xn--j1ael8b":s,"xn--h1ahn":s,"xn--j1adp":s,"xn--c1avg":s,"xn--80aaa0cvac":s,"xn--h1aliz":s,"xn--90a1af":s,"xn--41a":s}],\u0440\u0443\u0441:[1,{\u0431\u0438\u0437:s,\u043A\u043E\u043C:s,\u043A\u0440\u044B\u043C:s,\u043C\u0438\u0440:s,\u043C\u0441\u043A:s,\u043E\u0440\u0433:s,\u0441\u0430\u043C\u0430\u0440\u0430:s,\u0441\u043E\u0447\u0438:s,\u0441\u043F\u0431:s,\u044F:s}],"xn--pssy2u":i,\u5927\u62FF:i,"xn--q9jyb4c":i,\u307F\u3093\u306A:i,"xn--qcka1pmc":i,\u30B0\u30FC\u30B0\u30EB:i,"xn--rhqv96g":i,\u4E16\u754C:i,"xn--rovu88b":i,\u66F8\u7C4D:i,"xn--ses554g":i,\u7F51\u5740:i,"xn--t60b56a":i,\uB2F7\uB137:i,"xn--tckwe":i,\u30B3\u30E0:i,"xn--tiq49xqyj":i,\u5929\u4E3B\u6559:i,"xn--unup4y":i,\u6E38\u620F:i,"xn--vermgensberater-ctb":i,verm\u00F6gensberater:i,"xn--vermgensberatung-pwb":i,verm\u00F6gensberatung:i,"xn--vhquv":i,\u4F01\u4E1A:i,"xn--vuq861b":i,\u4FE1\u606F:i,"xn--w4r85el8fhu5dnra":i,\u5609\u91CC\u5927\u9152\u5E97:i,"xn--w4rs40l":i,\u5609\u91CC:i,"xn--xhq521b":i,\u5E7F\u4E1C:i,"xn--zfr164b":i,\u653F\u52A1:i,xyz:[1,{botdash:s,telebit:u}],yachts:i,yahoo:i,yamaxun:i,yandex:i,yodobashi:i,yoga:i,yokohama:i,you:i,youtube:i,yun:i,zappos:i,zara:i,zero:i,zip:i,zone:[1,{cloud66:s,triton:u,stackit:s,lima:s}],zuerich:i}]}();function d1(i,s,l,c){let u=null,d=s;for(;d!==void 0&&(d[0]&c&&(u={index:l+1,isIcann:d[0]===1,isPrivate:d[0]===2}),l!==-1);){const h=d[1];d=Object.prototype.hasOwnProperty.call(h,i[l])?h[i[l]]:h["*"],l-=1}return u}function A6(i,s,l){var c;if(C6(i,s,l))return;const u=i.split("."),d=(s.allowPrivateDomains?2:0)|(s.allowIcannDomains?1:0),h=d1(u,S6,u.length-1,d);if(h!==null){l.isIcann=h.isIcann,l.isPrivate=h.isPrivate,l.publicSuffix=u.slice(h.index+1).join(".");return}const m=d1(u,T6,u.length-1,d);if(m!==null){l.isIcann=m.isIcann,l.isPrivate=m.isPrivate,l.publicSuffix=u.slice(m.index).join(".");return}l.isIcann=!1,l.isPrivate=!1,l.publicSuffix=(c=u[u.length-1])!==null&&c!==void 0?c:null}const Ua=u1();function O6(i,s={}){return E6(i,5,A6,s,u1())}function SR(i,s={}){return resetResult(Ua),parseImpl(i,0,suffixLookup,s,Ua).hostname}function TR(i,s={}){return resetResult(Ua),parseImpl(i,2,suffixLookup,s,Ua).publicSuffix}function AR(i,s={}){return resetResult(Ua),parseImpl(i,3,suffixLookup,s,Ua).domain}function OR(i,s={}){return resetResult(Ua),parseImpl(i,4,suffixLookup,s,Ua).subdomain}function NR(i,s={}){return resetResult(Ua),parseImpl(i,5,suffixLookup,s,Ua).domainWithoutSuffix}const N6=["featurebase.app","fbasedev.com"],RR=null;function f1(i){const s=O6(i),l=s.hostname||"";let c=s.domain;return!c||N6.includes(c)?l:c}function rh(i,s,l=365,c="/",u="lax"){try{const d=f1(window.location.href),h=new Date;h.setTime(h.getTime()+l*24*60*60*1e3),document.cookie=`${i}=${encodeURIComponent(s)};expires=${h.toUTCString()};path=${c};SameSite=${u};domain=${d}`}catch(d){console.warn(`[Featurebase SDK] Error setting cookie ${i}:`,d.message)}}function h1(i){try{const s=f1(window.location.href),l=i+"=",c=document.cookie.split(";");for(let u=0;u<c.length;u++){let d=c[u];for(;d.charAt(0)===" ";)d=d.substring(1,d.length);if(d.indexOf(l)===0){const h=d.split(";");let m=!0;for(let p=1;p<h.length;p++){const g=h[p].trim();if(g.toLowerCase().startsWith("domain=")){const b=g.substring(7).trim();if(!s.endsWith(b)&&!b.startsWith(".")){m=!1;break}}}if(m)return decodeURIComponent(d.substring(l.length,d.length))}}}catch(s){console.warn(`[Featurebase SDK] Error getting cookie ${i}:`,s.message)}return null}function PR(i){rh(i,"",-1)}function ah({anonymousId:i,accessToken:s,organizationId:l}){i&&rh("featurebase-anon-id-"+l,i),s&&rh("featurebase-access-"+l,s)}function oh(i){return{anonymousId:h1("featurebase-anon-id-"+i)||void 0,accessToken:h1("featurebase-access-"+i)||void 0}}var R6=Object.defineProperty,P6=Object.defineProperties,I6=Object.getOwnPropertyDescriptors,m1=Object.getOwnPropertySymbols,M6=Object.prototype.hasOwnProperty,L6=Object.prototype.propertyIsEnumerable,p1=(i,s,l)=>s in i?R6(i,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[s]=l,Bo=(i,s)=>{for(var l in s||(s={}))M6.call(s,l)&&p1(i,l,s[l]);if(m1)for(var l of m1(s))L6.call(s,l)&&p1(i,l,s[l]);return i},D6=(i,s)=>P6(i,I6(s));const IR=U.enum(zl).default("en");class j6 extends EventTarget{constructor(s,l){super(),this.iframe=null,this.observer=null,this.isUpdating=!1,this.embedContainer=null,this.config=this.normalizeConfig(s),this.callback=l}normalizeConfig(s){const l=JSON.parse(JSON.stringify(s));if(l.user||(l.user={}),l.stylingOptions||(l.stylingOptions={}),l.embedOptions.path){let c=l.embedOptions.path;c.startsWith("/")||(c="/"+c),l.embedOptions.path=c}else l.embedOptions.path="/";if(l.embedOptions.routeSyncingBasePath){let c=l.embedOptions.routeSyncingBasePath;c.startsWith("/")||(c="/"+c),c.length>1&&c.endsWith("/")&&(c=c.slice(0,-1)),l.embedOptions.routeSyncingBasePath=c}if(l.embedOptions.filters){let c=l.embedOptions.filters;(c.startsWith("/")||c.startsWith("?"))&&(c=c.substring(1)),l.embedOptions.filters=c}return l}initialize(){this.setupMutationObserver();const s=document.querySelector("[data-featurebase-embed]");s instanceof HTMLElement?(this.embedContainer=s,this.createAndEmbedIframe(s)):console.warn("[Featurebase SDK] No element with data-featurebase-embed found in the DOM. Please add the data-featurebase-embed attribute to the element where you want to embed the widget."),this.setupEventListeners()}setupMutationObserver(){try{this.observer&&this.observer.disconnect(),this.observer=new MutationObserver(s=>{const l=document.querySelector("[data-featurebase-embed]");l&&(this.iframe&&l.contains(this.iframe)||(this.embedContainer=l,this.createAndEmbedIframe(this.embedContainer)))}),this.observer.observe(document.documentElement,{childList:!0,subtree:!0})}catch(s){console.error("[Featurebase SDK] Error setting up MutationObserver:",s)}}createAndEmbedIframe(s){this.iframe&&this.iframe.parentElement&&this.iframe.parentElement.removeChild(this.iframe);const l=document.createElement("iframe");l.id="featurebase-embed-iframe",l.className="featurebase-embed-iframe",l.setAttribute("referrerPolicy","origin"),l.setAttribute("width","100%"),l.setAttribute("height","1px"),l.setAttribute("frameborder","0"),l.classList.add("featurebase-display-none"),l.setAttribute("sandbox","allow-scripts allow-forms allow-same-origin allow-popups allow-popups-to-escape-sandbox allow-top-navigation allow-top-navigation-by-user-activation allow-modals"),l.setAttribute("allow","fullscreen; clipboard-write"),l.setAttribute("data-featurebase-widget","");const c=this.buildIframeSrc();l.setAttribute("src",c),this.iframe=l,s.appendChild(l),this.adjustIframeSize(),l.onload=()=>{var u,d;(u=this.iframe)==null||u.classList.remove("featurebase-display-none"),(d=this.iframe)==null||d.classList.add("featurebase-display-block"),this.sendAuthToIframe(),this.dispatchEvent(new Event("loaded")),this.callback&&this.callback(null,{action:"loaded"})}}buildIframeSrc(){const s=ar()==="production"?`https://${this.config.organization}.featurebase.app`:`https://${this.config.organization}.fbasedev.com`,l=this.config.locale!=="en"?`/${this.config.locale}`:"";let c=this.config.embedOptions.path||"/";c.startsWith("/")||(c="/"+c);const u=this.buildQueryParams().toString();return`${s}${l}${c}${u?"?"+u:""}`}buildQueryParams(){var s,l,c,u,d,h,m,p;const g=new URLSearchParams;if(g.append("embed","true"),(s=this.config.stylingOptions)!=null&&s.hideLogo&&g.append("hideLogo","true"),(l=this.config.stylingOptions)!=null&&l.hideMenu&&g.append("hideMenu","true"),(c=this.config.stylingOptions)!=null&&c.theme&&g.append("theme",(u=this.config.stylingOptions)==null?void 0:u.theme),(d=this.config.user)!=null&&d.jwt&&g.append("jwt",(h=this.config.user)==null?void 0:h.jwt),(m=this.config.user)!=null&&m.metadata&&g.append("metadata",JSON.stringify((p=this.config.user)==null?void 0:p.metadata)),this.config.embedOptions.filters)try{const b=new URLSearchParams(this.config.embedOptions.filters);for(const[w,_]of b)g.has(w)||g.append(w,_)}catch(b){console.warn("[Featurebase SDK] Invalid filters format, skipping.",b)}return g}adjustIframeSize(){if(!this.iframe||!this.embedContainer)return;const s=this.embedContainer.getBoundingClientRect().top;this.iframe.style.display="block",this.iframe.style.height=`calc(100vh - ${s}px)`,this.iframe.style.minHeight="600px"}setupEventListeners(){window.addEventListener("message",this.handlePostMessage.bind(this)),window.addEventListener("resize",this.handleResize.bind(this)),this.setupRouteChangeListeners(),document.addEventListener("identifyAuthChange",this.handleAuthChange.bind(this))}handleResize(){this.adjustIframeSize()}setupRouteChangeListeners(){if(!this.config.embedOptions.routeSyncingBasePath)return;const s=history.pushState.bind(history),l=history.replaceState.bind(history);history.pushState=(...c)=>{const u=s(...c);return window.dispatchEvent(new Event("locationchange")),u},history.replaceState=(...c)=>{const u=l(...c);return window.dispatchEvent(new Event("locationchange")),u},window.addEventListener("popstate",()=>{window.dispatchEvent(new Event("locationchange"))}),window.addEventListener("hashchange",()=>{window.dispatchEvent(new Event("locationchange"))}),window.addEventListener("locationchange",this.handleRouteChange.bind(this))}handleRouteChange(){if(this.isUpdating)return;const s=window.location.pathname+window.location.search+window.location.hash;this.syncPathWithIframe(s)}syncPathWithIframe(s){if(!(!this.iframe||!this.config.embedOptions.routeSyncingBasePath)){this.isUpdating=!0;try{const l=this.config.embedOptions.routeSyncingBasePath;if(s.startsWith(l)){let c=s.substring(l.length)||"/";if(!this.config.locale){const d=c.match(/^\/([a-z]{2})(\/|$)/);if(d){const h=d[0].endsWith("/")?d[0]:d[0]+"/";c=c.substring(h.length-1)||"/"}}this.config.embedOptions.path=c,this.config.embedOptions.filters="";const u=this.buildRouteParams("");this.sendRouteChangeToIframe(c,u)}}finally{setTimeout(()=>{this.isUpdating=!1},50)}}}handlePostMessage(s){const{data:l}=s;if(!(!l||l.target!=="FeaturebaseEmbed"))switch(l.action){case"routeChange":this.handleIframeRouteChange(l);break;case"widgetReady":this.callback&&this.callback(null,{action:"widgetReady"}),this.dispatchEvent(new Event("ready"));break;case"updateMetadata":this.handleMetadataUpdate(l);break;default:break}}handleIframeRouteChange(s){if(!(this.isUpdating||!this.config.embedOptions.routeSyncingBasePath)){this.isUpdating=!0;try{if(s.url){let l=s.url.startsWith("/")?s.url:"/"+s.url,c="",u="";l.includes("?")?[c,u]=l.split("?",2):c=l;const d=new URLSearchParams(u);["embed","hideLogo","hideMenu","theme","jwt","userHash","metadata","commentThreadId","slug"].forEach(p=>{d.delete(p)});const h=d.toString();this.config.embedOptions.path=c,this.config.embedOptions.filters=h;let m;if(c==="/"&&h)m=this.config.embedOptions.routeSyncingBasePath+(h?`?${h}`:"");else{const p=this.config.embedOptions.routeSyncingBasePath;if(!this.config.locale){const b=window.location.pathname,w=(b.startsWith(p)?b.substring(p.length):"").match(/^\/([a-z]{2})(\/|$)/);if(w){const _=w[0].endsWith("/")?w[0]:w[0]+"/";c.match(/^\/([a-z]{2})(\/|$)/)||(c=_+(c.startsWith("/")?c.substring(1):c))}}let g=c+(h?`?${h}`:"");m=p.endsWith("/")&&g.startsWith("/")?p+g.substring(1):p+g}window.history.pushState({},"",m),this.dispatchEvent(new CustomEvent("navigated",{detail:{path:m}}))}}finally{setTimeout(()=>{this.isUpdating=!1},50)}}}handleMetadataUpdate(s){var l;const c=(l=s==null?void 0:s.data)==null?void 0:l.metadata;c&&this.iframe&&this.iframe.contentWindow&&(this.config.user&&(this.config.user.metadata=c),this.iframe.contentWindow.postMessage({target:"FeaturebaseWidget",data:{action:"updateMetadata",metadata:c}},"*"),this.dispatchEvent(new CustomEvent("metadataChanged",{detail:{metadata:c}})))}handleAuthChange(s){s.detail&&s.detail.jwtToken&&(this.config.user&&(this.config.user.jwt=s.detail.jwtToken),this.sendAuthToIframe(),this.dispatchEvent(new CustomEvent("authChanged",{detail:{jwt:s.detail.jwtToken}})))}sendAuthToIframe(){var s;if(this.iframe&&this.iframe.contentWindow&&this.config.user&&(s=this.config.user)!=null&&s.jwt){const l=this.config.embedOptions.path||"/",c=this.buildRouteParams("");this.sendRouteChangeToIframe(l,c)}}navigate(s){if(s&&(s.startsWith("/")||(s="/"+s),this.config.embedOptions.path=s,this.config.embedOptions.filters="",this.iframe)){const l=this.buildRouteParams("");this.sendRouteChangeToIframe(s,l)}}buildRouteParams(s=""){var l,c,u,d,h;const m=new URLSearchParams;if((l=this.config.stylingOptions)!=null&&l.theme&&m.append("theme",this.config.stylingOptions.theme),(c=this.config.stylingOptions)!=null&&c.hideLogo&&m.append("hideLogo","true"),(u=this.config.stylingOptions)!=null&&u.hideMenu&&m.append("hideMenu","true"),(d=this.config.user)!=null&&d.jwt&&m.append("jwt",this.config.user.jwt),(h=this.config.user)!=null&&h.metadata&&m.append("metadata",JSON.stringify(this.config.user.metadata)),s&&s.trim()!=="")try{const p=new URLSearchParams(s);for(const[g,b]of p)m.has(g)||m.append(g,b)}catch(p){console.warn("[Featurebase SDK] Invalid additional filters format, skipping.",p)}if(this.config.embedOptions.filters)try{const p=new URLSearchParams(this.config.embedOptions.filters);for(const[g,b]of p)m.has(g)||m.append(g,b)}catch(p){console.warn("[Featurebase SDK] Invalid config filters format, skipping.",p)}return m.toString()}updateConfig(s,l={}){var c,u;const{refreshIframe:d=!0,notify:h=!0,callback:m}=l,p=JSON.parse(JSON.stringify(this.config)),g=((c=s.embedOptions)==null?void 0:c.path)!==void 0,b=((u=s.embedOptions)==null?void 0:u.filters)!==void 0,w=s.embedOptions!==void 0,_=JSON.parse(JSON.stringify(s));g&&!b&&_.embedOptions&&(_.embedOptions.filters=""),this.config=this.normalizeConfig(D6(Bo(Bo({},this.config),_),{user:Bo(Bo({},this.config.user),_.user||{}),stylingOptions:Bo(Bo({},this.config.stylingOptions),_.stylingOptions||{}),embedOptions:Bo(Bo({},this.config.embedOptions),_.embedOptions||{})}));const k=this.detectConfigChanges(p,this.config);if(d&&this.iframe&&k.length>0)try{const E=k.includes("embedOptions.path"),T=k.includes("embedOptions.filters");if(k.every(S=>S==="embedOptions.path"||S==="embedOptions.filters")){const S=this.buildRouteParams(this.config.embedOptions.filters||"");this.sendRouteChangeToIframe(this.config.embedOptions.path||"/",S)}else if(this.shouldRefreshIframe(k)){const S=this.buildIframeSrc();this.iframe.src=S}else this.sendConfigUpdateToIframe(k);h&&this.dispatchEvent(new CustomEvent("configUpdated",{detail:{changes:k,config:this.config}})),m&&m(null,{action:"configUpdated",changes:k,config:this.config})}catch(E){console.error("[Featurebase SDK] Error updating iframe configuration:",E),m&&m(E instanceof Error?E:new Error(String(E)),null)}else m&&m(null,{action:"configUpdated",changes:k,config:this.config});return this.config}detectConfigChanges(s,l){var c,u,d,h,m,p,g,b,w,_;const k=[];return s.organization!==l.organization&&k.push("organization"),s.locale!==l.locale&&k.push("locale"),((c=s.user)==null?void 0:c.jwt)!==((u=l.user)==null?void 0:u.jwt)&&k.push("user.auth"),JSON.stringify((d=s.user)==null?void 0:d.metadata)!==JSON.stringify((h=l.user)==null?void 0:h.metadata)&&k.push("user.metadata"),(((m=s.stylingOptions)==null?void 0:m.hideMenu)!==((p=l.stylingOptions)==null?void 0:p.hideMenu)||((g=s.stylingOptions)==null?void 0:g.hideLogo)!==((b=l.stylingOptions)==null?void 0:b.hideLogo)||((w=s.stylingOptions)==null?void 0:w.theme)!==((_=l.stylingOptions)==null?void 0:_.theme))&&k.push("stylingOptions"),s.embedOptions.path!==l.embedOptions.path&&k.push("embedOptions.path"),s.embedOptions.filters!==l.embedOptions.filters&&k.push("embedOptions.filters"),s.embedOptions.routeSyncingBasePath!==l.embedOptions.routeSyncingBasePath&&k.push("embedOptions.routeSyncingBasePath"),k}shouldRefreshIframe(s){const l=["organization","locale","user.auth","embedOptions.path","embedOptions.routeSyncingBasePath"];return!0}sendConfigUpdateToIframe(s){var l,c;if(!this.iframe||!this.iframe.contentWindow)return;const u={target:"FeaturebaseWidget",action:"updateConfig",changes:s};s.includes("stylingOptions")&&(u.stylingOptions=this.config.stylingOptions),s.includes("user.metadata")&&(u.metadata=(l=this.config.user)==null?void 0:l.metadata),s.includes("embedOptions.filters")&&(u.filters=(c=this.config.embedOptions)==null?void 0:c.filters),this.iframe.contentWindow.postMessage(u,"*")}destroy(){window.removeEventListener("message",this.handlePostMessage.bind(this)),window.removeEventListener("resize",this.handleResize.bind(this)),document.removeEventListener("identifyAuthChange",this.handleAuthChange.bind(this)),this.observer&&(this.observer.disconnect(),this.observer=null),this.iframe&&this.iframe.parentElement&&(this.iframe.parentElement.removeChild(this.iframe),this.iframe=null)}sendRouteChangeToIframe(s,l){if(!this.iframe||!this.iframe.contentWindow)return;s.startsWith("/")||(s="/"+s);let c=s;if(l&&l.trim()!==""){const d=l.startsWith("?")?l.substring(1):l;c=`${s}${s.includes("?")?"&":"?"}${d}`}const u={type:"changeRoute",route:c};this.iframe.contentWindow.postMessage(u,"*")}}function z6(i,s){const l=new j6(i,s);return l.initialize(),l}const fu="0123456789abcdef";class oi{constructor(s){this.bytes=s}static ofInner(s){if(s.length!==16)throw new TypeError("not 128-bit length");return new oi(s)}static fromFieldsV7(s,l,c,u){if(!Number.isInteger(s)||!Number.isInteger(l)||!Number.isInteger(c)||!Number.isInteger(u)||s<0||l<0||c<0||u<0||s>0xffffffffffff||l>4095||c>1073741823||u>4294967295)throw new RangeError("invalid field value");const d=new Uint8Array(16);return d[0]=s/Ra(2,40),d[1]=s/Ra(2,32),d[2]=s/Ra(2,24),d[3]=s/Ra(2,16),d[4]=s/Ra(2,8),d[5]=s,d[6]=112|l>>>8,d[7]=l,d[8]=128|c>>>24,d[9]=c>>>16,d[10]=c>>>8,d[11]=c,d[12]=u>>>24,d[13]=u>>>16,d[14]=u>>>8,d[15]=u,new oi(d)}static parse(s){var l,c,u,d;let h;switch(s.length){case 32:h=(l=/^[0-9a-f]{32}$/i.exec(s))===null||l===void 0?void 0:l[0];break;case 36:h=(c=/^([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{12})$/i.exec(s))===null||c===void 0?void 0:c.slice(1,6).join("");break;case 38:h=(u=/^\{([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{12})\}$/i.exec(s))===null||u===void 0?void 0:u.slice(1,6).join("");break;case 45:h=(d=/^urn:uuid:([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{12})$/i.exec(s))===null||d===void 0?void 0:d.slice(1,6).join("");break;default:break}if(h){const m=new Uint8Array(16);for(let p=0;p<16;p+=4){const g=parseInt(h.substring(2*p,2*p+8),16);m[p+0]=g>>>24,m[p+1]=g>>>16,m[p+2]=g>>>8,m[p+3]=g}return new oi(m)}else throw new SyntaxError("could not parse UUID string")}toString(){let s="";for(let l=0;l<this.bytes.length;l++)s+=fu.charAt(this.bytes[l]>>>4),s+=fu.charAt(this.bytes[l]&15),(l===3||l===5||l===7||l===9)&&(s+="-");return s}toHex(){let s="";for(let l=0;l<this.bytes.length;l++)s+=fu.charAt(this.bytes[l]>>>4),s+=fu.charAt(this.bytes[l]&15);return s}toJSON(){return this.toString()}getVariant(){const s=this.bytes[8]>>>4;if(s<0)throw new Error("unreachable");if(s<=7)return this.bytes.every(l=>l===0)?"NIL":"VAR_0";if(s<=11)return"VAR_10";if(s<=13)return"VAR_110";if(s<=15)return this.bytes.every(l=>l===255)?"MAX":"VAR_RESERVED";throw new Error("unreachable")}getVersion(){return this.getVariant()==="VAR_10"?this.bytes[6]>>>4:void 0}clone(){return new oi(this.bytes.slice(0))}equals(s){return this.compareTo(s)===0}compareTo(s){for(let l=0;l<16;l++){const c=this.bytes[l]-s.bytes[l];if(c!==0)return Math.sign(c)}return 0}}class g1{constructor(s){this.timestamp=0,this.counter=0,this.random=s!=null?s:F6()}generate(){return this.generateOrResetCore(Date.now(),1e4)}generateOrAbort(){return this.generateOrAbortCore(Date.now(),1e4)}generateOrResetCore(s,l){let c=this.generateOrAbortCore(s,l);return c===void 0&&(this.timestamp=0,c=this.generateOrAbortCore(s,l)),c}generateOrAbortCore(s,l){if(!Number.isInteger(s)||s<1||s>0xffffffffffff)throw new RangeError("`unixTsMs` must be a 48-bit positive integer");if(l<0||l>0xffffffffffff)throw new RangeError("`rollbackAllowance` out of reasonable range");if(s>this.timestamp)this.timestamp=s,this.resetCounter();else if(s+l>=this.timestamp)this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter());else return;return oi.fromFieldsV7(this.timestamp,Math.trunc(this.counter/Ra(2,30)),this.counter&Ra(2,30)-1,this.random.nextUint32())}resetCounter(){this.counter=this.random.nextUint32()*1024+(this.random.nextUint32()&1023)}generateV4(){const s=new Uint8Array(Uint32Array.of(this.random.nextUint32(),this.random.nextUint32(),this.random.nextUint32(),this.random.nextUint32()).buffer);return s[6]=64|s[6]>>>4,s[8]=128|s[8]>>>2,oi.ofInner(s)}}const F6=()=>{if(typeof crypto!="undefined"&&typeof crypto.getRandomValues!="undefined")return new B6;if(typeof UUIDV7_DENY_WEAK_RNG!="undefined"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");return{nextUint32:()=>Math.trunc(Math.random()*65536)*65536+Math.trunc(Math.random()*65536)}};class B6{constructor(){this.buffer=new Uint32Array(8),this.cursor=65535}nextUint32(){return this.cursor>=this.buffer.length&&(crypto.getRandomValues(this.buffer),this.cursor=0),this.buffer[this.cursor++]}}let hu;const b1=()=>W6().toString(),W6=()=>(hu||(hu=new g1)).generate(),MR=()=>U6().toString(),U6=()=>(hu||(hu=new g1)).generateV4();var $6=Object.defineProperty,H6=Object.defineProperties,V6=Object.getOwnPropertyDescriptors,v1=Object.getOwnPropertySymbols,q6=Object.prototype.hasOwnProperty,G6=Object.prototype.propertyIsEnumerable,y1=(i,s,l)=>s in i?$6(i,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[s]=l,w1=(i,s)=>{for(var l in s||(s={}))q6.call(s,l)&&y1(i,l,s[l]);if(v1)for(var l of v1(s))G6.call(s,l)&&y1(i,l,s[l]);return i},_1=(i,s)=>H6(i,V6(s)),k1=(i,s,l)=>new Promise((c,u)=>{var d=p=>{try{m(l.next(p))}catch(g){u(g)}},h=p=>{try{m(l.throw(p))}catch(g){u(g)}},m=p=>p.done?c(p.value):Promise.resolve(p.value).then(d,h);m((l=l.apply(i,s)).next())});const mu=Date.now();class K6{constructor(s,l,c="AND"){this.nextCheckTimer=null,this.hasMatched=!1,this.lastUrl=window.location.href,this.urlObserver=null,this.originalPushState=null,this.originalReplaceState=null,this.urlChangeHandler=null,this.organizationId=s,this.matches=this.normalizeMatches(l),this.clientMatchesRuleOperator=c}start(){this.matches.length!==0&&(console.log("[Featurebase SDK] ClientMatch starting",{matchCount:this.matches.length}),this.setupUrlChangeDetection(),this.scheduleNextEvaluation())}stop(){this.nextCheckTimer&&(clearTimeout(this.nextCheckTimer),this.nextCheckTimer=null),this.urlObserver&&(this.urlObserver.disconnect(),this.urlObserver=null),this.originalPushState&&(history.pushState=this.originalPushState,this.originalPushState=null),this.originalReplaceState&&(history.replaceState=this.originalReplaceState,this.originalReplaceState=null),this.urlChangeHandler&&(window.removeEventListener("popstate",this.urlChangeHandler),window.removeEventListener("hashchange",this.urlChangeHandler),this.urlChangeHandler=null)}normalizeMatches(s){return s.map(l=>{var c;if(Array.isArray(l.rules)&&l.matchType)return _1(w1({},l),{trigger:{operator:"AND",clientPredicateGroup:[{rules:l.rules,matchType:l.matchType,_id:l._id}]}});if((c=l.trigger)!=null&&c.clientPredicateGroup)return l;let u={operator:l.operator||"AND",clientPredicateGroup:[]};return l.clientPredicateGroup&&(u.clientPredicateGroup=l.clientPredicateGroup),_1(w1({},l),{trigger:u})}).filter(l=>l.trigger.clientPredicateGroup.length>0)}setupUrlChangeDetection(){this.urlChangeHandler=()=>{const c=window.location.href;c!==this.lastUrl&&(console.log("[Featurebase SDK] ClientMatch URL changed",{from:this.lastUrl,to:c}),this.lastUrl=c,this.onUrlChange())},window.addEventListener("popstate",this.urlChangeHandler),window.addEventListener("hashchange",this.urlChangeHandler),this.originalPushState=history.pushState,this.originalReplaceState=history.replaceState;const s=this;history.pushState=function(c,u,d){s.originalPushState.call(history,c,u,d),s.urlChangeHandler()},history.replaceState=function(c,u,d){s.originalReplaceState.call(history,c,u,d),s.urlChangeHandler()};let l=null;this.urlObserver=new MutationObserver(()=>{l||(l=setTimeout(()=>{l=null,this.urlChangeHandler()},100))}),this.urlObserver.observe(document.body,{childList:!0,subtree:!0})}onUrlChange(){this.hasMatched||(this.nextCheckTimer&&(clearTimeout(this.nextCheckTimer),this.nextCheckTimer=null),console.log("[Featurebase SDK] ClientMatch re-evaluating due to URL change"),this.evaluate())}scheduleNextEvaluation(){if(this.hasMatched)return;if(this.checkIfCanMatchNow()){console.log("[Featurebase SDK] ClientMatch conditions already met, evaluating now"),this.evaluate();return}const s=this.calculateNextCheckTime();if(s===null){console.log("[Featurebase SDK] ClientMatch no time-based rules to wait for");return}const l=Math.max(0,s-Date.now());console.log("[Featurebase SDK] ClientMatch next check in",Math.ceil(l/1e3),"seconds"),this.nextCheckTimer=setTimeout(()=>{this.nextCheckTimer=null,this.evaluate()},l)}checkIfCanMatchNow(){console.log("[Featurebase SDK] ClientMatch checking if can match now",{url:window.location.href,secondsOnPage:this.getSecondsOnPage(),operator:this.clientMatchesRuleOperator});const s=[];for(const l of this.matches){const c=this.evaluateTrigger(l.trigger);s.push(c),console.log("[Featurebase SDK] ClientMatch initial check",{matchId:l._id||l.id,canMatch:c})}return this.clientMatchesRuleOperator==="AND"?s.every(l=>l):s.some(l=>l)}calculateNextCheckTime(){const s=this.getSecondsOnPage();let l=null;for(const c of this.matches){const u=this.extractTimeRules(c.trigger);for(const{operator:d,value:h}of u){const m=Number(h);if(!isNaN(m)&&this.isWaitingOperator(d)){let p=null;d==="greater_than"||d==="gt"?s<=m&&(p=mu+(m+1)*1e3):s<m&&(p=mu+m*1e3),p!==null&&(l===null||p<l)&&(l=p)}}}return l}extractTimeRules(s){var l;const c=[];if(!(s!=null&&s.clientPredicateGroup))return c;for(const u of s.clientPredicateGroup)if(Array.isArray(u.rules))for(const d of u.rules)((l=d.field)==null?void 0:l.toLowerCase())==="time_on_page"&&d.rule&&d.value&&c.push({operator:ih.normalizeOperator(d.rule),value:d.value});return c}isWaitingOperator(s){return["greater_than","greater_than_or_equal","gte","gt","is","equals"].includes(s)}evaluate(){if(this.hasMatched)return;console.log("[Featurebase SDK] ClientMatch evaluating",{secondsOnPage:this.getSecondsOnPage(),operator:this.clientMatchesRuleOperator});const s=[];for(const c of this.matches){const u=this.evaluateTrigger(c.trigger);s.push({match:c,satisfied:u}),console.log("[Featurebase SDK] ClientMatch evaluated",{matchId:c._id||c.id,satisfied:u})}let l=null;if(this.clientMatchesRuleOperator==="AND")s.every(c=>c.satisfied)&&(l=s[0].match,console.log("[Featurebase SDK] ClientMatch AND condition satisfied, all matches met"));else{const c=s.find(u=>u.satisfied);c&&(l=c.match,console.log("[Featurebase SDK] ClientMatch OR condition satisfied",{matchId:l._id||l.id}))}if(l){this.handleMatch(l);return}this.scheduleNextEvaluation()}handleMatch(s){return k1(this,null,function*(){console.log("[Featurebase SDK] ClientMatch matched",{id:s.id||s._id,workflowId:s.workflowId}),this.hasMatched=!0,this.stop();const l=yield this.postMatch(s.workflowId);l!=null&&l.conversationId&&console.log("[Featurebase SDK] ClientMatch conversation created",{conversationId:l.conversationId})})}evaluateTrigger(s){var l;if(!((l=s==null?void 0:s.clientPredicateGroup)!=null&&l.length))return!1;const c=(s.operator||"AND").toUpperCase(),u=s.clientPredicateGroup,d=c==="AND"?u.every(h=>this.evaluateGroup(h)):u.some(h=>this.evaluateGroup(h));return console.log("[Featurebase SDK] ClientMatch trigger result",{operator:c,groupCount:u.length,result:d}),d}evaluateGroup(s){const l=(Array.isArray(s.rules)?s.rules:[]).filter(u=>u.field&&u.rule);if(l.length===0)return!1;const c=s.matchType==="all"?l.every(u=>ih.evaluateRule(u)):l.some(u=>ih.evaluateRule(u));return console.log("[Featurebase SDK] ClientMatch group result",{matchType:s.matchType,ruleCount:l.length,result:c}),c}getSecondsOnPage(){return Math.floor((Date.now()-mu)/1e3)}postMatch(s){return k1(this,null,function*(){if(!s)return console.warn("[Featurebase SDK] ClientMatch skipping POST /match - no workflowId provided"),null;const l=`${ar()==="production"?"https://do.featurebase.app":"https://do.fbasedev.com"}/v1/messenger/widget/match`;try{const c=oh(this.organizationId),u={Accept:"application/json","Content-Type":"application/json","x-organization-id":this.organizationId};c!=null&&c.anonymousId&&(u["x-featurebase-anon-id"]=c.anonymousId),c!=null&&c.accessToken&&(u[`x-featurebase-access-${this.organizationId}`]=c.accessToken),console.log("[Featurebase SDK] ClientMatch POST /match",{orgId:this.organizationId,workflowId:s});const d=yield fetch(l,{method:"POST",headers:u,body:JSON.stringify({workflowId:s}),credentials:"include"});if(!d.ok)return console.warn("[Featurebase SDK] ClientMatch POST failed",d.status),null;const h=yield d.json();return console.log("[Featurebase SDK] ClientMatch POST success",h),h}catch(c){return console.error("[Featurebase SDK] ClientMatch POST error",c),null}})}}class ih{static evaluateRule(s){const l=(s.field||"").toLowerCase(),c=this.normalizeOperator(s.rule),u=s.value;let d=!1;switch(l){case"current_page_url":d=this.evaluateUrlRule(c,u);break;case"time_on_page":d=this.evaluateTimeRule(c,u);break;default:console.warn("[Featurebase SDK] ClientMatch unknown field",l)}return console.log("[Featurebase SDK] ClientMatch rule result",{field:l,operator:c,value:u,result:d}),d}static evaluateUrlRule(s,l){const c=String(l||""),u=window.location.href;let d=!1;switch(s){case"is":case"equals":case"matches":d=this.normalizeUrl(u)===this.normalizeUrl(c);break;case"contains":d=u.includes(c);break;case"does_not_contain":d=!u.includes(c);break;case"starts_with":d=u.startsWith(c);break;case"ends_with":d=u.endsWith(c);break;case"regex":try{d=new RegExp(c).test(u)}catch(h){d=!1}break;case"not":case"is_not":case"not_equals":d=this.normalizeUrl(u)!==this.normalizeUrl(c);break;default:d=!1}return console.log("[Featurebase SDK] ClientMatch URL rule evaluation",{href:u,operator:s,expected:c,result:d}),d}static evaluateTimeRule(s,l){const c=Math.floor((Date.now()-mu)/1e3),u=Number(l||0);if(isNaN(u))return!1;let d=!1;switch(s){case"greater_than":case"gt":d=c>u;break;case"greater_than_or_equal":case"gte":d=c>=u;break;case"less_than":case"lt":d=c<u;break;case"less_than_or_equal":case"lte":d=c<=u;break;case"equals":case"is":d=c===u;break;default:d=!1}return console.log("[Featurebase SDK] ClientMatch time rule evaluation",{currentSeconds:c,operator:s,targetSeconds:u,result:d}),d}static normalizeOperator(s){if(!s)return"";const l=s.toLowerCase().trim().replace(/\s+/g,"_");return{">":"greater_than",">=":"greater_than_or_equal","<":"less_than","<=":"less_than_or_equal","=":"equals","==":"equals","!=":"not_equals",gt:"greater_than",gte:"greater_than_or_equal",lt:"less_than",lte:"less_than_or_equal"}[l]||l}static normalizeUrl(s){try{return s.trim().toLowerCase().replace(/\/$/,"")}catch(l){return s}}}function x1(i,s){const l=s==null?void 0:s.clientMatches;if(!Array.isArray(l)||l.length===0)return null;const c=(s==null?void 0:s.clientMatchesRuleOperator)||"AND",u=new K6(i,l,c);return u.start(),u}function E1(i){console.log("[Featurebase SDK] Server-side match opened conversation",{conversationId:i})}var Y6=Object.defineProperty,J6=Object.defineProperties,Z6=Object.getOwnPropertyDescriptors,C1=Object.getOwnPropertySymbols,X6=Object.prototype.hasOwnProperty,Q6=Object.prototype.propertyIsEnumerable,S1=(i,s,l)=>s in i?Y6(i,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[s]=l,sa=(i,s)=>{for(var l in s||(s={}))X6.call(s,l)&&S1(i,l,s[l]);if(C1)for(var l of C1(s))Q6.call(s,l)&&S1(i,l,s[l]);return i},sh=(i,s)=>J6(i,Z6(s)),Qi=(i,s,l)=>new Promise((c,u)=>{var d=p=>{try{m(l.next(p))}catch(g){u(g)}},h=p=>{try{m(l.throw(p))}catch(g){u(g)}},m=p=>p.done?c(p.value):Promise.resolve(p.value).then(d,h);m((l=l.apply(i,s)).next())}),T1;console.log("[Featurebase SDK] Initializing SDK!");let Wo=null,ao=null,oo=null,es=null,ba=null,ts=null,ns=null,lh=null;const A1={state:"inactive",hasCssTargetedSurveys:!1,hasUrlTargetedSurveys:!1,surveys:[]};let yt=sa({},A1),io=!1,$a=!1,pu=!1,gu=null,gl=null,Cr=null,rs=null,ch=null,Na=null;const uh="featurebase-messenger-container";function O1(){return!!document.getElementById(uh)}function va(){if(Na)return Na;if(O1()){const i=document.getElementById(uh);if(i&&i.__featurebaseAPI)return Na=i.__featurebaseAPI,io=!0,Na}return null}document.addEventListener("identifyAuthChange",i=>Qi(void 0,null,function*(){var s;const l=i;yt.config&&(yt.state==="initializing"||yt.state==="initialized")&&yt.config&&l.detail&&l.detail.jwtToken&&((s=yt.config)==null?void 0:s.jwtToken)!==l.detail.jwtToken&&(yt.config.jwtToken=l.detail.jwtToken,clearInterval(vu),yt.state="initializing",yield P1(I1))}));let xt=null;function bl(i){xt||(xt={}),i.organization&&(xt.organization=i.organization),i.fromWidget&&i!=null&&i.jwt&&(xt.fromWidget=!0),i.jwt&&(!xt.jwt||!(xt!=null&&xt.fromWidget)||xt.jwt&&i!=null&&i.fromWidget)&&(xt.jwt=i.jwt);try{localStorage.setItem("featurebaseGlobalAuth",JSON.stringify(xt)),document.dispatchEvent(new CustomEvent("identifyAuthChange",{detail:xt.jwt?{jwtToken:xt.jwt}:{}}))}catch(s){console.warn("[Featurebase SDK] Error storing global auth to localStorage:",s.message)}}function e7(){try{const i=localStorage.getItem("featurebaseGlobalAuth");if(i){const s=JSON.parse(i);delete s.fromWidget,xt=s,xt&&document.dispatchEvent(new CustomEvent("identifyAuthChange",{detail:xt.jwt?{jwtToken:xt.jwt}:{}}))}}catch(i){console.warn("[Featurebase SDK] Error accessing localStorage for global auth:",i.message)}}const bu={};function so(i){const s=ar()==="production"?"https://do.featurebase.app/js/sdk.css":"http://localhost:5500/dist/sdk.css";return s in bu?bu[s].then(()=>{i&&i()}):(bu[s]=new Promise(l=>{const c=document.querySelector(`link[href="${s}"]`);if(c)c.sheet?l():c.onload=()=>l();else{const u=document.createElement("link");u.href=s,u.rel="stylesheet",u.type="text/css",u.onload=()=>l(),document.head.appendChild(u)}}),bu[s].then(()=>{i&&i()}))}const dh="data-featurebase-link",t7="data-featurebase-link-processed";function n7(i){const s=typeof i=="string"?i:i.theme;if(s!=="light"&&s!=="dark"){console.error('[Featurebase SDK] Invalid theme. Use "light" or "dark"');return}ch=s;const l=va();if(l){console.log("[Featurebase SDK] Setting theme via messenger API:",s),l.setTheme(s);return}console.log("[Featurebase SDK] Messenger not initialized, theme will be applied when initialized")}function N1(i){const s=sa({},i);return delete s.theme,delete s.hideDefaultLauncher,delete s.alignment,delete s.horizontalPadding,delete s.verticalPadding,delete s.editorPreviewModeConfig,s}function R1(i,s,l){switch(i){case"boot":so(()=>{m7(s,l)});break;case"identify":g7(s,l);break;case"initialize_changelog_widget":so(()=>{M1(s,!0,l)});break;case"init_changelog_widget":so(()=>{M1(s,!1,l)});break;case"manually_open_changelog_popup":ba?ba.manuallyOpenChangelogPopup(s):console.warn("[Featurebase SDK] Changelog not initialized. Please call 'initialize_changelog_widget' first.");break;case"set_all_changelogs_as_viewed":ba?ba.setAllAsViewed():console.warn("[Featurebase SDK] Changelog not initialized. Please call 'initialize_changelog_widget' first.");break;case"unviewed_changelog_count":if(ba)return ba.getUnviewedChangelogCount();break;case"initialize_feedback_widget":so(()=>{l7(s,l)});break;case"initialize_portal_widget":so(()=>{c7(s,l)});break;case"initialize_widget":so(()=>{i7(s,l)});break;case"initialize_survey_widget":so(()=>{s7(s)});break;case"open_widget":if(!oo){console.warn("[Featurebase SDK] Widget is not initialized. Please call 'initialize_widget' first.");return}oo.openWidget();break;case"close_widget":oo==null||oo.closeWidget();break;case"toggle_widget":oo==null||oo.toggleWidget();break;case"showNewMessage":if(!O1()){console.warn("[Featurebase SDK] Messenger is not initialized. Please call 'boot' first.");return}const c=va();if(!c){console.warn("[Featurebase SDK] Messenger API not available. Please call 'boot' first.");return}console.log("[Featurebase SDK] Processing showNewMessage command:",s),c.showNewMessage(s);break;case"initialize_popup":ao=ps(s);break;case"open_popup":u7(s);break;case"close_popup":ao==null||ao.closePopup();break;case"toggle_popup":ao==null||ao.togglePopup();break;case"open_screenshot":es==null||es.toggleVisibility(!0);break;case"take_screenshot":es==null||es.captureScreenshot();break;case"close_screenshot":es==null||es.toggleVisibility(!1);break;case"embed":so(()=>{a7(s,l)});break;case"hide":const u=va();u?u.toggle({isOpen:!1}):console.warn("[Featurebase SDK] Messenger not initialized. Please call 'boot' first.");break;case"show":const d=va();if(d){const k=typeof s=="string"?s:void 0;d.toggle({isOpen:!0,page:k})}else console.warn("[Featurebase SDK] Messenger not initialized. Please call 'boot' first.");break;case"onHide":const h=va();h?h.onHide(s):console.warn("[Featurebase SDK] Messenger not initialized. Please call 'boot' first.");break;case"onShow":const m=va();m?m.onShow(s):console.warn("[Featurebase SDK] Messenger not initialized. Please call 'boot' first.");break;case"onUnreadCountChange":const p=va();p?p.onUnreadCountChange(s):console.warn("[Featurebase SDK] Messenger not initialized. Please call 'boot' first.");break;case"showArticle":const g=va();g?g.openHelpCenter({articleId:s}):console.warn("[Featurebase SDK] Messenger not initialized. Please call 'boot' first.");break;case"showChangelog":const b=va();b?b.openChangelog(s):console.warn("[Featurebase SDK] Messenger not initialized. Please call 'boot' first.");break;case"showConversation":const w=va();w?w.openMessages({chatId:s}):console.warn("[Featurebase SDK] Messenger not initialized. Please call 'boot' first.");break;case"setTheme":n7(s);break;case"setLanguage":const _=va();_?_.setLanguage(s):console.warn("[Featurebase SDK] Messenger not initialized. Please call 'boot' first.");break;case"shutdown":h7(l);break;case"init_embed_widget":so(()=>{r7(s,l)});break;default:if(!i){console.warn("[Featurebase SDK] Action is missing.");return}console.warn(`[Featurebase SDK] Action ${i} is not supported.`)}}function P1(i){return Qi(this,null,function*(){var s,l,c;try{yt.state="initializing";let u=(s=yt.config)==null?void 0:s.organization;if(!u){console.warn("[Featurebase SDK] Tried to check for surveys, but organization not provided.");return}u=u.toLowerCase().trim().replace(/[^a-zA-Z0-9]/g,"");const d=ar()==="production"?new URL(`https://${u}.featurebase.app/api/v1/organization/advancedSurvey/available`):new URL(`http://${u}.localhost:3000/api/v1/organization/advancedSurvey/available`);(l=yt.config)!=null&&l.jwtToken&&d.searchParams.append("jwt",(c=yt.config)==null?void 0:c.jwtToken);const h=yield(yield fetch(d.toString())).json();if(!(h!=null&&h.success)){console.warn("[Featurebase SDK] Error fetching surveys");return}const m=h.surveys;let p=[];try{p=JSON.parse(localStorage.getItem("featurebaseRespondedSurveys")||"[]")}catch(g){}yt.surveys=[],yt.hasCssTargetedSurveys=!1,yt.hasUrlTargetedSurveys=!1;for(const g of m)p.includes(g._id)||yt.surveys.push(g);if(i)return i(null,!0)}catch(u){if(console.error("[Featurebase SDK] Error fetching surveys:",u.message),i)return i(u,null)}})}function vl(i,s){return Qi(this,null,function*(){if(!s.jwtToken&&xt!=null&&xt.jwt&&(s.jwtToken=xt.jwt),!s.organization&&xt!=null&&xt.organization&&(s.organization=xt.organization),yt.state!=="initialized"){console.warn("[Featurebase SDK] Survey widget is not initialized yet.");return}yt.state="displaying",Qy({context:s,survey:i},()=>{yt.surveys=yt.surveys.filter(l=>l._id!==i._id),yt.state="initialized"})})}function r7(i,s){var l;try{if(lh)i.embedOptions&&i.embedOptions.filters===void 0&&(i.embedOptions.filters=""),lh.updateConfig(i);else{const c=Py.parse(i);!((l=c.user)!=null&&l.jwt)&&xt!=null&&xt.jwt&&(c.user=sh(sa({},(c==null?void 0:c.user)||{}),{jwt:xt.jwt})),lh=z6(c,s)}}catch(c){console.error("[Featurebase SDK] Error initializing embed widget:",c)}}function a7(i,s){try{if(ns)try{(ns==null?void 0:ns.getActivePage())!==(i==null?void 0:i.initialPage)&&ns.updateActivePage(i==null?void 0:i.initialPage)}catch(l){console.error("[Featurebase SDK] Error updating embed board")}else{const l=Ry.parse(i);(l.email||l.userId)&&!l.jwtToken?l.jwtToken=yl(l):!l.jwtToken&&xt!=null&&xt.jwt&&(l.jwtToken=xt.jwt),o7(l,s),bl({jwt:l==null?void 0:l.jwtToken,organization:l==null?void 0:l.organization})}}catch(l){if(l instanceof U.ZodError)console.error("[Featurebase SDK] Error with action: 'embed'. The Data you provided has validation errors:",l.errors);else throw l}}function o7(i,s){ns=new Dh(i,s),ns.initialize()}function i7(i,s){try{const l=gs.parse(i);!l.jwtToken&&xt!=null&&xt.jwt&&(l.jwtToken=xt.jwt),oo=ra(l,s)}catch(l){if(l instanceof U.ZodError)console.error("[Featurebase SDK] Error with action: 'initialize_widget'. The Data you provided has validation errors:",l.errors);else throw l}}function I1(i,s){return Qi(this,null,function*(){if(i){console.error("[Featurebase SDK] Error fetching surveys:",i.message),yt.state="error";return}yt.surveys&&yt.surveys.length>0&&yt.surveys.some(l=>l.targeting&&l.targeting.url&&l.targeting.url.length>0)&&(yt.hasUrlTargetedSurveys=!0),yt.surveys&&yt.surveys.length>0&&yt.surveys.some(l=>l.targeting&&l.targeting.css&&l.targeting.css.length>0)&&(yt.hasCssTargetedSurveys=!0),yt.state="initialized",p7()})}function yl(i){const s={alg:"HS256",typ:"JWT"},l=vi.encodeURI(JSON.stringify(s)),c=vi.encodeURI(JSON.stringify(sa(sa(sa({},i.email&&{email:i.email}),i.userId&&{userId:i.userId}),i.userHash&&{userHash:i.userHash})));return`${l}.${c}.sdk-feedback`}function s7(i){return Qi(this,null,function*(){try{if(yt.state==="error"&&(yt=sa({},A1)),yt.state!=="inactive"){console.warn("[Featurebase SDK] Survey widget is already initialized or initializing.");return}yt.state="initializing";const s=i;!s.jwtToken&&s!=null&&s.featurebaseJwt&&(s.jwtToken=s.featurebaseJwt),(s.email||s.userId)&&!s.jwtToken?s.jwtToken=yl(s):!s.jwtToken&&xt!=null&&xt.jwt&&(s.jwtToken=xt.jwt),yt.config=s,P1(I1)}catch(s){if(yt.state="error",s instanceof U.ZodError)console.error("[Featurebase SDK] Error with action: 'initialize_survey_widget'. The Data you provided has validation errors:",s.errors);else throw s}})}function M1(i,s=!0,l){try{if(ba===null||xt&&xt.organization!==(i==null?void 0:i.organization)){const c=s?bs.parse(i):Wl.parse(i);!c.jwtToken&&c!=null&&c.featurebaseJwt&&(c.jwtToken=c.featurebaseJwt),(c.email||c.userId)&&!c.jwtToken?c.jwtToken=yl(c):!c.jwtToken&&xt!=null&&xt.jwt&&(c.jwtToken=xt.jwt),ba&&ba.destroy(),ba=Cy(c,s,l),bl({organization:c==null?void 0:c.organization,jwt:c!=null&&c.jwtToken?c.jwtToken:void 0})}else(i==null?void 0:i.theme)!==ba.getWidgetTheme()&&ba.updateWidgetTheme(i.theme)}catch(c){if(c instanceof U.ZodError)console.error("[Featurebase SDK] Error with action: 'initialize_changelog_widget'. The Data you provided has validation errors:",c.errors);else throw c}}function l7(i,s){try{if(ts===null||xt&&xt.organization!==(i==null?void 0:i.organization)){const l=Bl.parse(i);!l.jwtToken&&l!=null&&l.featurebaseJwt&&(l.jwtToken=l.featurebaseJwt),(l.email||l.userId)&&!l.jwtToken?l.jwtToken=yl(l):!l.jwtToken&&xt!=null&&xt.jwt&&(l.jwtToken=xt.jwt),ts&&ts.destroy(),ts=Ay(l,s),bl({organization:l==null?void 0:l.organization,jwt:l!=null&&l.jwtToken?l.jwtToken:void 0})}else(i==null?void 0:i.theme)!==ts.getWidgetTheme()&&ts.updateWidgetTheme(i.theme)}catch(l){if(l instanceof U.ZodError)console.error("[Featurebase SDK] Error with action: 'initialize_feedback_widget'. The Data you provided has validation errors:",l.errors);else throw l}}function c7(i,s){try{if(oo===null||xt&&xt.organization!==(i==null?void 0:i.organization)){const l=gs.parse(i);(l.email||l.userId)&&!l.jwtToken?l.jwtToken=yl(l):!l.jwtToken&&xt!=null&&xt.jwt&&(l.jwtToken=xt.jwt),oo=ra(l,s),bl({jwt:l==null?void 0:l.jwtToken,organization:l==null?void 0:l.organization})}}catch(l){if(l instanceof U.ZodError)console.error("[Featurebase SDK] Error with action: 'initialize_portal_widget'. The Data you provided has validation errors:",l.errors);else throw l}}function u7(i){if(!i||!i.submissionId){console.warn("[Featurebase SDK] You need to provide a submissionId to open the popup.");return}if(!ao){console.warn("[Featurebase SDK] You need to initialize the popup before opening it. Use the `initialize_popup` action.");return}ao.activeSubmissionId=i.submissionId,ao==null||ao.openPopup()}function wl(i){const s=JSON.stringify(i);let l=0;if(s.length===0)return l.toString();for(let c=0;c<s.length;c++){const u=s.charCodeAt(c);l=(l<<5)-l+u,l|=0}return l.toString()}function d7(){try{const i=localStorage.getItem("featurebaseIdentifyData");if(i)return JSON.parse(i)}catch(i){}return null}function f7(i,s){try{localStorage.setItem("featurebaseIdentifyData",JSON.stringify({hash:i,timestamp:s}))}catch(l){}}const fh=i=>{var s,l,c;if(!((s=yt==null?void 0:yt.config)!=null&&s.organization))return{success:!1,error:"Organization not provided"};if(!i.isActive)return{success:!1,error:"Survey is not active"};if((l=i.targeting)!=null&&l.loginRequired&&!((c=yt==null?void 0:yt.config)!=null&&c.jwtToken)&&xt!=null&&xt.jwt)return{success:!1,error:"Login required"};let u=[];try{u=JSON.parse(localStorage.getItem("featurebaseRespondedSurveys")||"[]")}catch(d){}return u.includes(i._id)?{success:!1,error:"Survey already responded"}:{success:!0}};function h7(i){try{if(console.log("[Featurebase SDK] Shutting down messenger..."),!io&&!$a){console.log("[Featurebase SDK] Messenger is not initialized, nothing to shutdown"),i&&i(null,{success:!0,message:"Messenger was not initialized"});return}const s=document.querySelector(".featurebase-messenger-frame-wrapper");if(s&&!s.classList.contains("featurebase-messenger-frame-wrapper-closed")&&s.classList.add("featurebase-messenger-frame-wrapper-closed"),Na&&typeof Na.cleanup=="function")try{Na.cleanup()}catch(l){console.warn("[Featurebase SDK] Error during messenger cleanup:",l)}Na=null,io=!1,$a=!1,Cr&&(Cr.abort(),Cr=null),rs=null,ch=null;try{MS()}catch(l){console.warn("[Featurebase SDK] Error resetting websocket:",l)}setTimeout(()=>{const l=document.getElementById("fb-messenger-root");if(l){for(;l.firstChild;)l.removeChild(l.firstChild);l.remove()}const c=document.getElementById(uh);c&&c.remove();try{localStorage.removeItem("fb-messenger-active-chat-id"),localStorage.removeItem("fb-messenger-chat-page-shown")}catch(d){console.warn("[Featurebase SDK] Error clearing localStorage:",d)}document.querySelectorAll('link[href*="messenger.css"], style[data-featurebase-messenger]').forEach(d=>{try{d.remove()}catch(h){}});const u=window.__featurebase_original_page_title;u&&(document.title=u,delete window.__featurebase_original_page_title),console.log("[Featurebase SDK] Messenger shutdown complete"),i&&i(null,{success:!0,message:"Messenger shutdown complete"})},100)}catch(s){console.error("[Featurebase SDK] Error during messenger shutdown:",s),Na=null,io=!1,$a=!1,i&&i(s,null)}}function m7(i,s){return Qi(this,null,function*(){try{const l=ar()==="production"?"https://do.featurebase.app/js/messenger.css":"http://localhost:5500/dist/messenger.css";let c="";try{const b=yield fetch(l);if(!b.ok)throw new Error(`Failed to fetch messenger CSS: ${b.status}`);c=yield b.text()}catch(b){console.error("[Featurebase SDK] Error fetching messenger CSS:",b)}cw(i);const u=om.parse(i),d=va();if(u.editorPreviewModeConfig){const b=sh(sa({},u),{theme:u.theme||"light"});if(io&&d){const w=d.updateConfig(u.editorPreviewModeConfig,u);s&&s(null,{success:!0,message:"Messenger config updated in preview mode",configUpdated:w}),u.theme&&d&&d.setTheme(u.theme);return}console.log("[Featurebase SDK] Initializing with preview mode config"),$a=!0,Na=o1(b,u.editorPreviewModeConfig,c,(w,_)=>{$a=!1,w||(io=!0),s&&s(w,_)});return}if(d){const b=sa({},i);delete b.theme;const w=rs?sa({},rs):null;w&&delete w.theme;const _=wl(b),k=wl(w);if(_!==k){Cr&&(Cr.abort(),Cr=null),rs=JSON.parse(JSON.stringify(i));const T=new AbortController;Cr=T;const S=oh(u.appId);try{const x=yield fetch(`${ar()==="production"?"https://do.featurebase.app/v1/messenger/widget/config":"https://do.fbasedev.com/v1/messenger/widget/config"}`,{method:"POST",headers:{"Content-Type":"application/json","x-organization-id":u.appId||"","x-featurebase-anon-id":S.anonymousId||b1()},body:JSON.stringify(N1(i)),signal:T.signal});if(!x.ok)throw new Error(`Failed to fetch messenger config: ${x.status}`);const A=yield x.json();if(Cr=null,A.user){const R=A.user.anonymousId,N=A.user.accessToken;(R||N)&&ah({anonymousId:R,accessToken:N,organizationId:A.organization.id})}try{Wo&&(Wo.stop(),Wo=null),Wo=x1(u.appId,A)}catch(R){console.warn("[Featurebase SDK] Failed to start client match loop",R)}try{const R=A==null?void 0:A.clientMatches,N=Array.isArray(R)&&R.length>0;A!=null&&A.bootedConversationId&&!N&&E1(A.bootedConversationId)}catch(R){}d.updateConfig(A,u),s&&s(null,{success:!0,message:"Messenger configuration updated with new auth details"})}catch(x){if(x.name==="AbortError"){console.log("[Featurebase SDK] Previous request canceled due to new request");return}Cr=null,console.error("[Featurebase SDK] Error updating messenger config:",x),s&&s(new Error("Failed to update messenger config"),null)}}else console.log("[Featurebase SDK] Config and input data are the same, no refetch needed.");const E=d.getBootConfig();u.theme&&u.theme!==E.theme&&d.setTheme(u.theme),u.language&&u.language!==E.language&&d.setLanguage(u.language),s&&s(null,{success:!0,message:"Using existing messenger from DOM"});return}if($a){console.log("[Featurebase SDK] Messenger initialization already in progress, checking if data changed");const b=wl(i),w=wl(rs);if(b!==w)console.log("[Featurebase SDK] Data changed, canceling previous request"),Cr&&(Cr.abort(),Cr=null);else{console.log("[Featurebase SDK] Same data as previous request, waiting for completion"),s&&s(null,{success:!0,message:"Messenger initialization already in progress with same data"});return}}$a=!0;const h=new AbortController;Cr=h,rs=JSON.parse(JSON.stringify(i)),io=!0;const m=ar()==="production"?"https://do.featurebase.app/v1/messenger/widget/config":"https://do.fbasedev.com/v1/messenger/widget/config",p=oh(u.appId),g=p.anonymousId||b1();fetch(m,{method:"POST",headers:sa(sa({"Content-Type":"application/json","x-organization-id":u.appId||""},g&&{"x-featurebase-anon-id":g}),!u.email&&!u.userId&&{[`x-featurebase-access-${u.appId}`]:p.accessToken}),body:JSON.stringify(N1(i)),signal:h.signal}).then(b=>{if(!b.ok)throw b.status===401?new Error("Identity verification is enabled, but the provided userHash is invalid."):new Error(`Failed to fetch messenger config: ${b.status}`);return b.json()}).then(b=>{if(Cr=null,b.organization.settings.identityVerificationEnabled&&!u.userHash&&!u.featurebaseJwt&&(u.email||u.userId))throw new Error("[Featurebase SDK] Identity verification is enabled, but no `userHash` or `featurebaseJwt` was provided.");const w=b,_=Zc({organizationId:u.appId,rtm:b.rtm});if(_==null||_.connect(),b.user){const E=b.user.anonymousId,T=b.user.accessToken;(E||T)&&ah({anonymousId:E,accessToken:T,organizationId:b.organization.id})}try{const E=w==null?void 0:w.clientMatches,T=Array.isArray(E)&&E.length>0;w!=null&&w.bootedConversationId&&!T&&E1(w.bootedConversationId)}catch(E){}try{Wo&&(Wo.stop(),Wo=null),Wo=x1(u.appId,w)}catch(E){console.warn("[Featurebase SDK] Failed to start client match loop",E)}const k=sh(sa({},u),{theme:u.theme||"light"});Na=o1(k,w,c,(E,T)=>{$a=!1,E&&(io=!1,console.error("[Featurebase SDK] Error initializing messenger:",E)),s&&s(E,T)})}).catch(b=>{if(b.name==="AbortError"){console.log("[Featurebase SDK] Previous request canceled due to new request");return}Cr=null,console.error("[Featurebase SDK] ",b),$a=!1,io=!1,s&&s(new Error((b==null?void 0:b.message)||"Failed to initialize messenger"),null)})}catch(l){$a=!1,Cr&&(Cr.abort(),Cr=null),console.error(l==null?void 0:l.message),s&&s(new Error((l==null?void 0:l.message)||"Failed to initialize messenger"),null)}})}let vu=null;function p7(){vu&&clearInterval(vu),vu=setInterval(()=>{var i;if(!((i=yt.config)!=null&&i.organization)||document.querySelector(".fb-survey-widget-wrapper")||yt.state!=="initialized"||yt.surveys&&yt.surveys.length===0)return;if(yt.hasUrlTargetedSurveys){const l=yt.surveys.filter(u=>u.targeting&&u.targeting.url&&u.targeting.url.length>0).sort((u,d)=>{var h,m,p,g;return(h=u.targeting)!=null&&h.segmentIds&&((m=u.targeting)==null?void 0:m.segmentIds.length)>0?-1:(p=d.targeting)!=null&&p.segmentIds&&((g=d.targeting)==null?void 0:g.segmentIds.length)>0?1:0}),c=window.location.href;for(const u of l)if(!(!u.targeting||!u.targeting.url))for(const d of u.targeting.url){const{value:h,matchType:m}=d,p=fh(u).success;if(m==="exact"){const g=h.trim().toLowerCase().replace(/\/$/,""),b=c.trim().toLowerCase().replace(/\/$/,"");if(g===b&&p){vl(u,yt.config);return}}else if(m==="contains"&&p){if(c.includes(h)){vl(u,yt.config);return}}else if(m==="regex"&&p)try{if(new RegExp(h).test(c)){vl(u,yt.config);return}}catch(g){console.error(`[Featurebase SDK] Could not show survey "${u.title}". Invalid survey targeting regex provided:`,g),yt.surveys=yt.surveys.filter(b=>b._id!==u._id)}}}if(yt.hasCssTargetedSurveys){const l=yt.surveys.filter(c=>c.targeting&&c.targeting.css&&c.targeting.css.length>0).sort((c,u)=>{var d,h,m,p;return(d=c.targeting)!=null&&d.segmentIds&&((h=c.targeting)==null?void 0:h.segmentIds.length)>0?-1:(m=u.targeting)!=null&&m.segmentIds&&((p=u.targeting)==null?void 0:p.segmentIds.length)>0?1:0});if(l&&l.length>0)for(const c of l){if(!c.targeting||!c.targeting.css||c.targeting.css.length===0||!fh(c).success)continue;const u=c.targeting.css.map(d=>d.value);for(const d of u)try{if(document.querySelectorAll(d).length>0){vl(c,yt.config);return}}catch(h){console.error(`[Featurebase SDK] Could not show survey "${c.title}". Invalid survey targeting CSS selector provided:`,h),yt.surveys=yt.surveys.filter(m=>m._id!==c._id)}}}const s=yt.surveys.filter(l=>!(l.targeting&&l.targeting.css&&l.targeting.css.length>0||l.targeting&&l.targeting.url&&l.targeting.url.length>0)).sort((l,c)=>{var u,d,h,m;return(u=l.targeting)!=null&&u.segmentIds&&((d=l.targeting)==null?void 0:d.segmentIds.length)>0?-1:(h=c.targeting)!=null&&h.segmentIds&&((m=c.targeting)==null?void 0:m.segmentIds.length)>0?1:0});for(const l of s)if(fh(l).success){vl(l,yt.config);return}},5e3)}const L1=30*1e3*20;function g7(i,s){let l;try{l=xu.parse(i)}catch(b){if(b instanceof U.ZodError){console.error("[Featurebase SDK] Error with action: 'identify'. The Data you provided has validation errors:",b.errors),s&&s(b,null);return}else throw b}const c={alg:"HS256",typ:"JWT"},u=vi.encodeURI(JSON.stringify(c)),d=vi.encodeURI(JSON.stringify(l)),h=`${u}.${d}.sdk-identify`;bl({organization:l==null?void 0:l.organization,jwt:h});const m=wl(l),p=d7();if(p&&p.hash===m&&Date.now()-p.timestamp<=L1)return console.warn(`[Featurebase SDK] Skipping 'identify' action because the same data was sent in the last ${L1/1e3}s.`),s&&s(null,null);const g=ar()==="development"?`https://${l.organization}.fbasedev.com/api/v1/user/identify`:`https://${l.organization}.featurebase.app/api/v1/user/identify`;b7(g,l).then(b=>{var w,_;return f7(m,Date.now()),(w=b.access)!=null&&w.token&&(_=b.access)!=null&&_.orgId&&ah({accessToken:b.access.token,organizationId:b.access.orgId}),b}).then(b=>{s&&s(null,b)}).catch(b=>{b.message&&b.message.includes("Invalid user hash")?l.userHash?console.error("[Featurebase SDK] Invalid user hash detected. Please follow the setup guide for Identity Verification at https://help.featurebase.app/articles/4543540"):console.error("[Featurebase SDK] Missing user hash. Please follow the setup guide for Identity Verification at https://help.featurebase.app/articles/4543540"):console.warn(`[Featurebase SDK] Error in 'identify' action: ${b.message}`),s&&s(b,null)})}function b7(i,s){return fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s),credentials:"include"}).then(l=>l.json()).then(l=>{if(!l.success){const c=l.message||"Unknown error";throw new Error(c)}return l.loggedInAsAdmin?console.warn("[Featurebase SDK] Authentication skipped: User is currently logged in with admin privileges. Please log out of the admin account to authenticate as a regular user."):l.adminOfOtherOrg&&console.warn("[Featurebase SDK] Authentication skipped: For security, we don't auto-login users with admin roles in any org. You can test the auto-login feature by using the data of a normal user."),l})}function hh(){document.querySelectorAll(`[${dh}]`).forEach(i=>{const s=i,l=s.getAttribute("href");if(l)try{const c=new URL(l.startsWith("http")?l:`https://${l}`),u=new URLSearchParams(c.search);xt!=null&&xt.jwt?u.set("jwt",xt.jwt):u.delete("jwt"),c.search=u.toString(),s.setAttribute("href",c.toString()),s.setAttribute(t7,"true")}catch(c){console.warn(`[Featurebase SDK] Error updating link: ${l}`,c)}})}function v7(){let i=null;const s=new MutationObserver(l=>{i&&clearTimeout(i),i=setTimeout(()=>{l.some(c=>c.type==="childList"?Array.from(c.addedNodes).some(u=>{if(u.nodeType===Node.ELEMENT_NODE){const d=u;return d.hasAttribute(dh)||d.querySelector(`[${dh}]`)}return!1}):!1)&&hh()},100)});return s.observe(document.body,{childList:!0,subtree:!0}),s}function y7(){pu||(pu=!0,hh(),gu=v7(),gl=i=>{hh()},document.addEventListener("identifyAuthChange",gl))}function LR(){pu&&(gu&&(gu.disconnect(),gu=null),gl&&(document.removeEventListener("identifyAuthChange",gl),gl=null),pu=!1)}const D1=((T1=window.Featurebase)==null?void 0:T1.q)||[];for(let i=0;i<D1.length;i++){const s=D1[i];R1.apply(null,s)}const yu=window;yu.Featurebase||(yu.Featurebase={}),yu.Featurebase.q=[],yu.Featurebase=R1,e7(),y7()})(),Fr})())});C7();})();
